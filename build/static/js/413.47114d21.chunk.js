"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[413],{3026:(n,e,t)=>{t.d(e,{A:()=>d});var i,r=t(7528),o=t(197),a=t(579);const s=o.Ay.div(i||(i=(0,r.A)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  flex-wrap: ",";\n  gap: ",";\n  padding: ",";\n  background: ",";\n"])),(n=>{let{$direction:e}=n;return e||"row"}),(n=>{let{$justifyContent:e}=n;return e||"flex-start"}),(n=>{let{$alignItems:e}=n;return e||"stretch"}),(n=>{let{$wrap:e}=n;return e||"nowrap"}),(n=>{let{$gap:e}=n;return e||"0"}),(n=>{let{$padding:e}=n;return e}),(n=>{let{$background:e}=n;return e||"transparent"})),d=n=>{let{children:e,$direction:t,$justifyContent:i,$alignItems:r,$wrap:o,$gap:d,$padding:l,$background:c,style:u}=n;return(0,a.jsx)(s,{$direction:t,$justifyContent:i,$alignItems:r,$wrap:o,$gap:d,$padding:l,$background:c,style:u,children:e})}},14:(n,e,t)=>{t.d(e,{A:()=>c});var i,r,o=t(7528),a=t(197),s=t(579);const d=(0,a.i7)(i||(i=(0,o.A)(["\n  0% {\n    background-position:100% 0%;\n  }\n  100% {\n    background-position:0% 0%;\n  }\n  "]))),l=a.Ay.div(r||(r=(0,o.A)(["\n  height: ",";\n  width: ",";\n  border-radius: ",";\n  margin: ",";\n  background: linear-gradient(90deg, #1e1e1e 35%, #0a0a0a 50%, #151515 65%);\n  /* background-size: 200px 100%; */\n  background-size: 300% auto;\n  animation: "," 2s infinite linear;\n"])),(n=>{let{height:e}=n;return e}),(n=>{let{width:e}=n;return e}),(n=>{let{$borderradius:e}=n;return e}),(n=>{let{$margin:e}=n;return e}),d),c=n=>{let{width:e,height:t,$borderradius:i,$margin:r}=n;return(0,s.jsx)("div",{children:(0,s.jsx)(l,{width:e,height:t,$borderradius:i,$margin:r})})}},3704:(n,e,t)=>{t.d(e,{A:()=>l});var i,r=t(7528),o=t(5043),a=t(197),s=t(579);const d=(0,a.Ay)((n=>{let{tag:e,children:t,...i}=n;return(0,o.createElement)(e,i,t)}))(i||(i=(0,r.A)(["\n  color: rgb(245, 245, 245);\n"]))),l=n=>{let{tag:e="p",children:t,...i}=n;return(0,s.jsx)(d,{tag:e,style:{...i},children:t})}},940:(n,e,t)=>{t.d(e,{A:()=>r});var i=t(5043);const r=function(n,e){let{threshold:t=.1,root:r=null,rootMargin:o="0%"}=e;const[a,s]=(0,i.useState)(),d=n=>{let[e]=n;s(e)};return(0,i.useEffect)((()=>{const e=null===n||void 0===n?void 0:n.current,i=!!window.IntersectionObserver;if(!e||!i)return;const a=new IntersectionObserver(d,{threshold:t,root:r,rootMargin:o});return a.observe(e),()=>a.disconnect()}),[null===n||void 0===n?void 0:n.current,r,o,JSON.stringify(t)]),a}},4413:(n,e,t)=>{t.r(e),t.d(e,{default:()=>jn});var i=t(7528),r=t(5518),o=t(5043),a=t(5051),s=t(423),d=t(5475),l=t(3216),c=t(197),u=t(8371),g=t(14),h=t(5394),p=t(940);const x=n=>n>=1e4?new Intl.NumberFormat("ko-KR").format(n/1e4)+"\ub9cc":n>=1e3?new Intl.NumberFormat("ko-KR").format(n/1e3)+"\ucc9c":n;var m=t(5714),v=t(5818),f=t(780);const b=()=>{const{fetchNextPage:n,isFetching:e,isFetchingNextPage:t,hasNextPage:i,isLoading:r,data:o,error:a}=(0,m.q)({queryKey:[f.h.myBookmark],queryFn:n=>{let{pageParam:e=1}=n;return(async n=>(await new Promise((n=>setTimeout(n,1e3))),(await v.A.get("/api/myPage/bookmarks/?page=".concat(n))).data))(e)},initialPageParam:1,getNextPageParam:n=>{var e;return(null===n||void 0===n||null===(e=n.posts)||void 0===e?void 0:e.length)>0&&(null===n||void 0===n?void 0:n.page)!==(null===n||void 0===n?void 0:n.totalPage)?n.page+1:void 0}});return{fetchNextPage:n,isFetching:e,isFetchingNextPage:t,hasNextPage:i,isLoading:r,data:o,error:a}};var y,j,w=t(3026),A=t(579);const P=(0,c.i7)(y||(y=(0,i.A)(["\n  0% {\n    background-position:100% 0%;\n  }\n  100% {\n    background-position:0% 0%;\n  }\n  "]))),k=c.Ay.div(j||(j=(0,i.A)(["\n  height: ",";\n  width: ",";\n  border-radius: ",";\n  margin: ",";\n  background: linear-gradient(90deg, #1e1e1e 35%, #0a0a0a 50%, #151515 65%);\n  background-size: 300% auto;\n  animation: "," 2s infinite linear;\n  @media (max-width: 768px) {\n    height: 250px;\n  }\n  @media (max-width: 500px) {\n    height: 100px;\n  }\n"])),(n=>{let{height:e}=n;return e}),(n=>{let{width:e}=n;return e}),(n=>{let{$borderradius:e}=n;return e}),(n=>{let{$margin:e}=n;return e}),P),$=n=>{let{width:e,height:t,$borderradius:i,$margin:r}=n;return(0,A.jsx)("div",{children:(0,A.jsx)(k,{width:e,height:t,$borderradius:i,$margin:r})})};var N,F,z,C,L,M=t(3704);const R=c.Ay.div(N||(N=(0,i.A)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 4px;\n"]))),E=c.Ay.div(F||(F=(0,i.A)(["\n  position: relative;\n  &:hover .hover-box {\n    opacity: 1;\n  }\n"]))),I=c.Ay.div(z||(z=(0,i.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n  font-weight: bold;\n  z-index: 10;\n  background-color: rgba(0, 0, 0, 0.3);\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.3s;\n\n  .icons {\n    font-size: 30px;\n    margin-right: 2px;\n    @media (max-width: 768px) {\n      font-size: 20px;\n    }\n  }\n\n  .chat-icon {\n    font-size: 25px;\n    transform: scaleX(-1);\n    @media (max-width: 768px) {\n      font-size: 20px;\n    }\n  }\n\n  span {\n    @media (max-width: 768px) {\n      font-size: 12px;\n    }\n  }\n"]))),T=c.Ay.img(C||(C=(0,i.A)(["\n  width: 100%;\n  height: 100%;\n  aspect-ratio: 1;\n  cursor: pointer;\n"]))),_=c.Ay.div(L||(L=(0,i.A)(["\n  width: 100%;\n  max-width: 935px;\n  position: absolute;\n  bottom: 10px;\n  display: flex;\n  justify-content: center;\n"]))),q=Array(9).fill(0),O=()=>{var n,e,t;const[i,r]=(0,o.useState)(!1),s=(0,o.useRef)(null),l=(0,p.A)(s,{}),c=!(null===l||void 0===l||!l.isIntersecting),{data:u,isLoading:g,isFetching:m,fetchNextPage:v,hasNextPage:f,isFetchingNextPage:y}=b(),j=(0,o.useCallback)((async()=>{const n=await v();n.isError&&console.log(n.error)}),[v]);return(0,o.useEffect)((()=>{let n;return c&&f&&(n=setTimeout((()=>{j()}),500)),()=>{clearTimeout(n)}}),[j,c,f]),g||0!==(null===u||void 0===u||null===(n=u.pages[0])||void 0===n||null===(e=n.posts)||void 0===e?void 0:e.length)?(0,A.jsxs)(R,{children:[g?q.map(((n,e)=>(0,A.jsx)($,{width:"100%",height:"350px"},e))):(0,A.jsx)(A.Fragment,{children:null===u||void 0===u||null===(t=u.pages)||void 0===t?void 0:t.map((n=>{var e;return null===n||void 0===n||null===(e=n.posts)||void 0===e?void 0:e.map((n=>{var e,t,o,s;return(0,A.jsx)(d.N_,{to:"/post/".concat(null===n||void 0===n||null===(e=n.post)||void 0===e?void 0:e._id),children:(0,A.jsxs)(E,{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[(0,A.jsx)(T,{src:null===n||void 0===n||null===(t=n.post)||void 0===t?void 0:t.images[0],alt:"post-img"}),i&&(0,A.jsx)(I,{className:"hover-box",children:(0,A.jsxs)(w.A,{style:{width:"100%",height:"100%"},$alignItems:"center",$justifyContent:"center",$gap:"4px",children:[(0,A.jsx)(a.n0G,{className:"icons"})," ",(0,A.jsx)("span",{children:x((null===n||void 0===n||null===(o=n.post)||void 0===o?void 0:o.postLikeCount)||0)}),(0,A.jsx)(h.NWn,{className:"icons chat-icon"}),(0,A.jsx)("span",{children:x((null===n||void 0===n||null===(s=n.post)||void 0===s?void 0:s.postCommentCount)||0)})]})})]})},n._id)}))}))}),(m||y)&&(0,A.jsx)(_,{children:(0,A.jsx)("img",{src:"/spinner.svg",alt:"loading",className:"spinner"})}),(0,A.jsx)("div",{ref:s,style:{height:"40px",width:"100%",marginBottom:"40px"}})]}):(0,A.jsx)(M.A,{tag:"p",paddingTop:"5rem",textAlign:"center",children:"\uc544\uc9c1 \uc800\uc7a5\ub41c \uac8c\uc2dc\ubb3c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})};var B=t(3401);const S=()=>{const{fetchNextPage:n,isFetching:e,isFetchingNextPage:t,hasNextPage:i,isLoading:r,data:a,error:s}=(0,m.q)({queryKey:[f.h.myPosts],queryFn:n=>{let{pageParam:e=1}=n;return(async n=>(await new Promise((n=>setTimeout(n,1e3))),(await v.A.get("/api/myPage/?page=".concat(n))).data))(e)},initialPageParam:1,getNextPageParam:n=>{var e;return(null===n||void 0===n||null===(e=n.posts)||void 0===e?void 0:e.length)>0&&n.page!==n.totalPage?n.page+1:void 0}});return(0,o.useEffect)((()=>{s&&B.oR.error("\uac8c\uc2dc\uae00\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}),[s]),{fetchNextPage:n,isFetching:e,isFetchingNextPage:t,hasNextPage:i,isLoading:r,data:a,error:s}};var K,W,X,G,J;const Q=c.Ay.div(K||(K=(0,i.A)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 4px;\n"]))),U=c.Ay.div(W||(W=(0,i.A)(["\n  position: relative;\n  &:hover .hover-box {\n    opacity: 1;\n  }\n"]))),Z=c.Ay.div(X||(X=(0,i.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n  font-weight: bold;\n  z-index: 10;\n  background-color: rgba(0, 0, 0, 0.3);\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.3s;\n\n  .icons {\n    font-size: 30px;\n    margin-right: 2px;\n    @media (max-width: 768px) {\n      font-size: 20px;\n    }\n  }\n\n  .chat-icon {\n    font-size: 25px;\n    transform: scaleX(-1);\n    @media (max-width: 768px) {\n      font-size: 20px;\n    }\n  }\n\n  span {\n    @media (max-width: 768px) {\n      font-size: 12px;\n    }\n  }\n"]))),D=c.Ay.img(G||(G=(0,i.A)(["\n  width: 100%;\n  height: 100%;\n  aspect-ratio: 1;\n  cursor: pointer;\n"]))),H=c.Ay.div(J||(J=(0,i.A)(["\n  width: 100%;\n  max-width: 935px;\n  position: absolute;\n  bottom: 10px;\n  display: flex;\n  justify-content: center;\n"]))),V=Array(9).fill(0),Y=()=>{var n,e,t;const[i,r]=(0,o.useState)(!1),s=(0,o.useRef)(null),l=(0,p.A)(s,{}),c=!(null===l||void 0===l||!l.isIntersecting),{data:u,isLoading:g,isFetching:m,fetchNextPage:v,hasNextPage:f,isFetchingNextPage:b}=S(),y=(0,o.useCallback)((async()=>{const n=await v();n.isError&&console.log(n.error)}),[v]);return(0,o.useEffect)((()=>{let n;return c&&f&&(n=setTimeout((()=>{y()}),500)),()=>{clearTimeout(n)}}),[y,c,f]),!g&&u&&0===(null===u||void 0===u||null===(n=u.pages[0])||void 0===n||null===(e=n.posts)||void 0===e?void 0:e.length)?(0,A.jsx)(M.A,{tag:"p",paddingTop:"5rem",textAlign:"center",children:"\uc544\uc9c1 \uc791\uc131\ud55c \uac8c\uc2dc\ubb3c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,A.jsxs)(Q,{children:[g?V.map(((n,e)=>(0,A.jsx)($,{width:"100%",height:"350px"},e))):(0,A.jsx)(A.Fragment,{children:null===u||void 0===u||null===(t=u.pages)||void 0===t?void 0:t.map((n=>{var e;return null===n||void 0===n||null===(e=n.posts)||void 0===e?void 0:e.map((n=>{var e;return(0,A.jsx)(d.N_,{to:"/post/".concat(null===n||void 0===n?void 0:n._id),children:(0,A.jsxs)(U,{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[(0,A.jsx)(D,{src:null===n||void 0===n||null===(e=n.images)||void 0===e?void 0:e[0],alt:"post-img"}),i&&(0,A.jsx)(Z,{className:"hover-box",children:(0,A.jsxs)(w.A,{style:{width:"100%",height:"100%"},$alignItems:"center",$justifyContent:"center",$gap:"4px",children:[(0,A.jsx)(a.n0G,{className:"icons"})," ",(0,A.jsx)("span",{children:x((null===n||void 0===n?void 0:n.postLikeCount)||0)}),(0,A.jsx)(h.NWn,{className:"icons chat-icon"}),(0,A.jsx)("span",{children:x((null===n||void 0===n?void 0:n.postCommentCount)||0)})]})})]})},n._id)}))}))}),(m||b)&&(0,A.jsx)(H,{children:(0,A.jsx)("img",{src:"/spinner.svg",alt:"loading",className:"spinner"})}),(0,A.jsx)("div",{ref:s,style:{height:"40px",width:"100%",marginBottom:"40px"}})]})};var nn,en,tn,rn,on,an,sn,dn,ln,cn;const un=c.Ay.div(nn||(nn=(0,i.A)(["\n  min-height: 100vh;\n  background: black;\n  overflow: hidden;\n  color: rgb(245, 245, 245);\n  padding: 2rem 0;\n  @media (max-width: 768px) {\n    padding-top: 5rem;\n  }\n"]))),gn=c.Ay.div(en||(en=(0,i.A)(["\n  position: relative;\n  max-width: 935px;\n  margin: 0 auto;\n"]))),hn=c.Ay.div(tn||(tn=(0,i.A)(["\n  position: absolute;\n  top: 2rem;\n  left: 1rem;\n  font-size: 30px;\n  transition: transform 0.3s ease-in-out;\n  cursor: pointer;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  @media (max-width: 768px) {\n    top: -4rem;\n  }\n"]))),pn=c.Ay.div(rn||(rn=(0,i.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),xn=c.Ay.img(on||(on=(0,i.A)(["\n  width: 120px;\n  height: 120px;\n  border-radius: 50%;\n  object-fit: cover;\n  flex-shrink: 0;\n  margin-right: 10px;\n  cursor: pointer;\n"]))),mn=c.Ay.h2(an||(an=(0,i.A)(["\n  font-weight: bold;\n"]))),vn=c.Ay.div(sn||(sn=(0,i.A)(["\n  max-width: 500px;\n  text-align: left;\n  margin: 0.5rem 0rem 1rem 4px;\n  font-size: 14px;\n  white-space: pre;\n\n  button {\n    color: rgb(245, 245, 245);\n    font-weight: bold;\n  }\n"]))),fn=(0,c.Ay)(u.A)(dn||(dn=(0,i.A)(["\n  width: inherit;\n  padding: 12px 16px;\n  background-color: rgb(54, 54, 54);\n  border-radius: 12px;\n  font-size: 14px;\n\n  &:hover {\n    background-color: rgb(35, 35, 35);\n  }\n"]))),bn=c.Ay.ul(ln||(ln=(0,i.A)(["\n  position: relative;\n  margin-top: 2rem;\n  border-top: 1px solid rgb(38, 38, 38);\n  display: flex;\n  justify-content: space-around;\n  font-weight: 600;\n"]))),yn=c.Ay.li(cn||(cn=(0,i.A)(["\n  gap: 5px;\n  font-size: 14px;\n  border-top: ",";\n  color: ",";\n  cursor: pointer;\n  height: 52px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.3s ease;\n\n  &:hover {\n    color: rgb(245, 245, 245);\n  }\n"])),(n=>{let{$clicked:e}=n;return e?" 1px solid rgb(245, 245, 245)":""}),(n=>{let{$clicked:e}=n;return e?"rgb(245, 245, 245)":"rgb(168, 168, 168)"})),jn=()=>{const n=(0,o.useRef)(null),e=(0,o.useRef)(null),[t,i]=(0,o.useState)(!1),[c,u]=(0,o.useState)(0),[h,p]=(0,d.ok)(),x=(0,l.Zp)(),m=h.get("currentTab")||"\uac8c\uc2dc\ubb3c",{user:v,isLoading:f}=(0,r.J)(),b=(n,e)=>{const t=n.currentTarget.offsetLeft;u(t),p({currentTab:e})},y=(0,o.useCallback)((()=>{n.current&&e.current&&("\uac8c\uc2dc\ubb3c"===m?u(n.current.offsetLeft):"\ubd81\ub9c8\ud06c"===m&&u(e.current.offsetLeft))}),[n,e,m]);return(0,o.useEffect)((()=>(n.current&&e.current&&("\uac8c\uc2dc\ubb3c"===m?u(n.current.offsetLeft):"\ubd81\ub9c8\ud06c"===m&&u(e.current.offsetLeft)),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y))),[n,e,m,c,y]),(0,A.jsx)(un,{children:(0,A.jsxs)(gn,{children:[(0,A.jsx)(hn,{onClick:()=>x("/"),children:(0,A.jsx)(s.m6W,{})}),(0,A.jsx)(pn,{children:f?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.A,{width:"120px",height:"120px",$borderradius:"50%"}),(0,A.jsx)(g.A,{width:"80px",height:"20px",$margin:"10px 0 10px 0 "})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(xn,{src:null===v||void 0===v?void 0:v.avatar,alt:""}),(0,A.jsx)(mn,{children:null===v||void 0===v?void 0:v.nickname}),(0,A.jsx)(vn,{children:t||(null===v||void 0===v?void 0:v.introduction)&&(v.introduction.length<=100?v.introduction:(0,A.jsxs)(A.Fragment,{children:[v.introduction.slice(0,100),"...",(0,A.jsx)("button",{onClick:()=>i(!0),children:"\ub354\ubcf4\uae30"})]}))}),(0,A.jsx)(d.N_,{to:"/myPage/edit/".concat(null===v||void 0===v?void 0:v._id),children:(0,A.jsx)(fn,{type:"button",children:"\ud504\ub85c\ud544 \uc218\uc815"})})]})}),(0,A.jsxs)(bn,{children:[(0,A.jsxs)(yn,{ref:n,onClick:n=>b(n,"\uac8c\uc2dc\ubb3c"),$clicked:m&&"\uac8c\uc2dc\ubb3c"===m?"true":"",children:[(0,A.jsx)(a.gXn,{}),"\uac8c\uc2dc\ubb3c"]}),(0,A.jsxs)(yn,{ref:e,onClick:n=>b(n,"\ubd81\ub9c8\ud06c"),$clicked:m&&"\ubd81\ub9c8\ud06c"===m?"true":"",children:[(0,A.jsx)(a.NaU,{})," \ubd81\ub9c8\ud06c"]})]}),"\uac8c\uc2dc\ubb3c"===m&&(0,A.jsx)(Y,{}),"\ubd81\ub9c8\ud06c"===m&&(0,A.jsx)(O,{})]})})}},780:(n,e,t)=>{t.d(e,{h:()=>i});const i={myPosts:"myPosts",myBookmark:"myBookmark"}},5714:(n,e,t)=>{t.d(e,{q:()=>s});var i=t(888),r=t(28),o=class extends i.${constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n,e){super.setOptions({...n,behavior:(0,r.PL)()},e)}getOptimisticResult(n){return n.behavior=(0,r.PL)(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var t,i;const{state:o}=n,a=super.createResult(n,e),{isFetching:s,isRefetching:d}=a,l=s&&"forward"===(null===(t=o.fetchMeta)||void 0===t||null===(t=t.fetchMore)||void 0===t?void 0:t.direction),c=s&&"backward"===(null===(i=o.fetchMeta)||void 0===i||null===(i=i.fetchMore)||void 0===i?void 0:i.direction);return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,r.rB)(e,o.data),hasPreviousPage:(0,r.RQ)(e,o.data),isFetchingNextPage:l,isFetchingPreviousPage:c,isRefetching:d&&!l&&!c}}},a=t(226);function s(n,e){return(0,a.t)(n,o,e)}}}]);
//# sourceMappingURL=413.47114d21.chunk.js.map
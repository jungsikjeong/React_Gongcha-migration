{"version":3,"file":"static/js/317.7c21dc07.chunk.js","mappings":"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","sources":["../node_modules/cropperjs/dist/cropper.js","../node_modules/react-cropper/dist/react-cropper.es.js","../node_modules/react-uuid/uuid.js","../node_modules/browser-image-compression/lib/copyExifWithoutOrientation.js","../node_modules/browser-image-compression/node_modules/uzip/UZIP.js","../node_modules/browser-image-compression/lib/UPNG.js","../node_modules/browser-image-compression/lib/canvastobmp.js","../node_modules/browser-image-compression/lib/config/browser-name.js","../node_modules/browser-image-compression/lib/config/max-canvas-size.js","../node_modules/browser-image-compression/lib/utils.js","../node_modules/browser-image-compression/lib/image-compression.js","../node_modules/browser-image-compression/lib/web-worker.js","../node_modules/browser-image-compression/lib/index.js"],"sourcesContent":["/*!\n * Cropper.js v1.6.1\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-09-17T03:44:19.860Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Cropper = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n      var o = Object.getOwnPropertySymbols(e);\n      r && (o = o.filter(function (r) {\n        return Object.getOwnPropertyDescriptor(e, r).enumerable;\n      })), t.push.apply(t, o);\n    }\n    return t;\n  }\n  function _objectSpread2(e) {\n    for (var r = 1; r < arguments.length; r++) {\n      var t = null != arguments[r] ? arguments[r] : {};\n      r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n        _defineProperty(e, r, t[r]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n        Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n      });\n    }\n    return e;\n  }\n  function _typeof(o) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n      return typeof o;\n    } : function (o) {\n      return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n    }, _typeof(o);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n  function _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n    return arr2;\n  }\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  function _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || \"default\");\n      if (typeof res !== \"object\") return res;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n  }\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n  }\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'cropper';\n\n  // Actions\n  var ACTION_ALL = 'all';\n  var ACTION_CROP = 'crop';\n  var ACTION_MOVE = 'move';\n  var ACTION_ZOOM = 'zoom';\n  var ACTION_EAST = 'e';\n  var ACTION_WEST = 'w';\n  var ACTION_SOUTH = 's';\n  var ACTION_NORTH = 'n';\n  var ACTION_NORTH_EAST = 'ne';\n  var ACTION_NORTH_WEST = 'nw';\n  var ACTION_SOUTH_EAST = 'se';\n  var ACTION_SOUTH_WEST = 'sw';\n\n  // Classes\n  var CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\n  var CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\n  var CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\n\n  // Data keys\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n  var DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\");\n\n  // Drag modes\n  var DRAG_MODE_CROP = 'crop';\n  var DRAG_MODE_MOVE = 'move';\n  var DRAG_MODE_NONE = 'none';\n\n  // Events\n  var EVENT_CROP = 'crop';\n  var EVENT_CROP_END = 'cropend';\n  var EVENT_CROP_MOVE = 'cropmove';\n  var EVENT_CROP_START = 'cropstart';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_READY = 'ready';\n  var EVENT_RESIZE = 'resize';\n  var EVENT_WHEEL = 'wheel';\n  var EVENT_ZOOM = 'zoom';\n\n  // Mime types\n  var MIME_TYPE_JPEG = 'image/jpeg';\n\n  // RegExps\n  var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\n  var REGEXP_DATA_URL = /^data:/;\n  var REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\n  var REGEXP_TAG_NAME = /^img|canvas$/i;\n\n  // Misc\n  // Inspired by the default width and height of a canvas element.\n  var MIN_CONTAINER_WIDTH = 200;\n  var MIN_CONTAINER_HEIGHT = 100;\n\n  var DEFAULTS = {\n    // Define the view mode of the cropper\n    viewMode: 0,\n    // 0, 1, 2, 3\n\n    // Define the dragging mode of the cropper\n    dragMode: DRAG_MODE_CROP,\n    // 'crop', 'move' or 'none'\n\n    // Define the initial aspect ratio of the crop box\n    initialAspectRatio: NaN,\n    // Define the aspect ratio of the crop box\n    aspectRatio: NaN,\n    // An object with the previous cropping result data\n    data: null,\n    // A selector for adding extra containers to preview\n    preview: '',\n    // Re-render the cropper when resize the window\n    responsive: true,\n    // Restore the cropped area after resize the window\n    restore: true,\n    // Check if the current image is a cross-origin image\n    checkCrossOrigin: true,\n    // Check the current image's Exif Orientation information\n    checkOrientation: true,\n    // Show the black modal\n    modal: true,\n    // Show the dashed lines for guiding\n    guides: true,\n    // Show the center indicator for guiding\n    center: true,\n    // Show the white modal to highlight the crop box\n    highlight: true,\n    // Show the grid background\n    background: true,\n    // Enable to crop the image automatically when initialize\n    autoCrop: true,\n    // Define the percentage of automatic cropping area when initializes\n    autoCropArea: 0.8,\n    // Enable to move the image\n    movable: true,\n    // Enable to rotate the image\n    rotatable: true,\n    // Enable to scale the image\n    scalable: true,\n    // Enable to zoom the image\n    zoomable: true,\n    // Enable to zoom the image by dragging touch\n    zoomOnTouch: true,\n    // Enable to zoom the image by wheeling mouse\n    zoomOnWheel: true,\n    // Define zoom ratio when zoom the image by wheeling mouse\n    wheelZoomRatio: 0.1,\n    // Enable to move the crop box\n    cropBoxMovable: true,\n    // Enable to resize the crop box\n    cropBoxResizable: true,\n    // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n    toggleDragModeOnDblclick: true,\n    // Size limitation\n    minCanvasWidth: 0,\n    minCanvasHeight: 0,\n    minCropBoxWidth: 0,\n    minCropBoxHeight: 0,\n    minContainerWidth: MIN_CONTAINER_WIDTH,\n    minContainerHeight: MIN_CONTAINER_HEIGHT,\n    // Shortcuts of events\n    ready: null,\n    cropstart: null,\n    cropmove: null,\n    cropend: null,\n    crop: null,\n    zoom: null\n  };\n\n  var TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n  /**\n   * Check if the given value is not a number.\n   */\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  /**\n   * Check if the given value is a positive number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n   */\n  var isPositiveNumber = function isPositiveNumber(value) {\n    return value > 0 && value < Infinity;\n  };\n\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  var slice = Array.prototype.slice;\n\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        toArray(data).forEach(function (value, key) {\n          callback.call(data, value, key, data);\n        });\n      } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n    return data;\n  }\n\n  /**\n   * Extend the given object.\n   * @param {*} target - The target object to extend.\n   * @param {*} args - The rest objects for merging to the target object.\n   * @returns {Object} The extended object.\n   */\n  var assign = Object.assign || function assign(target) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (isObject(target) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            target[key] = arg[key];\n          });\n        }\n      });\n    }\n    return target;\n  };\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n\n  /**\n   * Normalize decimal number.\n   * Check out {@link https://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n  var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value = \"\".concat(value, \"px\");\n      }\n      style[property] = value;\n    });\n  }\n\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n  function hasClass(element, value) {\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n  function addClass(element, value) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n    var className = element.className.trim();\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n  function removeClass(element, value) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    }\n\n    // IE10-11 doesn't support the second parameter of `classList.toggle`\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n  function toParamCase(value) {\n    return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n  }\n\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n    return element.getAttribute(\"data-\".concat(toParamCase(name)));\n  }\n\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n    }\n  }\n\n  /**\n   * Remove data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to remove.\n   */\n  function removeData(element, name) {\n    if (isObject(element[name])) {\n      try {\n        delete element[name];\n      } catch (error) {\n        element[name] = undefined;\n      }\n    } else if (element.dataset) {\n      // #128 Safari not allows to delete dataset property\n      try {\n        delete element.dataset[name];\n      } catch (error) {\n        element.dataset[name] = undefined;\n      }\n    } else {\n      element.removeAttribute(\"data-\".concat(toParamCase(name)));\n    }\n  }\n  var REGEXP_SPACES = /\\s\\s*/;\n  var onceSupported = function () {\n    var supported = false;\n    if (IS_BROWSER) {\n      var once = false;\n      var listener = function listener() {};\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n    return supported;\n  }();\n\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n      element.removeEventListener(event, handler, options);\n    });\n  }\n\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n          listeners = _element$listeners === void 0 ? {} : _element$listeners;\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          listener.apply(element, args);\n        };\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n      element.addEventListener(event, _handler, options);\n    });\n  }\n\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n  function dispatchEvent(element, type, data) {\n    var event;\n\n    // Event and CustomEvent on IE9-11 are global objects, not constructors\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, {\n        detail: data,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n    return element.dispatchEvent(event);\n  }\n\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  var location = WINDOW.location;\n  var REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n\n  /**\n   * Check if the given URL is a cross origin URL.\n   * @param {string} url - The target URL.\n   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n   */\n  function isCrossOriginURL(url) {\n    var parts = url.match(REGEXP_ORIGINS);\n    return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n  }\n\n  /**\n   * Add timestamp to the given URL.\n   * @param {string} url - The target URL.\n   * @returns {string} The result URL.\n   */\n  function addTimestamp(url) {\n    var timestamp = \"timestamp=\".concat(new Date().getTime());\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n  }\n\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n    var values = [];\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    }\n\n    // Rotate should come first before scale to match orientation transform\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n    var maxRatio = 0;\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        if (Math.abs(ratio) > Math.abs(maxRatio)) {\n          maxRatio = ratio;\n        }\n      });\n    });\n    return maxRatio;\n  }\n\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n        startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n\n  /**\n   * Get the max sizes in a rectangle under the given aspect ratio.\n   * @param {Object} data - The original sizes.\n   * @param {string} [type='contain'] - The adjust type.\n   * @returns {Object} The result sizes.\n   */\n  function getAdjustedSizes(_ref4) {\n    var aspectRatio = _ref4.aspectRatio,\n      height = _ref4.height,\n      width = _ref4.width;\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n    var isValidWidth = isPositiveNumber(width);\n    var isValidHeight = isPositiveNumber(height);\n    if (isValidWidth && isValidHeight) {\n      var adjustedWidth = height * aspectRatio;\n      if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n        height = width / aspectRatio;\n      } else {\n        width = height * aspectRatio;\n      }\n    } else if (isValidWidth) {\n      height = width / aspectRatio;\n    } else if (isValidHeight) {\n      width = height * aspectRatio;\n    }\n    return {\n      width: width,\n      height: height\n    };\n  }\n\n  /**\n   * Get the new sizes of a rectangle after rotated.\n   * @param {Object} data - The original sizes.\n   * @returns {Object} The result sizes.\n   */\n  function getRotatedSizes(_ref5) {\n    var width = _ref5.width,\n      height = _ref5.height,\n      degree = _ref5.degree;\n    degree = Math.abs(degree) % 180;\n    if (degree === 90) {\n      return {\n        width: height,\n        height: width\n      };\n    }\n    var arc = degree % 90 * Math.PI / 180;\n    var sinArc = Math.sin(arc);\n    var cosArc = Math.cos(arc);\n    var newWidth = width * cosArc + height * sinArc;\n    var newHeight = width * sinArc + height * cosArc;\n    return degree > 90 ? {\n      width: newHeight,\n      height: newWidth\n    } : {\n      width: newWidth,\n      height: newHeight\n    };\n  }\n\n  /**\n   * Get a canvas which drew the given image.\n   * @param {HTMLImageElement} image - The image for drawing.\n   * @param {Object} imageData - The image data.\n   * @param {Object} canvasData - The canvas data.\n   * @param {Object} options - The options.\n   * @returns {HTMLCanvasElement} The result canvas.\n   */\n  function getSourceCanvas(image, _ref6, _ref7, _ref8) {\n    var imageAspectRatio = _ref6.aspectRatio,\n      imageNaturalWidth = _ref6.naturalWidth,\n      imageNaturalHeight = _ref6.naturalHeight,\n      _ref6$rotate = _ref6.rotate,\n      rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n      _ref6$scaleX = _ref6.scaleX,\n      scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n      _ref6$scaleY = _ref6.scaleY,\n      scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n    var aspectRatio = _ref7.aspectRatio,\n      naturalWidth = _ref7.naturalWidth,\n      naturalHeight = _ref7.naturalHeight;\n    var _ref8$fillColor = _ref8.fillColor,\n      fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n      _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n      imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n      _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n      imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n      _ref8$maxWidth = _ref8.maxWidth,\n      maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n      _ref8$maxHeight = _ref8.maxHeight,\n      maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n      _ref8$minWidth = _ref8.minWidth,\n      minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n      _ref8$minHeight = _ref8.minHeight,\n      minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n    var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight));\n\n    // Note: should always use image's natural sizes for drawing as\n    // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n    var destMaxSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var destMinSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n    var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n    var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = fillColor;\n    context.fillRect(0, 0, width, height);\n    context.save();\n    context.translate(width / 2, height / 2);\n    context.rotate(rotate * Math.PI / 180);\n    context.scale(scaleX, scaleY);\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n    context.imageSmoothingQuality = imageSmoothingQuality;\n    context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    context.restore();\n    return canvas;\n  }\n  var fromCharCode = String.fromCharCode;\n\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    length += start;\n    for (var i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n    return str;\n  }\n  var REGEXP_DATA_URL_HEAD = /^data:.*,/;\n\n  /**\n   * Transform Data URL to array buffer.\n   * @param {string} dataURL - The Data URL to transform.\n   * @returns {ArrayBuffer} The result array buffer.\n   */\n  function dataURLToArrayBuffer(dataURL) {\n    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n    var binary = atob(base64);\n    var arrayBuffer = new ArrayBuffer(binary.length);\n    var uint8 = new Uint8Array(arrayBuffer);\n    forEach(uint8, function (value, i) {\n      uint8[i] = binary.charCodeAt(i);\n    });\n    return arrayBuffer;\n  }\n\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = [];\n\n    // Chunk Typed Array for better performance (#435)\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation;\n\n    // Ignores range error when the image does not have correct Exif information\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart;\n\n      // Only handle JPEG image (start by 0xFFD8)\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n          offset += 1;\n        }\n      }\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n          if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n            if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n              var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n              if (firstIFDOffset >= 0x00000008) {\n                ifdStart = tiffOffset + firstIFDOffset;\n              }\n            }\n          }\n        }\n      }\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n        var _offset;\n        var i;\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n            // 8 is the offset of the current tag's value\n            _offset += 8;\n\n            // Get the original orientation value\n            orientation = dataView.getUint16(_offset, littleEndian);\n\n            // Override the orientation with its default value\n            dataView.setUint16(_offset, 1, littleEndian);\n            break;\n          }\n        }\n      }\n    } catch (error) {\n      orientation = 1;\n    }\n    return orientation;\n  }\n\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n\n      // Rotate left 180\n      case 3:\n        rotate = -180;\n        break;\n\n      // Flip vertical\n      case 4:\n        scaleY = -1;\n        break;\n\n      // Flip vertical and rotate right 90\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n\n      // Rotate right 90\n      case 6:\n        rotate = 90;\n        break;\n\n      // Flip horizontal and rotate right 90\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n\n      // Rotate left 90\n      case 8:\n        rotate = -90;\n        break;\n    }\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initCanvas();\n      this.initCropBox();\n      this.renderCanvas();\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    },\n    initContainer: function initContainer() {\n      var element = this.element,\n        options = this.options,\n        container = this.container,\n        cropper = this.cropper;\n      var minWidth = Number(options.minContainerWidth);\n      var minHeight = Number(options.minContainerHeight);\n      addClass(cropper, CLASS_HIDDEN);\n      removeClass(element, CLASS_HIDDEN);\n      var containerData = {\n        width: Math.max(container.offsetWidth, minWidth >= 0 ? minWidth : MIN_CONTAINER_WIDTH),\n        height: Math.max(container.offsetHeight, minHeight >= 0 ? minHeight : MIN_CONTAINER_HEIGHT)\n      };\n      this.containerData = containerData;\n      setStyle(cropper, {\n        width: containerData.width,\n        height: containerData.height\n      });\n      addClass(element, CLASS_HIDDEN);\n      removeClass(cropper, CLASS_HIDDEN);\n    },\n    // Canvas (image wrapper)\n    initCanvas: function initCanvas() {\n      var containerData = this.containerData,\n        imageData = this.imageData;\n      var viewMode = this.options.viewMode;\n      var rotated = Math.abs(imageData.rotate) % 180 === 90;\n      var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n      var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var canvasWidth = containerData.width;\n      var canvasHeight = containerData.height;\n      if (containerData.height * aspectRatio > containerData.width) {\n        if (viewMode === 3) {\n          canvasWidth = containerData.height * aspectRatio;\n        } else {\n          canvasHeight = containerData.width / aspectRatio;\n        }\n      } else if (viewMode === 3) {\n        canvasHeight = containerData.width / aspectRatio;\n      } else {\n        canvasWidth = containerData.height * aspectRatio;\n      }\n      var canvasData = {\n        aspectRatio: aspectRatio,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        width: canvasWidth,\n        height: canvasHeight\n      };\n      this.canvasData = canvasData;\n      this.limited = viewMode === 1 || viewMode === 2;\n      this.limitCanvas(true, true);\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      canvasData.left = (containerData.width - canvasData.width) / 2;\n      canvasData.top = (containerData.height - canvasData.height) / 2;\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      this.initialCanvasData = assign({}, canvasData);\n    },\n    limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n      var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n      var viewMode = options.viewMode;\n      var aspectRatio = canvasData.aspectRatio;\n      var cropped = this.cropped && cropBoxData;\n      if (sizeLimited) {\n        var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n        var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n        if (viewMode > 1) {\n          minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n          minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n          if (viewMode === 3) {\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        } else if (viewMode > 0) {\n          if (minCanvasWidth) {\n            minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n          } else if (minCanvasHeight) {\n            minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n          } else if (cropped) {\n            minCanvasWidth = cropBoxData.width;\n            minCanvasHeight = cropBoxData.height;\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        }\n        var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: minCanvasWidth,\n          height: minCanvasHeight\n        });\n        minCanvasWidth = _getAdjustedSizes.width;\n        minCanvasHeight = _getAdjustedSizes.height;\n        canvasData.minWidth = minCanvasWidth;\n        canvasData.minHeight = minCanvasHeight;\n        canvasData.maxWidth = Infinity;\n        canvasData.maxHeight = Infinity;\n      }\n      if (positionLimited) {\n        if (viewMode > (cropped ? 0 : 1)) {\n          var newCanvasLeft = containerData.width - canvasData.width;\n          var newCanvasTop = containerData.height - canvasData.height;\n          canvasData.minLeft = Math.min(0, newCanvasLeft);\n          canvasData.minTop = Math.min(0, newCanvasTop);\n          canvasData.maxLeft = Math.max(0, newCanvasLeft);\n          canvasData.maxTop = Math.max(0, newCanvasTop);\n          if (cropped && this.limited) {\n            canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n            canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n            canvasData.maxLeft = cropBoxData.left;\n            canvasData.maxTop = cropBoxData.top;\n            if (viewMode === 2) {\n              if (canvasData.width >= containerData.width) {\n                canvasData.minLeft = Math.min(0, newCanvasLeft);\n                canvasData.maxLeft = Math.max(0, newCanvasLeft);\n              }\n              if (canvasData.height >= containerData.height) {\n                canvasData.minTop = Math.min(0, newCanvasTop);\n                canvasData.maxTop = Math.max(0, newCanvasTop);\n              }\n            }\n          }\n        } else {\n          canvasData.minLeft = -canvasData.width;\n          canvasData.minTop = -canvasData.height;\n          canvasData.maxLeft = containerData.width;\n          canvasData.maxTop = containerData.height;\n        }\n      }\n    },\n    renderCanvas: function renderCanvas(changed, transformed) {\n      var canvasData = this.canvasData,\n        imageData = this.imageData;\n      if (transformed) {\n        var _getRotatedSizes = getRotatedSizes({\n            width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n            height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n            degree: imageData.rotate || 0\n          }),\n          naturalWidth = _getRotatedSizes.width,\n          naturalHeight = _getRotatedSizes.height;\n        var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n        var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n        canvasData.left -= (width - canvasData.width) / 2;\n        canvasData.top -= (height - canvasData.height) / 2;\n        canvasData.width = width;\n        canvasData.height = height;\n        canvasData.aspectRatio = naturalWidth / naturalHeight;\n        canvasData.naturalWidth = naturalWidth;\n        canvasData.naturalHeight = naturalHeight;\n        this.limitCanvas(true, false);\n      }\n      if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n        canvasData.left = canvasData.oldLeft;\n      }\n      if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n        canvasData.top = canvasData.oldTop;\n      }\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      this.limitCanvas(false, true);\n      canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n      canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      setStyle(this.canvas, assign({\n        width: canvasData.width,\n        height: canvasData.height\n      }, getTransforms({\n        translateX: canvasData.left,\n        translateY: canvasData.top\n      })));\n      this.renderImage(changed);\n      if (this.cropped && this.limited) {\n        this.limitCropBox(true, true);\n      }\n    },\n    renderImage: function renderImage(changed) {\n      var canvasData = this.canvasData,\n        imageData = this.imageData;\n      var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n      var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n      assign(imageData, {\n        width: width,\n        height: height,\n        left: (canvasData.width - width) / 2,\n        top: (canvasData.height - height) / 2\n      });\n      setStyle(this.image, assign({\n        width: imageData.width,\n        height: imageData.height\n      }, getTransforms(assign({\n        translateX: imageData.left,\n        translateY: imageData.top\n      }, imageData))));\n      if (changed) {\n        this.output();\n      }\n    },\n    initCropBox: function initCropBox() {\n      var options = this.options,\n        canvasData = this.canvasData;\n      var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n      var autoCropArea = Number(options.autoCropArea) || 0.8;\n      var cropBoxData = {\n        width: canvasData.width,\n        height: canvasData.height\n      };\n      if (aspectRatio) {\n        if (canvasData.height * aspectRatio > canvasData.width) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n      this.cropBoxData = cropBoxData;\n      this.limitCropBox(true, true);\n\n      // Initialize auto crop area\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n\n      // The width/height of auto crop area must large than \"minWidth/Height\"\n      cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n      cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n      cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n      cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      this.initialCropBoxData = assign({}, cropBoxData);\n    },\n    limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n      var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData,\n        limited = this.limited;\n      var aspectRatio = options.aspectRatio;\n      if (sizeLimited) {\n        var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n        var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n        var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n        var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height;\n\n        // The min/maxCropBoxWidth/Height must be less than container's width/height\n        minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n        minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n        if (aspectRatio) {\n          if (minCropBoxWidth && minCropBoxHeight) {\n            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n              minCropBoxHeight = minCropBoxWidth / aspectRatio;\n            } else {\n              minCropBoxWidth = minCropBoxHeight * aspectRatio;\n            }\n          } else if (minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else if (minCropBoxHeight) {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n          } else {\n            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n          }\n        }\n\n        // The minWidth/Height must be less than maxWidth/Height\n        cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n        cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n        cropBoxData.maxWidth = maxCropBoxWidth;\n        cropBoxData.maxHeight = maxCropBoxHeight;\n      }\n      if (positionLimited) {\n        if (limited) {\n          cropBoxData.minLeft = Math.max(0, canvasData.left);\n          cropBoxData.minTop = Math.max(0, canvasData.top);\n          cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n          cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n        } else {\n          cropBoxData.minLeft = 0;\n          cropBoxData.minTop = 0;\n          cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n          cropBoxData.maxTop = containerData.height - cropBoxData.height;\n        }\n      }\n    },\n    renderCropBox: function renderCropBox() {\n      var options = this.options,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData;\n      if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n        cropBoxData.left = cropBoxData.oldLeft;\n      }\n      if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n        cropBoxData.top = cropBoxData.oldTop;\n      }\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n      this.limitCropBox(false, true);\n      cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n      cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      if (options.movable && options.cropBoxMovable) {\n        // Turn to move the canvas when the crop box is equal to the container\n        setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n      }\n      setStyle(this.cropBox, assign({\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      }, getTransforms({\n        translateX: cropBoxData.left,\n        translateY: cropBoxData.top\n      })));\n      if (this.cropped && this.limited) {\n        this.limitCanvas(true, true);\n      }\n      if (!this.disabled) {\n        this.output();\n      }\n    },\n    output: function output() {\n      this.preview();\n      dispatchEvent(this.element, EVENT_CROP, this.getData());\n    }\n  };\n\n  var preview = {\n    initPreview: function initPreview() {\n      var element = this.element,\n        crossOrigin = this.crossOrigin;\n      var preview = this.options.preview;\n      var url = crossOrigin ? this.crossOriginUrl : this.url;\n      var alt = element.alt || 'The image to preview';\n      var image = document.createElement('img');\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n      image.src = url;\n      image.alt = alt;\n      this.viewBox.appendChild(image);\n      this.viewBoxImage = image;\n      if (!preview) {\n        return;\n      }\n      var previews = preview;\n      if (typeof preview === 'string') {\n        previews = element.ownerDocument.querySelectorAll(preview);\n      } else if (preview.querySelector) {\n        previews = [preview];\n      }\n      this.previews = previews;\n      forEach(previews, function (el) {\n        var img = document.createElement('img');\n\n        // Save the original size for recover\n        setData(el, DATA_PREVIEW, {\n          width: el.offsetWidth,\n          height: el.offsetHeight,\n          html: el.innerHTML\n        });\n        if (crossOrigin) {\n          img.crossOrigin = crossOrigin;\n        }\n        img.src = url;\n        img.alt = alt;\n\n        /**\n         * Override img element styles\n         * Add `display:block` to avoid margin top issue\n         * Add `height:auto` to override `height` attribute on IE8\n         * (Occur only when margin-top <= -height)\n         */\n        img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n        el.innerHTML = '';\n        el.appendChild(img);\n      });\n    },\n    resetPreview: function resetPreview() {\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        setStyle(element, {\n          width: data.width,\n          height: data.height\n        });\n        element.innerHTML = data.html;\n        removeData(element, DATA_PREVIEW);\n      });\n    },\n    preview: function preview() {\n      var imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n      var cropBoxWidth = cropBoxData.width,\n        cropBoxHeight = cropBoxData.height;\n      var width = imageData.width,\n        height = imageData.height;\n      var left = cropBoxData.left - canvasData.left - imageData.left;\n      var top = cropBoxData.top - canvasData.top - imageData.top;\n      if (!this.cropped || this.disabled) {\n        return;\n      }\n      setStyle(this.viewBoxImage, assign({\n        width: width,\n        height: height\n      }, getTransforms(assign({\n        translateX: -left,\n        translateY: -top\n      }, imageData))));\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        var originalWidth = data.width;\n        var originalHeight = data.height;\n        var newWidth = originalWidth;\n        var newHeight = originalHeight;\n        var ratio = 1;\n        if (cropBoxWidth) {\n          ratio = originalWidth / cropBoxWidth;\n          newHeight = cropBoxHeight * ratio;\n        }\n        if (cropBoxHeight && newHeight > originalHeight) {\n          ratio = originalHeight / cropBoxHeight;\n          newWidth = cropBoxWidth * ratio;\n          newHeight = originalHeight;\n        }\n        setStyle(element, {\n          width: newWidth,\n          height: newHeight\n        });\n        setStyle(element.getElementsByTagName('img')[0], assign({\n          width: width * ratio,\n          height: height * ratio\n        }, getTransforms(assign({\n          translateX: -left * ratio,\n          translateY: -top * ratio\n        }, imageData))));\n      });\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n      if (isFunction(options.cropstart)) {\n        addListener(element, EVENT_CROP_START, options.cropstart);\n      }\n      if (isFunction(options.cropmove)) {\n        addListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n      if (isFunction(options.cropend)) {\n        addListener(element, EVENT_CROP_END, options.cropend);\n      }\n      if (isFunction(options.crop)) {\n        addListener(element, EVENT_CROP, options.crop);\n      }\n      if (isFunction(options.zoom)) {\n        addListener(element, EVENT_ZOOM, options.zoom);\n      }\n      addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleDragModeOnDblclick) {\n        addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n      addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n      addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n      if (options.responsive) {\n        addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n      if (isFunction(options.cropstart)) {\n        removeListener(element, EVENT_CROP_START, options.cropstart);\n      }\n      if (isFunction(options.cropmove)) {\n        removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n      if (isFunction(options.cropend)) {\n        removeListener(element, EVENT_CROP_END, options.cropend);\n      }\n      if (isFunction(options.crop)) {\n        removeListener(element, EVENT_CROP, options.crop);\n      }\n      if (isFunction(options.zoom)) {\n        removeListener(element, EVENT_ZOOM, options.zoom);\n      }\n      removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleDragModeOnDblclick) {\n        removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n      }\n      removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n      removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n      if (options.responsive) {\n        removeListener(window, EVENT_RESIZE, this.onResize);\n      }\n    }\n  };\n\n  var handlers = {\n    resize: function resize() {\n      if (this.disabled) {\n        return;\n      }\n      var options = this.options,\n        container = this.container,\n        containerData = this.containerData;\n      var ratioX = container.offsetWidth / containerData.width;\n      var ratioY = container.offsetHeight / containerData.height;\n      var ratio = Math.abs(ratioX - 1) > Math.abs(ratioY - 1) ? ratioX : ratioY;\n\n      // Resize when width changed or height changed\n      if (ratio !== 1) {\n        var canvasData;\n        var cropBoxData;\n        if (options.restore) {\n          canvasData = this.getCanvasData();\n          cropBoxData = this.getCropBoxData();\n        }\n        this.render();\n        if (options.restore) {\n          this.setCanvasData(forEach(canvasData, function (n, i) {\n            canvasData[i] = n * ratio;\n          }));\n          this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n            cropBoxData[i] = n * ratio;\n          }));\n        }\n      }\n    },\n    dblclick: function dblclick() {\n      if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n        return;\n      }\n      this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n    },\n    wheel: function wheel(event) {\n      var _this = this;\n      var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n      var delta = 1;\n      if (this.disabled) {\n        return;\n      }\n      event.preventDefault();\n\n      // Limit wheel speed to prevent zoom too fast (#21)\n      if (this.wheeling) {\n        return;\n      }\n      this.wheeling = true;\n      setTimeout(function () {\n        _this.wheeling = false;\n      }, 50);\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n      this.zoom(-delta * ratio, event);\n    },\n    cropStart: function cropStart(event) {\n      var buttons = event.buttons,\n        button = event.button;\n      if (this.disabled\n\n      // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && (\n      // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0\n\n      // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n      var options = this.options,\n        pointers = this.pointers;\n      var action;\n      if (event.changedTouches) {\n        // Handle touch event\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        // Handle mouse event and pointer event\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n      if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n        action = ACTION_ZOOM;\n      } else {\n        action = getData(event.target, DATA_ACTION);\n      }\n      if (!REGEXP_ACTIONS.test(action)) {\n        return;\n      }\n      if (dispatchEvent(this.element, EVENT_CROP_START, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n\n      // This line is required for preventing page zooming in iOS browsers\n      event.preventDefault();\n      this.action = action;\n      this.cropping = false;\n      if (action === ACTION_CROP) {\n        this.cropping = true;\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n    },\n    cropMove: function cropMove(event) {\n      var action = this.action;\n      if (this.disabled || !action) {\n        return;\n      }\n      var pointers = this.pointers;\n      event.preventDefault();\n      if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          // The first parameter should not be undefined (#432)\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n      this.change(event);\n    },\n    cropEnd: function cropEnd(event) {\n      if (this.disabled) {\n        return;\n      }\n      var action = this.action,\n        pointers = this.pointers;\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          delete pointers[touch.identifier];\n        });\n      } else {\n        delete pointers[event.pointerId || 0];\n      }\n      if (!action) {\n        return;\n      }\n      event.preventDefault();\n      if (!Object.keys(pointers).length) {\n        this.action = '';\n      }\n      if (this.cropping) {\n        this.cropping = false;\n        toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n      }\n      dispatchEvent(this.element, EVENT_CROP_END, {\n        originalEvent: event,\n        action: action\n      });\n    }\n  };\n\n  var change = {\n    change: function change(event) {\n      var options = this.options,\n        canvasData = this.canvasData,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData,\n        pointers = this.pointers;\n      var action = this.action;\n      var aspectRatio = options.aspectRatio;\n      var left = cropBoxData.left,\n        top = cropBoxData.top,\n        width = cropBoxData.width,\n        height = cropBoxData.height;\n      var right = left + width;\n      var bottom = top + height;\n      var minLeft = 0;\n      var minTop = 0;\n      var maxWidth = containerData.width;\n      var maxHeight = containerData.height;\n      var renderable = true;\n      var offset;\n\n      // Locking aspect ratio in \"free mode\" by holding shift key\n      if (!aspectRatio && event.shiftKey) {\n        aspectRatio = width && height ? width / height : 1;\n      }\n      if (this.limited) {\n        minLeft = cropBoxData.minLeft;\n        minTop = cropBoxData.minTop;\n        maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n        maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n      }\n      var pointer = pointers[Object.keys(pointers)[0]];\n      var range = {\n        x: pointer.endX - pointer.startX,\n        y: pointer.endY - pointer.startY\n      };\n      var check = function check(side) {\n        switch (side) {\n          case ACTION_EAST:\n            if (right + range.x > maxWidth) {\n              range.x = maxWidth - right;\n            }\n            break;\n          case ACTION_WEST:\n            if (left + range.x < minLeft) {\n              range.x = minLeft - left;\n            }\n            break;\n          case ACTION_NORTH:\n            if (top + range.y < minTop) {\n              range.y = minTop - top;\n            }\n            break;\n          case ACTION_SOUTH:\n            if (bottom + range.y > maxHeight) {\n              range.y = maxHeight - bottom;\n            }\n            break;\n        }\n      };\n      switch (action) {\n        // Move crop box\n        case ACTION_ALL:\n          left += range.x;\n          top += range.y;\n          break;\n\n        // Resize crop box\n        case ACTION_EAST:\n          if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_EAST);\n          width += range.x;\n          if (width < 0) {\n            action = ACTION_WEST;\n            width = -width;\n            left -= width;\n          }\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n          break;\n        case ACTION_NORTH:\n          if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          if (height < 0) {\n            action = ACTION_SOUTH;\n            height = -height;\n            top -= height;\n          }\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n          break;\n        case ACTION_WEST:\n          if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n          if (width < 0) {\n            action = ACTION_EAST;\n            width = -width;\n            left -= width;\n          }\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n          break;\n        case ACTION_SOUTH:\n          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_SOUTH);\n          height += range.y;\n          if (height < 0) {\n            action = ACTION_NORTH;\n            height = -height;\n            top -= height;\n          }\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n          break;\n        case ACTION_NORTH_EAST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_EAST);\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            top -= height;\n          }\n          break;\n        case ACTION_NORTH_WEST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n            left += cropBoxData.width - width;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_WEST);\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            top -= height;\n          }\n          break;\n        case ACTION_SOUTH_WEST:\n          if (aspectRatio) {\n            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_WEST);\n            width -= range.x;\n            left += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_WEST);\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            top -= height;\n          }\n          break;\n        case ACTION_SOUTH_EAST:\n          if (aspectRatio) {\n            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_EAST);\n            width += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_EAST);\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            top -= height;\n          }\n          break;\n\n        // Move canvas\n        case ACTION_MOVE:\n          this.move(range.x, range.y);\n          renderable = false;\n          break;\n\n        // Zoom canvas\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), event);\n          renderable = false;\n          break;\n\n        // Create crop box\n        case ACTION_CROP:\n          if (!range.x || !range.y) {\n            renderable = false;\n            break;\n          }\n          offset = getOffset(this.cropper);\n          left = pointer.startX - offset.left;\n          top = pointer.startY - offset.top;\n          width = cropBoxData.minWidth;\n          height = cropBoxData.minHeight;\n          if (range.x > 0) {\n            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n          } else if (range.x < 0) {\n            left -= width;\n            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n          }\n          if (range.y < 0) {\n            top -= height;\n          }\n\n          // Show the crop box if is hidden\n          if (!this.cropped) {\n            removeClass(this.cropBox, CLASS_HIDDEN);\n            this.cropped = true;\n            if (this.limited) {\n              this.limitCropBox(true, true);\n            }\n          }\n          break;\n      }\n      if (renderable) {\n        cropBoxData.width = width;\n        cropBoxData.height = height;\n        cropBoxData.left = left;\n        cropBoxData.top = top;\n        this.action = action;\n        this.renderCropBox();\n      }\n\n      // Override\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    }\n  };\n\n  var methods = {\n    // Show the crop box manually\n    crop: function crop() {\n      if (this.ready && !this.cropped && !this.disabled) {\n        this.cropped = true;\n        this.limitCropBox(true, true);\n        if (this.options.modal) {\n          addClass(this.dragBox, CLASS_MODAL);\n        }\n        removeClass(this.cropBox, CLASS_HIDDEN);\n        this.setCropBoxData(this.initialCropBoxData);\n      }\n      return this;\n    },\n    // Reset the image and crop box to their initial states\n    reset: function reset() {\n      if (this.ready && !this.disabled) {\n        this.imageData = assign({}, this.initialImageData);\n        this.canvasData = assign({}, this.initialCanvasData);\n        this.cropBoxData = assign({}, this.initialCropBoxData);\n        this.renderCanvas();\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n      return this;\n    },\n    // Clear the crop box\n    clear: function clear() {\n      if (this.cropped && !this.disabled) {\n        assign(this.cropBoxData, {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0\n        });\n        this.cropped = false;\n        this.renderCropBox();\n        this.limitCanvas(true, true);\n\n        // Render canvas after crop box rendered\n        this.renderCanvas();\n        removeClass(this.dragBox, CLASS_MODAL);\n        addClass(this.cropBox, CLASS_HIDDEN);\n      }\n      return this;\n    },\n    /**\n     * Replace the image's src and rebuild the cropper\n     * @param {string} url - The new URL.\n     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n     * @returns {Cropper} this\n     */\n    replace: function replace(url) {\n      var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (!this.disabled && url) {\n        if (this.isImg) {\n          this.element.src = url;\n        }\n        if (hasSameSize) {\n          this.url = url;\n          this.image.src = url;\n          if (this.ready) {\n            this.viewBoxImage.src = url;\n            forEach(this.previews, function (element) {\n              element.getElementsByTagName('img')[0].src = url;\n            });\n          }\n        } else {\n          if (this.isImg) {\n            this.replaced = true;\n          }\n          this.options.data = null;\n          this.uncreate();\n          this.load(url);\n        }\n      }\n      return this;\n    },\n    // Enable (unfreeze) the cropper\n    enable: function enable() {\n      if (this.ready && this.disabled) {\n        this.disabled = false;\n        removeClass(this.cropper, CLASS_DISABLED);\n      }\n      return this;\n    },\n    // Disable (freeze) the cropper\n    disable: function disable() {\n      if (this.ready && !this.disabled) {\n        this.disabled = true;\n        addClass(this.cropper, CLASS_DISABLED);\n      }\n      return this;\n    },\n    /**\n     * Destroy the cropper and remove the instance from the image\n     * @returns {Cropper} this\n     */\n    destroy: function destroy() {\n      var element = this.element;\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n      element[NAMESPACE] = undefined;\n      if (this.isImg && this.replaced) {\n        element.src = this.originalUrl;\n      }\n      this.uncreate();\n      return this;\n    },\n    /**\n     * Move the canvas with relative offsets\n     * @param {number} offsetX - The relative offset distance on the x-axis.\n     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n     * @returns {Cropper} this\n     */\n    move: function move(offsetX) {\n      var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n      var _this$canvasData = this.canvasData,\n        left = _this$canvasData.left,\n        top = _this$canvasData.top;\n      return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n    },\n    /**\n     * Move the canvas to an absolute point\n     * @param {number} x - The x-axis coordinate.\n     * @param {number} [y=x] - The y-axis coordinate.\n     * @returns {Cropper} this\n     */\n    moveTo: function moveTo(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var canvasData = this.canvasData;\n      var changed = false;\n      x = Number(x);\n      y = Number(y);\n      if (this.ready && !this.disabled && this.options.movable) {\n        if (isNumber(x)) {\n          canvasData.left = x;\n          changed = true;\n        }\n        if (isNumber(y)) {\n          canvasData.top = y;\n          changed = true;\n        }\n        if (changed) {\n          this.renderCanvas(true);\n        }\n      }\n      return this;\n    },\n    /**\n     * Zoom the canvas with a relative ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoom: function zoom(ratio, _originalEvent) {\n      var canvasData = this.canvasData;\n      ratio = Number(ratio);\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n      return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n    },\n    /**\n     * Zoom the canvas to an absolute ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Object} pivot - The zoom pivot point coordinate.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n      var options = this.options,\n        canvasData = this.canvasData;\n      var width = canvasData.width,\n        height = canvasData.height,\n        naturalWidth = canvasData.naturalWidth,\n        naturalHeight = canvasData.naturalHeight;\n      ratio = Number(ratio);\n      if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n        if (dispatchEvent(this.element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: width / naturalWidth,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n        if (_originalEvent) {\n          var pointers = this.pointers;\n          var offset = getOffset(this.cropper);\n          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          };\n\n          // Zoom from the triggering point of the event\n          canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n        } else {\n          // Zoom from the center of the canvas\n          canvasData.left -= (newWidth - width) / 2;\n          canvasData.top -= (newHeight - height) / 2;\n        }\n        canvasData.width = newWidth;\n        canvasData.height = newHeight;\n        this.renderCanvas(true);\n      }\n      return this;\n    },\n    /**\n     * Rotate the canvas with a relative degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotate: function rotate(degree) {\n      return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n    },\n    /**\n     * Rotate the canvas to an absolute degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotateTo: function rotateTo(degree) {\n      degree = Number(degree);\n      if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n        this.imageData.rotate = degree % 360;\n        this.renderCanvas(true, true);\n      }\n      return this;\n    },\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Cropper} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      var scaleY = this.imageData.scaleY;\n      return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n    },\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      var scaleX = this.imageData.scaleX;\n      return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n    },\n    /**\n     * Scale the image\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scale: function scale(scaleX) {\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var imageData = this.imageData;\n      var transformed = false;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n      if (this.ready && !this.disabled && this.options.scalable) {\n        if (isNumber(scaleX)) {\n          imageData.scaleX = scaleX;\n          transformed = true;\n        }\n        if (isNumber(scaleY)) {\n          imageData.scaleY = scaleY;\n          transformed = true;\n        }\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n      }\n      return this;\n    },\n    /**\n     * Get the cropped area position and size data (base on the original image)\n     * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n     * @returns {Object} The result cropped data.\n     */\n    getData: function getData() {\n      var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n      var data;\n      if (this.ready && this.cropped) {\n        data = {\n          x: cropBoxData.left - canvasData.left,\n          y: cropBoxData.top - canvasData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n        var ratio = imageData.width / imageData.naturalWidth;\n        forEach(data, function (n, i) {\n          data[i] = n / ratio;\n        });\n        if (rounded) {\n          // In case rounding off leads to extra 1px in right or bottom border\n          // we should round the top-left corner and the dimension (#343).\n          var bottom = Math.round(data.y + data.height);\n          var right = Math.round(data.x + data.width);\n          data.x = Math.round(data.x);\n          data.y = Math.round(data.y);\n          data.width = right - data.x;\n          data.height = bottom - data.y;\n        }\n      } else {\n        data = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      if (options.rotatable) {\n        data.rotate = imageData.rotate || 0;\n      }\n      if (options.scalable) {\n        data.scaleX = imageData.scaleX || 1;\n        data.scaleY = imageData.scaleY || 1;\n      }\n      return data;\n    },\n    /**\n     * Set the cropped area position and size with new data\n     * @param {Object} data - The new data.\n     * @returns {Cropper} this\n     */\n    setData: function setData(data) {\n      var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData;\n      var cropBoxData = {};\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        var transformed = false;\n        if (options.rotatable) {\n          if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n            imageData.rotate = data.rotate;\n            transformed = true;\n          }\n        }\n        if (options.scalable) {\n          if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n            imageData.scaleX = data.scaleX;\n            transformed = true;\n          }\n          if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n            imageData.scaleY = data.scaleY;\n            transformed = true;\n          }\n        }\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n        var ratio = imageData.width / imageData.naturalWidth;\n        if (isNumber(data.x)) {\n          cropBoxData.left = data.x * ratio + canvasData.left;\n        }\n        if (isNumber(data.y)) {\n          cropBoxData.top = data.y * ratio + canvasData.top;\n        }\n        if (isNumber(data.width)) {\n          cropBoxData.width = data.width * ratio;\n        }\n        if (isNumber(data.height)) {\n          cropBoxData.height = data.height * ratio;\n        }\n        this.setCropBoxData(cropBoxData);\n      }\n      return this;\n    },\n    /**\n     * Get the container size data.\n     * @returns {Object} The result container data.\n     */\n    getContainerData: function getContainerData() {\n      return this.ready ? assign({}, this.containerData) : {};\n    },\n    /**\n     * Get the image position and size data.\n     * @returns {Object} The result image data.\n     */\n    getImageData: function getImageData() {\n      return this.sized ? assign({}, this.imageData) : {};\n    },\n    /**\n     * Get the canvas position and size data.\n     * @returns {Object} The result canvas data.\n     */\n    getCanvasData: function getCanvasData() {\n      var canvasData = this.canvasData;\n      var data = {};\n      if (this.ready) {\n        forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n          data[n] = canvasData[n];\n        });\n      }\n      return data;\n    },\n    /**\n     * Set the canvas position and size with new data.\n     * @param {Object} data - The new canvas data.\n     * @returns {Cropper} this\n     */\n    setCanvasData: function setCanvasData(data) {\n      var canvasData = this.canvasData;\n      var aspectRatio = canvasData.aspectRatio;\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          canvasData.left = data.left;\n        }\n        if (isNumber(data.top)) {\n          canvasData.top = data.top;\n        }\n        if (isNumber(data.width)) {\n          canvasData.width = data.width;\n          canvasData.height = data.width / aspectRatio;\n        } else if (isNumber(data.height)) {\n          canvasData.height = data.height;\n          canvasData.width = data.height * aspectRatio;\n        }\n        this.renderCanvas(true);\n      }\n      return this;\n    },\n    /**\n     * Get the crop box position and size data.\n     * @returns {Object} The result crop box data.\n     */\n    getCropBoxData: function getCropBoxData() {\n      var cropBoxData = this.cropBoxData;\n      var data;\n      if (this.ready && this.cropped) {\n        data = {\n          left: cropBoxData.left,\n          top: cropBoxData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n      }\n      return data || {};\n    },\n    /**\n     * Set the crop box position and size with new data.\n     * @param {Object} data - The new crop box data.\n     * @returns {Cropper} this\n     */\n    setCropBoxData: function setCropBoxData(data) {\n      var cropBoxData = this.cropBoxData;\n      var aspectRatio = this.options.aspectRatio;\n      var widthChanged;\n      var heightChanged;\n      if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          cropBoxData.left = data.left;\n        }\n        if (isNumber(data.top)) {\n          cropBoxData.top = data.top;\n        }\n        if (isNumber(data.width) && data.width !== cropBoxData.width) {\n          widthChanged = true;\n          cropBoxData.width = data.width;\n        }\n        if (isNumber(data.height) && data.height !== cropBoxData.height) {\n          heightChanged = true;\n          cropBoxData.height = data.height;\n        }\n        if (aspectRatio) {\n          if (widthChanged) {\n            cropBoxData.height = cropBoxData.width / aspectRatio;\n          } else if (heightChanged) {\n            cropBoxData.width = cropBoxData.height * aspectRatio;\n          }\n        }\n        this.renderCropBox();\n      }\n      return this;\n    },\n    /**\n     * Get a canvas drawn the cropped image.\n     * @param {Object} [options={}] - The config options.\n     * @returns {HTMLCanvasElement} - The result canvas.\n     */\n    getCroppedCanvas: function getCroppedCanvas() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!this.ready || !window.HTMLCanvasElement) {\n        return null;\n      }\n      var canvasData = this.canvasData;\n      var source = getSourceCanvas(this.image, this.imageData, canvasData, options);\n\n      // Returns the source canvas if it is not cropped.\n      if (!this.cropped) {\n        return source;\n      }\n      var _this$getData = this.getData(options.rounded),\n        initialX = _this$getData.x,\n        initialY = _this$getData.y,\n        initialWidth = _this$getData.width,\n        initialHeight = _this$getData.height;\n      var ratio = source.width / Math.floor(canvasData.naturalWidth);\n      if (ratio !== 1) {\n        initialX *= ratio;\n        initialY *= ratio;\n        initialWidth *= ratio;\n        initialHeight *= ratio;\n      }\n      var aspectRatio = initialWidth / initialHeight;\n      var maxSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.maxWidth || Infinity,\n        height: options.maxHeight || Infinity\n      });\n      var minSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.minWidth || 0,\n        height: options.minHeight || 0\n      }, 'cover');\n      var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: options.width || (ratio !== 1 ? source.width : initialWidth),\n          height: options.height || (ratio !== 1 ? source.height : initialHeight)\n        }),\n        width = _getAdjustedSizes.width,\n        height = _getAdjustedSizes.height;\n      width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n      height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = normalizeDecimalNumber(width);\n      canvas.height = normalizeDecimalNumber(height);\n      context.fillStyle = options.fillColor || 'transparent';\n      context.fillRect(0, 0, width, height);\n      var _options$imageSmoothi = options.imageSmoothingEnabled,\n        imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n        imageSmoothingQuality = options.imageSmoothingQuality;\n      context.imageSmoothingEnabled = imageSmoothingEnabled;\n      if (imageSmoothingQuality) {\n        context.imageSmoothingQuality = imageSmoothingQuality;\n      }\n\n      // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n      var sourceWidth = source.width;\n      var sourceHeight = source.height;\n\n      // Source canvas parameters\n      var srcX = initialX;\n      var srcY = initialY;\n      var srcWidth;\n      var srcHeight;\n\n      // Destination canvas parameters\n      var dstX;\n      var dstY;\n      var dstWidth;\n      var dstHeight;\n      if (srcX <= -initialWidth || srcX > sourceWidth) {\n        srcX = 0;\n        srcWidth = 0;\n        dstX = 0;\n        dstWidth = 0;\n      } else if (srcX <= 0) {\n        dstX = -srcX;\n        srcX = 0;\n        srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n        dstWidth = srcWidth;\n      } else if (srcX <= sourceWidth) {\n        dstX = 0;\n        srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n        dstWidth = srcWidth;\n      }\n      if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n        srcY = 0;\n        srcHeight = 0;\n        dstY = 0;\n        dstHeight = 0;\n      } else if (srcY <= 0) {\n        dstY = -srcY;\n        srcY = 0;\n        srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n        dstHeight = srcHeight;\n      } else if (srcY <= sourceHeight) {\n        dstY = 0;\n        srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n        dstHeight = srcHeight;\n      }\n      var params = [srcX, srcY, srcWidth, srcHeight];\n\n      // Avoid \"IndexSizeError\"\n      if (dstWidth > 0 && dstHeight > 0) {\n        var scale = width / initialWidth;\n        params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n      }\n\n      // All the numerical parameters should be integer for `drawImage`\n      // https://github.com/fengyuanchen/cropper/issues/476\n      context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n        return Math.floor(normalizeDecimalNumber(param));\n      }))));\n      return canvas;\n    },\n    /**\n     * Change the aspect ratio of the crop box.\n     * @param {number} aspectRatio - The new aspect ratio.\n     * @returns {Cropper} this\n     */\n    setAspectRatio: function setAspectRatio(aspectRatio) {\n      var options = this.options;\n      if (!this.disabled && !isUndefined(aspectRatio)) {\n        // 0 -> NaN\n        options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n        if (this.ready) {\n          this.initCropBox();\n          if (this.cropped) {\n            this.renderCropBox();\n          }\n        }\n      }\n      return this;\n    },\n    /**\n     * Change the drag mode.\n     * @param {string} mode - The new drag mode.\n     * @returns {Cropper} this\n     */\n    setDragMode: function setDragMode(mode) {\n      var options = this.options,\n        dragBox = this.dragBox,\n        face = this.face;\n      if (this.ready && !this.disabled) {\n        var croppable = mode === DRAG_MODE_CROP;\n        var movable = options.movable && mode === DRAG_MODE_MOVE;\n        mode = croppable || movable ? mode : DRAG_MODE_NONE;\n        options.dragMode = mode;\n        setData(dragBox, DATA_ACTION, mode);\n        toggleClass(dragBox, CLASS_CROP, croppable);\n        toggleClass(dragBox, CLASS_MOVE, movable);\n        if (!options.cropBoxMovable) {\n          // Sync drag mode to crop box when it is not movable\n          setData(face, DATA_ACTION, mode);\n          toggleClass(face, CLASS_CROP, croppable);\n          toggleClass(face, CLASS_MOVE, movable);\n        }\n      }\n      return this;\n    }\n  };\n\n  var AnotherCropper = WINDOW.Cropper;\n  var Cropper = /*#__PURE__*/function () {\n    /**\n     * Create a new Cropper.\n     * @param {Element} element - The target element for cropping.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Cropper(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      _classCallCheck(this, Cropper);\n      if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n        throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n      }\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.cropped = false;\n      this.disabled = false;\n      this.pointers = {};\n      this.ready = false;\n      this.reloading = false;\n      this.replaced = false;\n      this.sized = false;\n      this.sizing = false;\n      this.init();\n    }\n    _createClass(Cropper, [{\n      key: \"init\",\n      value: function init() {\n        var element = this.element;\n        var tagName = element.tagName.toLowerCase();\n        var url;\n        if (element[NAMESPACE]) {\n          return;\n        }\n        element[NAMESPACE] = this;\n        if (tagName === 'img') {\n          this.isImg = true;\n\n          // e.g.: \"img/picture.jpg\"\n          url = element.getAttribute('src') || '';\n          this.originalUrl = url;\n\n          // Stop when it's a blank image\n          if (!url) {\n            return;\n          }\n\n          // e.g.: \"https://example.com/img/picture.jpg\"\n          url = element.src;\n        } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n          url = element.toDataURL();\n        }\n        this.load(url);\n      }\n    }, {\n      key: \"load\",\n      value: function load(url) {\n        var _this = this;\n        if (!url) {\n          return;\n        }\n        this.url = url;\n        this.imageData = {};\n        var element = this.element,\n          options = this.options;\n        if (!options.rotatable && !options.scalable) {\n          options.checkOrientation = false;\n        }\n\n        // Only IE10+ supports Typed Arrays\n        if (!options.checkOrientation || !window.ArrayBuffer) {\n          this.clone();\n          return;\n        }\n\n        // Detect the mime type of the image directly if it is a Data URL\n        if (REGEXP_DATA_URL.test(url)) {\n          // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n          if (REGEXP_DATA_URL_JPEG.test(url)) {\n            this.read(dataURLToArrayBuffer(url));\n          } else {\n            // Only a JPEG image may contains Exif Orientation information,\n            // the rest types of Data URLs are not necessary to check orientation at all.\n            this.clone();\n          }\n          return;\n        }\n\n        // 1. Detect the mime type of the image by a XMLHttpRequest.\n        // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n        var xhr = new XMLHttpRequest();\n        var clone = this.clone.bind(this);\n        this.reloading = true;\n        this.xhr = xhr;\n\n        // 1. Cross origin requests are only supported for protocol schemes:\n        // http, https, data, chrome, chrome-extension.\n        // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n        // in some browsers as IE11 and Safari.\n        xhr.onabort = clone;\n        xhr.onerror = clone;\n        xhr.ontimeout = clone;\n        xhr.onprogress = function () {\n          // Abort the request directly if it not a JPEG image for better performance\n          if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n            xhr.abort();\n          }\n        };\n        xhr.onload = function () {\n          _this.read(xhr.response);\n        };\n        xhr.onloadend = function () {\n          _this.reloading = false;\n          _this.xhr = null;\n        };\n\n        // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n        if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n          url = addTimestamp(url);\n        }\n\n        // The third parameter is required for avoiding side-effect (#682)\n        xhr.open('GET', url, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.withCredentials = element.crossOrigin === 'use-credentials';\n        xhr.send();\n      }\n    }, {\n      key: \"read\",\n      value: function read(arrayBuffer) {\n        var options = this.options,\n          imageData = this.imageData;\n\n        // Reset the orientation value to its default value 1\n        // as some iOS browsers will render image with its orientation\n        var orientation = resetAndGetOrientation(arrayBuffer);\n        var rotate = 0;\n        var scaleX = 1;\n        var scaleY = 1;\n        if (orientation > 1) {\n          // Generate a new URL which has the default orientation value\n          this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n          var _parseOrientation = parseOrientation(orientation);\n          rotate = _parseOrientation.rotate;\n          scaleX = _parseOrientation.scaleX;\n          scaleY = _parseOrientation.scaleY;\n        }\n        if (options.rotatable) {\n          imageData.rotate = rotate;\n        }\n        if (options.scalable) {\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n        }\n        this.clone();\n      }\n    }, {\n      key: \"clone\",\n      value: function clone() {\n        var element = this.element,\n          url = this.url;\n        var crossOrigin = element.crossOrigin;\n        var crossOriginUrl = url;\n        if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n          if (!crossOrigin) {\n            crossOrigin = 'anonymous';\n          }\n\n          // Bust cache when there is not a \"crossOrigin\" property (#519)\n          crossOriginUrl = addTimestamp(url);\n        }\n        this.crossOrigin = crossOrigin;\n        this.crossOriginUrl = crossOriginUrl;\n        var image = document.createElement('img');\n        if (crossOrigin) {\n          image.crossOrigin = crossOrigin;\n        }\n        image.src = crossOriginUrl || url;\n        image.alt = element.alt || 'The image to crop';\n        this.image = image;\n        image.onload = this.start.bind(this);\n        image.onerror = this.stop.bind(this);\n        addClass(image, CLASS_HIDE);\n        element.parentNode.insertBefore(image, element.nextSibling);\n      }\n    }, {\n      key: \"start\",\n      value: function start() {\n        var _this2 = this;\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        this.sizing = true;\n\n        // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n        var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n        var done = function done(naturalWidth, naturalHeight) {\n          assign(_this2.imageData, {\n            naturalWidth: naturalWidth,\n            naturalHeight: naturalHeight,\n            aspectRatio: naturalWidth / naturalHeight\n          });\n          _this2.initialImageData = assign({}, _this2.imageData);\n          _this2.sizing = false;\n          _this2.sized = true;\n          _this2.build();\n        };\n\n        // Most modern browsers (excepts iOS WebKit)\n        if (image.naturalWidth && !isIOSWebKit) {\n          done(image.naturalWidth, image.naturalHeight);\n          return;\n        }\n        var sizingImage = document.createElement('img');\n        var body = document.body || document.documentElement;\n        this.sizingImage = sizingImage;\n        sizingImage.onload = function () {\n          done(sizingImage.width, sizingImage.height);\n          if (!isIOSWebKit) {\n            body.removeChild(sizingImage);\n          }\n        };\n        sizingImage.src = image.src;\n\n        // iOS WebKit will convert the image automatically\n        // with its orientation once append it into DOM (#279)\n        if (!isIOSWebKit) {\n          sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n          body.appendChild(sizingImage);\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (!this.sized || this.ready) {\n          return;\n        }\n        var element = this.element,\n          options = this.options,\n          image = this.image;\n\n        // Create cropper elements\n        var container = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n        var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n        var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n        this.container = container;\n        this.cropper = cropper;\n        this.canvas = canvas;\n        this.dragBox = dragBox;\n        this.cropBox = cropBox;\n        this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n        this.face = face;\n        canvas.appendChild(image);\n\n        // Hide the original image\n        addClass(element, CLASS_HIDDEN);\n\n        // Inserts the cropper after to the current image\n        container.insertBefore(cropper, element.nextSibling);\n\n        // Show the hidden image\n        removeClass(image, CLASS_HIDE);\n        this.initPreview();\n        this.bind();\n        options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n        options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n        options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n        addClass(cropBox, CLASS_HIDDEN);\n        if (!options.guides) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n        }\n        if (!options.center) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n        }\n        if (options.background) {\n          addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n        }\n        if (!options.highlight) {\n          addClass(face, CLASS_INVISIBLE);\n        }\n        if (options.cropBoxMovable) {\n          addClass(face, CLASS_MOVE);\n          setData(face, DATA_ACTION, ACTION_ALL);\n        }\n        if (!options.cropBoxResizable) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n        }\n        this.render();\n        this.ready = true;\n        this.setDragMode(options.dragMode);\n        if (options.autoCrop) {\n          this.crop();\n        }\n        this.setData(options.data);\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n        dispatchEvent(element, EVENT_READY);\n      }\n    }, {\n      key: \"unbuild\",\n      value: function unbuild() {\n        if (!this.ready) {\n          return;\n        }\n        this.ready = false;\n        this.unbind();\n        this.resetPreview();\n        var parentNode = this.cropper.parentNode;\n        if (parentNode) {\n          parentNode.removeChild(this.cropper);\n        }\n        removeClass(this.element, CLASS_HIDDEN);\n      }\n    }, {\n      key: \"uncreate\",\n      value: function uncreate() {\n        if (this.ready) {\n          this.unbuild();\n          this.ready = false;\n          this.cropped = false;\n        } else if (this.sizing) {\n          this.sizingImage.onload = null;\n          this.sizing = false;\n          this.sized = false;\n        } else if (this.reloading) {\n          this.xhr.onabort = null;\n          this.xhr.abort();\n        } else if (this.image) {\n          this.stop();\n        }\n      }\n\n      /**\n       * Get the no conflict cropper class.\n       * @returns {Cropper} The cropper class.\n       */\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Cropper = AnotherCropper;\n        return Cropper;\n      }\n\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n    return Cropper;\n  }();\n  assign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\n  return Cropper;\n\n}));\n","import e,{useRef as r,useEffect as o}from\"react\";import t from\"cropperjs\";var n=function(){return n=Object.assign||function(e){for(var r,o=1,t=arguments.length;o<t;o++)for(var n in r=arguments[o])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e},n.apply(this,arguments)};function a(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]])}return o}var c=[\"aspectRatio\",\"autoCrop\",\"autoCropArea\",\"background\",\"center\",\"checkCrossOrigin\",\"checkOrientation\",\"cropBoxMovable\",\"cropBoxResizable\",\"data\",\"dragMode\",\"guides\",\"highlight\",\"initialAspectRatio\",\"minCanvasHeight\",\"minCanvasWidth\",\"minContainerHeight\",\"minContainerWidth\",\"minCropBoxHeight\",\"minCropBoxWidth\",\"modal\",\"movable\",\"preview\",\"responsive\",\"restore\",\"rotatable\",\"scalable\",\"toggleDragModeOnDblclick\",\"viewMode\",\"wheelZoomRatio\",\"zoomOnTouch\",\"zoomOnWheel\",\"zoomable\",\"cropstart\",\"cropmove\",\"cropend\",\"crop\",\"zoom\",\"ready\"],i={opacity:0,maxWidth:\"100%\"},l=e.forwardRef((function(l,s){var u=a(l,[]),p=u.dragMode,d=void 0===p?\"crop\":p,v=u.src,f=u.style,m=u.className,g=u.crossOrigin,y=u.scaleX,b=u.scaleY,h=u.enable,O=u.zoomTo,T=u.rotateTo,z=u.alt,C=void 0===z?\"picture\":z,w=u.ready,x=u.onInitialized,j=a(u,[\"dragMode\",\"src\",\"style\",\"className\",\"crossOrigin\",\"scaleX\",\"scaleY\",\"enable\",\"zoomTo\",\"rotateTo\",\"alt\",\"ready\",\"onInitialized\"]),M={scaleY:b,scaleX:y,enable:h,zoomTo:O,rotateTo:T},E=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];var n=r(null);return e.useEffect((function(){o.forEach((function(e){e&&(\"function\"==typeof e?e(n.current):e.current=n.current)}))}),[o]),n}(s,r(null));o((function(){var e;(null===(e=E.current)||void 0===e?void 0:e.cropper)&&\"number\"==typeof O&&E.current.cropper.zoomTo(O)}),[u.zoomTo]),o((function(){var e;(null===(e=E.current)||void 0===e?void 0:e.cropper)&&void 0!==v&&E.current.cropper.reset().clear().replace(v)}),[v]),o((function(){if(null!==E.current){var e=new t(E.current,n(n({dragMode:d},j),{ready:function(e){null!==e.currentTarget&&function(e,r){void 0===r&&(r={});var o=r.enable,t=void 0===o||o,n=r.scaleX,a=void 0===n?1:n,c=r.scaleY,i=void 0===c?1:c,l=r.zoomTo,s=void 0===l?0:l,u=r.rotateTo;t?e.enable():e.disable(),e.scaleX(a),e.scaleY(i),void 0!==u&&e.rotateTo(u),s>0&&e.zoomTo(s)}(e.currentTarget.cropper,M),w&&w(e)}}));x&&x(e)}return function(){var e,r;null===(r=null===(e=E.current)||void 0===e?void 0:e.cropper)||void 0===r||r.destroy()}}),[E]);var R=function(e){return c.reduce((function(e,r){var o=e,t=r;return o[t],a(o,[\"symbol\"==typeof t?t:t+\"\"])}),e)}(n(n({},j),{crossOrigin:g,src:v,alt:C}));return e.createElement(\"div\",{style:f,className:m},e.createElement(\"img\",n({},R,{style:i,ref:E})))}));export{l as Cropper,l as default};\n","/**\nA function that returns a universally unique identifier (uuid).  \nexample: 1b83fd69-abe7-468c-bea1-306a8aa1c81d\n@returns `string` : 32 character uuid (see example)\n*/\nfunction uuid() {\n\tconst hashTable = [\n\t\t\"a\",\n\t\t\"b\",\n\t\t\"c\",\n\t\t\"d\",\n\t\t\"e\",\n\t\t\"f\",\n\t\t\"0\",\n\t\t\"1\",\n\t\t\"2\",\n\t\t\"3\",\n\t\t\"4\",\n\t\t\"5\",\n\t\t\"6\",\n\t\t\"7\",\n\t\t\"8\",\n\t\t\"9\",\n\t];\n\tlet uuid = [];\n\tfor (let i = 0; i < 36; i++) {\n\t\tif (i === 8 || i === 13 || i === 18 || i === 23) {\n\t\t\tuuid[i] = \"-\";\n\t\t} else {\n\t\t\tuuid[i] = hashTable[Math.ceil(Math.random() * hashTable.length - 1)];\n\t\t}\n\t}\n\treturn uuid.join(\"\");\n}\n\nmodule.exports = uuid;\n","// https://gist.github.com/tonytonyjan/ffb7cd0e82cb293b843ece7e79364233\n// Copyright (c) 2022 Weihang Jian <tonytonyjan@gmail.com>\n\nexport default async function copyExifWithoutOrientation(srcBlob, destBlob) {\n  const exif = await getApp1Segment(srcBlob);\n  return new Blob([destBlob.slice(0, 2), exif, destBlob.slice(2)], {\n    type: 'image/jpeg',\n  });\n}\n\nconst SOI = 0xffd8;\nconst SOS = 0xffda;\nconst APP1 = 0xffe1;\nconst EXIF = 0x45786966;\nconst LITTLE_ENDIAN = 0x4949;\nconst BIG_ENDIAN = 0x4d4d;\nconst TAG_ID_ORIENTATION = 0x0112;\nconst TAG_TYPE_SHORT = 3;\nconst getApp1Segment = (blob) => new Promise((resolve, reject) => {\n  const reader = new FileReader();\n  reader.addEventListener('load', ({ target: { result: buffer } }) => {\n    const view = new DataView(buffer);\n    let offset = 0;\n    if (view.getUint16(offset) !== SOI) return reject('not a valid JPEG');\n    offset += 2;\n\n    while (true) {\n      const marker = view.getUint16(offset);\n      if (marker === SOS) break;\n\n      const size = view.getUint16(offset + 2);\n      if (marker === APP1 && view.getUint32(offset + 4) === EXIF) {\n        const tiffOffset = offset + 10;\n        let littleEndian;\n        switch (view.getUint16(tiffOffset)) {\n          case LITTLE_ENDIAN:\n            littleEndian = true;\n            break;\n          case BIG_ENDIAN:\n            littleEndian = false;\n            break;\n          default:\n            return reject('TIFF header contains invalid endian');\n        }\n        if (view.getUint16(tiffOffset + 2, littleEndian) !== 0x2a) { return reject('TIFF header contains invalid version'); }\n\n        const ifd0Offset = view.getUint32(tiffOffset + 4, littleEndian);\n        const endOfTagsOffset = tiffOffset\n              + ifd0Offset\n              + 2\n              + view.getUint16(tiffOffset + ifd0Offset, littleEndian) * 12;\n        for (\n          let i = tiffOffset + ifd0Offset + 2;\n          i < endOfTagsOffset;\n          i += 12\n        ) {\n          const tagId = view.getUint16(i, littleEndian);\n          if (tagId == TAG_ID_ORIENTATION) {\n            if (view.getUint16(i + 2, littleEndian) !== TAG_TYPE_SHORT) { return reject('Orientation data type is invalid'); }\n\n            if (view.getUint32(i + 4, littleEndian) !== 1) { return reject('Orientation data count is invalid'); }\n\n            view.setUint16(i + 8, 1, littleEndian);\n            break;\n          }\n        }\n        return resolve(buffer.slice(offset, offset + 2 + size));\n      }\n      offset += 2 + size;\n    }\n    return resolve(new Blob());\n  });\n  reader.readAsArrayBuffer(blob);\n});\n","\r\n\r\nvar UZIP = {};\r\nif(typeof module == \"object\") module.exports = UZIP;\r\n\r\n\r\nUZIP[\"parse\"] = function(buf, onlyNames)\t// ArrayBuffer\r\n{\r\n\tvar rUs = UZIP.bin.readUshort, rUi = UZIP.bin.readUint, o = 0, out = {};\r\n\tvar data = new Uint8Array(buf);\r\n\tvar eocd = data.length-4;\r\n\t\r\n\twhile(rUi(data, eocd)!=0x06054b50) eocd--;\r\n\t\r\n\tvar o = eocd;\r\n\to+=4;\t// sign  = 0x06054b50\r\n\to+=4;  // disks = 0;\r\n\tvar cnu = rUs(data, o);  o+=2;\r\n\tvar cnt = rUs(data, o);  o+=2;\r\n\t\t\t\r\n\tvar csize = rUi(data, o);  o+=4;\r\n\tvar coffs = rUi(data, o);  o+=4;\r\n\t\r\n\to = coffs;\r\n\tfor(var i=0; i<cnu; i++)\r\n\t{\r\n\t\tvar sign = rUi(data, o);  o+=4;\r\n\t\to += 4;  // versions;\r\n\t\to += 4;  // flag + compr\r\n\t\to += 4;  // time\r\n\t\t\r\n\t\tvar crc32 = rUi(data, o);  o+=4;\r\n\t\tvar csize = rUi(data, o);  o+=4;\r\n\t\tvar usize = rUi(data, o);  o+=4;\r\n\t\t\r\n\t\tvar nl = rUs(data, o), el = rUs(data, o+2), cl = rUs(data, o+4);  o += 6;  // name, extra, comment\r\n\t\to += 8;  // disk, attribs\r\n\t\t\r\n\t\tvar roff = rUi(data, o);  o+=4;\r\n\t\to += nl + el + cl;\r\n\t\t\r\n\t\tUZIP._readLocal(data, roff, out, csize, usize, onlyNames);\r\n\t}\r\n\t//console.log(out);\r\n\treturn out;\r\n}\r\n\r\nUZIP._readLocal = function(data, o, out, csize, usize, onlyNames)\r\n{\r\n\tvar rUs = UZIP.bin.readUshort, rUi = UZIP.bin.readUint;\r\n\tvar sign  = rUi(data, o);  o+=4;\r\n\tvar ver   = rUs(data, o);  o+=2;\r\n\tvar gpflg = rUs(data, o);  o+=2;\r\n\t//if((gpflg&8)!=0) throw \"unknown sizes\";\r\n\tvar cmpr  = rUs(data, o);  o+=2;\r\n\t\r\n\tvar time  = rUi(data, o);  o+=4;\r\n\t\r\n\tvar crc32 = rUi(data, o);  o+=4;\r\n\t//var csize = rUi(data, o);  o+=4;\r\n\t//var usize = rUi(data, o);  o+=4;\r\n\to+=8;\r\n\t\t\r\n\tvar nlen  = rUs(data, o);  o+=2;\r\n\tvar elen  = rUs(data, o);  o+=2;\r\n\t\t\r\n\tvar name =  UZIP.bin.readUTF8(data, o, nlen);  o+=nlen;  //console.log(name);\r\n\to += elen;\r\n\t\t\t\r\n\t//console.log(sign.toString(16), ver, gpflg, cmpr, crc32.toString(16), \"csize, usize\", csize, usize, nlen, elen, name, o);\r\n\tif(onlyNames) {  out[name]={size:usize, csize:csize};  return;  }   \r\n\tvar file = new Uint8Array(data.buffer, o);\r\n\tif(false) {}\r\n\telse if(cmpr==0) out[name] = new Uint8Array(file.buffer.slice(o, o+csize));\r\n\telse if(cmpr==8) {\r\n\t\tvar buf = new Uint8Array(usize);  UZIP.inflateRaw(file, buf);\r\n\t\t/*var nbuf = pako[\"inflateRaw\"](file);\r\n\t\tif(usize>8514000) {\r\n\t\t\t//console.log(PUtils.readASCII(buf , 8514500, 500));\r\n\t\t\t//console.log(PUtils.readASCII(nbuf, 8514500, 500));\r\n\t\t}\r\n\t\tfor(var i=0; i<buf.length; i++) if(buf[i]!=nbuf[i]) {  console.log(buf.length, nbuf.length, usize, i);  throw \"e\";  }\r\n\t\t*/\r\n\t\tout[name] = buf;\r\n\t}\r\n\telse throw \"unknown compression method: \"+cmpr;\r\n}\r\n\r\nUZIP.inflateRaw = function(file, buf) {  return UZIP.F.inflate(file, buf);  }\r\nUZIP.inflate    = function(file, buf) { \r\n\tvar CMF = file[0], FLG = file[1];\r\n\tvar CM = (CMF&15), CINFO = (CMF>>>4);\r\n\t//console.log(CM, CINFO,CMF,FLG);\r\n\treturn UZIP.inflateRaw(new Uint8Array(file.buffer, file.byteOffset+2, file.length-6), buf);  \r\n}\r\nUZIP.deflate    = function(data, opts/*, buf, off*/) {\r\n\tif(opts==null) opts={level:6};\r\n\tvar off=0, buf=new Uint8Array(50+Math.floor(data.length*1.1));\r\n\tbuf[off]=120;  buf[off+1]=156;  off+=2;\r\n\toff = UZIP.F.deflateRaw(data, buf, off, opts.level);\r\n\tvar crc = UZIP.adler(data, 0, data.length);\r\n\tbuf[off+0]=((crc>>>24)&255); \r\n\tbuf[off+1]=((crc>>>16)&255); \r\n\tbuf[off+2]=((crc>>> 8)&255); \r\n\tbuf[off+3]=((crc>>> 0)&255); \t\r\n\treturn new Uint8Array(buf.buffer, 0, off+4);\r\n}\r\nUZIP.deflateRaw = function(data, opts) {\r\n\tif(opts==null) opts={level:6};\r\n\tvar buf=new Uint8Array(50+Math.floor(data.length*1.1));\r\n\tvar off = UZIP.F.deflateRaw(data, buf, off, opts.level);\r\n\treturn new Uint8Array(buf.buffer, 0, off);\r\n}\r\n\r\n\r\nUZIP.encode = function(obj, noCmpr) {\r\n\tif(noCmpr==null) noCmpr=false;\r\n\tvar tot = 0, wUi = UZIP.bin.writeUint, wUs = UZIP.bin.writeUshort;\r\n\tvar zpd = {};\r\n\tfor(var p in obj) {  var cpr = !UZIP._noNeed(p) && !noCmpr, buf = obj[p], crc = UZIP.crc.crc(buf,0,buf.length); \r\n\t\tzpd[p] = {  cpr:cpr, usize:buf.length, crc:crc, file: (cpr ? UZIP.deflateRaw(buf) : buf)  };  }\r\n\t\r\n\tfor(var p in zpd) tot += zpd[p].file.length + 30 + 46 + 2*UZIP.bin.sizeUTF8(p);\r\n\ttot +=  22;\r\n\t\r\n\tvar data = new Uint8Array(tot), o = 0;\r\n\tvar fof = []\r\n\t\r\n\tfor(var p in zpd) {\r\n\t\tvar file = zpd[p];  fof.push(o);\r\n\t\to = UZIP._writeHeader(data, o, p, file, 0);\r\n\t}\r\n\tvar i=0, ioff = o;\r\n\tfor(var p in zpd) {\r\n\t\tvar file = zpd[p];  fof.push(o);\r\n\t\to = UZIP._writeHeader(data, o, p, file, 1, fof[i++]);\t\t\r\n\t}\r\n\tvar csize = o-ioff;\r\n\t\r\n\twUi(data, o, 0x06054b50);  o+=4;\r\n\to += 4;  // disks\r\n\twUs(data, o, i);  o += 2;\r\n\twUs(data, o, i);  o += 2;\t// number of c d records\r\n\twUi(data, o, csize);  o += 4;\r\n\twUi(data, o, ioff );  o += 4;\r\n\to += 2;\r\n\treturn data.buffer;\r\n}\r\n// no need to compress .PNG, .ZIP, .JPEG ....\r\nUZIP._noNeed = function(fn) {  var ext = fn.split(\".\").pop().toLowerCase();  return \"png,jpg,jpeg,zip\".indexOf(ext)!=-1;  }\r\n\r\nUZIP._writeHeader = function(data, o, p, obj, t, roff)\r\n{\r\n\tvar wUi = UZIP.bin.writeUint, wUs = UZIP.bin.writeUshort;\r\n\tvar file = obj.file;\r\n\t\r\n\twUi(data, o, t==0 ? 0x04034b50 : 0x02014b50);  o+=4; // sign\r\n\tif(t==1) o+=2;  // ver made by\r\n\twUs(data, o, 20);  o+=2;\t// ver\r\n\twUs(data, o,  0);  o+=2;    // gflip\r\n\twUs(data, o,  obj.cpr?8:0);  o+=2;\t// cmpr\r\n\t\t\r\n\twUi(data, o,  0);  o+=4;\t// time\t\t\r\n\twUi(data, o, obj.crc);  o+=4;\t// crc32\r\n\twUi(data, o, file.length);  o+=4;\t// csize\r\n\twUi(data, o, obj.usize);  o+=4;\t// usize\r\n\t\t\r\n\twUs(data, o, UZIP.bin.sizeUTF8(p));  o+=2;\t// nlen\r\n\twUs(data, o, 0);  o+=2;\t// elen\r\n\t\r\n\tif(t==1) {\r\n\t\to += 2;  // comment length\r\n\t\to += 2;  // disk number\r\n\t\to += 6;  // attributes\r\n\t\twUi(data, o, roff);  o+=4;\t// usize\r\n\t}\r\n\tvar nlen = UZIP.bin.writeUTF8(data, o, p);  o+= nlen;\t\r\n\tif(t==0) {  data.set(file, o);  o += file.length;  }\r\n\treturn o;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nUZIP.crc = {\r\n\ttable : ( function() {\r\n\t   var tab = new Uint32Array(256);\r\n\t   for (var n=0; n<256; n++) {\r\n\t\t\tvar c = n;\r\n\t\t\tfor (var k=0; k<8; k++) {\r\n\t\t\t\tif (c & 1)  c = 0xedb88320 ^ (c >>> 1);\r\n\t\t\t\telse        c = c >>> 1;\r\n\t\t\t}\r\n\t\t\ttab[n] = c;  }    \r\n\t\treturn tab;  })(),\r\n\tupdate : function(c, buf, off, len) {\r\n\t\tfor (var i=0; i<len; i++)  c = UZIP.crc.table[(c ^ buf[off+i]) & 0xff] ^ (c >>> 8);\r\n\t\treturn c;\r\n\t},\r\n\tcrc : function(b,o,l)  {  return UZIP.crc.update(0xffffffff,b,o,l) ^ 0xffffffff;  }\r\n}\r\nUZIP.adler = function(data,o,len) {\r\n\tvar a = 1, b = 0;\r\n\tvar off = o, end=o+len;\r\n\twhile(off<end) {\r\n\t\tvar eend = Math.min(off+5552, end);\r\n\t\twhile(off<eend) {\r\n\t\t\ta += data[off++];\r\n\t\t\tb += a;\r\n\t\t}\r\n\t\ta=a%65521;\r\n\t\tb=b%65521;\r\n\t}\r\n    return (b << 16) | a;\r\n}\r\n\r\nUZIP.bin = {\r\n\treadUshort : function(buff,p)  {  return (buff[p]) | (buff[p+1]<<8);  },\r\n\twriteUshort: function(buff,p,n){  buff[p] = (n)&255;  buff[p+1] = (n>>8)&255;  },\r\n\treadUint   : function(buff,p)  {  return (buff[p+3]*(256*256*256)) + ((buff[p+2]<<16) | (buff[p+1]<< 8) | buff[p]);  },\r\n\twriteUint  : function(buff,p,n){  buff[p]=n&255;  buff[p+1]=(n>>8)&255;  buff[p+2]=(n>>16)&255;  buff[p+3]=(n>>24)&255;  },\r\n\treadASCII  : function(buff,p,l){  var s = \"\";  for(var i=0; i<l; i++) s += String.fromCharCode(buff[p+i]);  return s;    },\r\n\twriteASCII : function(data,p,s){  for(var i=0; i<s.length; i++) data[p+i] = s.charCodeAt(i);  },\r\n\tpad : function(n) { return n.length < 2 ? \"0\" + n : n; },\r\n\treadUTF8 : function(buff, p, l) {\r\n\t\tvar s = \"\", ns;\r\n\t\tfor(var i=0; i<l; i++) s += \"%\" + UZIP.bin.pad(buff[p+i].toString(16));\r\n\t\ttry {  ns = decodeURIComponent(s); }\r\n\t\tcatch(e) {  return UZIP.bin.readASCII(buff, p, l);  }\r\n\t\treturn  ns;\r\n\t},\r\n\twriteUTF8 : function(buff, p, str) {\r\n\t\tvar strl = str.length, i=0;\r\n\t\tfor(var ci=0; ci<strl; ci++)\r\n\t\t{\r\n\t\t\tvar code = str.charCodeAt(ci);\r\n\t\t\tif     ((code&(0xffffffff-(1<< 7)+1))==0) {  buff[p+i] = (     code     );  i++;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<11)+1))==0) {  buff[p+i] = (192|(code>> 6));  buff[p+i+1] = (128|((code>> 0)&63));  i+=2;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<16)+1))==0) {  buff[p+i] = (224|(code>>12));  buff[p+i+1] = (128|((code>> 6)&63));  buff[p+i+2] = (128|((code>>0)&63));  i+=3;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<21)+1))==0) {  buff[p+i] = (240|(code>>18));  buff[p+i+1] = (128|((code>>12)&63));  buff[p+i+2] = (128|((code>>6)&63));  buff[p+i+3] = (128|((code>>0)&63)); i+=4;  }\r\n\t\t\telse throw \"e\";\r\n\t\t}\r\n\t\treturn i;\r\n\t},\r\n\tsizeUTF8 : function(str) {\r\n\t\tvar strl = str.length, i=0;\r\n\t\tfor(var ci=0; ci<strl; ci++)\r\n\t\t{\r\n\t\t\tvar code = str.charCodeAt(ci);\r\n\t\t\tif     ((code&(0xffffffff-(1<< 7)+1))==0) {  i++ ;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<11)+1))==0) {  i+=2;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<16)+1))==0) {  i+=3;  }\r\n\t\t\telse if((code&(0xffffffff-(1<<21)+1))==0) {  i+=4;  }\r\n\t\t\telse throw \"e\";\r\n\t\t}\r\n\t\treturn i;\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nUZIP.F = {};\r\n\r\nUZIP.F.deflateRaw = function(data, out, opos, lvl) {\t\r\n\tvar opts = [\r\n\t/*\r\n\t\t ush good_length; /* reduce lazy search above this match length \r\n\t\t ush max_lazy;    /* do not perform lazy search above this match length \r\n         ush nice_length; /* quit search above this match length \r\n\t*/\r\n\t/*      good lazy nice chain */\r\n\t/* 0 */ [ 0,   0,   0,    0,0],  /* store only */\r\n\t/* 1 */ [ 4,   4,   8,    4,0], /* max speed, no lazy matches */\r\n\t/* 2 */ [ 4,   5,  16,    8,0],\r\n\t/* 3 */ [ 4,   6,  16,   16,0],\r\n\r\n\t/* 4 */ [ 4,  10,  16,   32,0],  /* lazy matches */\r\n\t/* 5 */ [ 8,  16,  32,   32,0],\r\n\t/* 6 */ [ 8,  16, 128,  128,0],\r\n\t/* 7 */ [ 8,  32, 128,  256,0],\r\n\t/* 8 */ [32, 128, 258, 1024,1],\r\n\t/* 9 */ [32, 258, 258, 4096,1]]; /* max compression */\r\n\t\r\n\tvar opt = opts[lvl];\r\n\t\r\n\t\r\n\tvar U = UZIP.F.U, goodIndex = UZIP.F._goodIndex, hash = UZIP.F._hash, putsE = UZIP.F._putsE;\r\n\tvar i = 0, pos = opos<<3, cvrd = 0, dlen = data.length;\r\n\t\r\n\tif(lvl==0) {\r\n\t\twhile(i<dlen) {   var len = Math.min(0xffff, dlen-i);\r\n\t\t\tputsE(out, pos, (i+len==dlen ? 1 : 0));  pos = UZIP.F._copyExact(data, i, len, out, pos+8);  i += len;  }\r\n\t\treturn pos>>>3;\r\n\t}\r\n\r\n\tvar lits = U.lits, strt=U.strt, prev=U.prev, li=0, lc=0, bs=0, ebits=0, c=0, nc=0;  // last_item, literal_count, block_start\r\n\tif(dlen>2) {  nc=UZIP.F._hash(data,0);  strt[nc]=0;  }\r\n\tvar nmch=0,nmci=0;\r\n\t\r\n\tfor(i=0; i<dlen; i++)  {\r\n\t\tc = nc;\r\n\t\t//*\r\n\t\tif(i+1<dlen-2) {\r\n\t\t\tnc = UZIP.F._hash(data, i+1);\r\n\t\t\tvar ii = ((i+1)&0x7fff);\r\n\t\t\tprev[ii]=strt[nc];\r\n\t\t\tstrt[nc]=ii;\r\n\t\t} //*/\r\n\t\tif(cvrd<=i) {\r\n\t\t\tif((li>14000 || lc>26697) && (dlen-i)>100) {\r\n\t\t\t\tif(cvrd<i) {  lits[li]=i-cvrd;  li+=2;  cvrd=i;  }\r\n\t\t\t\tpos = UZIP.F._writeBlock(((i==dlen-1) || (cvrd==dlen))?1:0, lits, li, ebits, data,bs,i-bs, out, pos);  li=lc=ebits=0;  bs=i;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar mch = 0;\r\n\t\t\t//if(nmci==i) mch= nmch;  else \r\n\t\t\tif(i<dlen-2) mch = UZIP.F._bestMatch(data, i, prev, c, Math.min(opt[2],dlen-i), opt[3]);\r\n\t\t\t/*\r\n\t\t\tif(mch!=0 && opt[4]==1 && (mch>>>16)<opt[1] && i+1<dlen-2) {\r\n\t\t\t\tnmch = UZIP.F._bestMatch(data, i+1, prev, nc, opt[2], opt[3]);  nmci=i+1;\r\n\t\t\t\t//var mch2 = UZIP.F._bestMatch(data, i+2, prev, nnc);  //nmci=i+1;\r\n\t\t\t\tif((nmch>>>16)>(mch>>>16)) mch=0;\r\n\t\t\t}//*/\r\n\t\t\tvar len = mch>>>16, dst = mch&0xffff;  //if(i-dst<0) throw \"e\";\r\n\t\t\tif(mch!=0) { \r\n\t\t\t\tvar len = mch>>>16, dst = mch&0xffff;  //if(i-dst<0) throw \"e\";\r\n\t\t\t\tvar lgi = goodIndex(len, U.of0);  U.lhst[257+lgi]++; \r\n\t\t\t\tvar dgi = goodIndex(dst, U.df0);  U.dhst[    dgi]++;  ebits += U.exb[lgi] + U.dxb[dgi]; \r\n\t\t\t\tlits[li] = (len<<23)|(i-cvrd);  lits[li+1] = (dst<<16)|(lgi<<8)|dgi;  li+=2;\r\n\t\t\t\tcvrd = i + len;  \r\n\t\t\t}\r\n\t\t\telse {\tU.lhst[data[i]]++;  }\r\n\t\t\tlc++;\r\n\t\t}\r\n\t}\r\n\tif(bs!=i || data.length==0) {\r\n\t\tif(cvrd<i) {  lits[li]=i-cvrd;  li+=2;  cvrd=i;  }\r\n\t\tpos = UZIP.F._writeBlock(1, lits, li, ebits, data,bs,i-bs, out, pos);  li=0;  lc=0;  li=lc=ebits=0;  bs=i;\r\n\t}\r\n\twhile((pos&7)!=0) pos++;\r\n\treturn pos>>>3;\r\n}\r\nUZIP.F._bestMatch = function(data, i, prev, c, nice, chain) {\r\n\tvar ci = (i&0x7fff), pi=prev[ci];  \r\n\t//console.log(\"----\", i);\r\n\tvar dif = ((ci-pi + (1<<15)) & 0x7fff);  if(pi==ci || c!=UZIP.F._hash(data,i-dif)) return 0;\r\n\tvar tl=0, td=0;  // top length, top distance\r\n\tvar dlim = Math.min(0x7fff, i);\r\n\twhile(dif<=dlim && --chain!=0 && pi!=ci /*&& c==UZIP.F._hash(data,i-dif)*/) {\r\n\t\tif(tl==0 || (data[i+tl]==data[i+tl-dif])) {\r\n\t\t\tvar cl = UZIP.F._howLong(data, i, dif);\r\n\t\t\tif(cl>tl) {  \r\n\t\t\t\ttl=cl;  td=dif;  if(tl>=nice) break;    //* \r\n\t\t\t\tif(dif+2<cl) cl = dif+2;\r\n\t\t\t\tvar maxd = 0; // pi does not point to the start of the word\r\n\t\t\t\tfor(var j=0; j<cl-2; j++) {\r\n\t\t\t\t\tvar ei =  (i-dif+j+ (1<<15)) & 0x7fff;\r\n\t\t\t\t\tvar li = prev[ei];\r\n\t\t\t\t\tvar curd = (ei-li + (1<<15)) & 0x7fff;\r\n\t\t\t\t\tif(curd>maxd) {  maxd=curd;  pi = ei; }\r\n\t\t\t\t}  //*/\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tci=pi;  pi = prev[ci];\r\n\t\tdif += ((ci-pi + (1<<15)) & 0x7fff);\r\n\t}\r\n\treturn (tl<<16)|td;\r\n}\r\nUZIP.F._howLong = function(data, i, dif) {\r\n\tif(data[i]!=data[i-dif] || data[i+1]!=data[i+1-dif] || data[i+2]!=data[i+2-dif]) return 0;\r\n\tvar oi=i, l = Math.min(data.length, i+258);  i+=3;\r\n\t//while(i+4<l && data[i]==data[i-dif] && data[i+1]==data[i+1-dif] && data[i+2]==data[i+2-dif] && data[i+3]==data[i+3-dif]) i+=4;\r\n\twhile(i<l && data[i]==data[i-dif]) i++;\r\n\treturn i-oi;\r\n}\r\nUZIP.F._hash = function(data, i) {\r\n\treturn (((data[i]<<8) | data[i+1])+(data[i+2]<<4))&0xffff;\r\n\t//var hash_shift = 0, hash_mask = 255;\r\n\t//var h = data[i+1] % 251;\r\n\t//h = (((h << 8) + data[i+2]) % 251);\r\n\t//h = (((h << 8) + data[i+2]) % 251);\r\n\t//h = ((h<<hash_shift) ^ (c) ) & hash_mask;\r\n\t//return h | (data[i]<<8);\r\n\t//return (data[i] | (data[i+1]<<8));\r\n}\r\n//UZIP.___toth = 0;\r\nUZIP.saved = 0;\r\nUZIP.F._writeBlock = function(BFINAL, lits, li, ebits, data,o0,l0, out, pos) {\r\n\tvar U = UZIP.F.U, putsF = UZIP.F._putsF, putsE = UZIP.F._putsE;\r\n\t\r\n\t//*\r\n\tvar T, ML, MD, MH, numl, numd, numh, lset, dset;  U.lhst[256]++;\r\n\tT = UZIP.F.getTrees(); ML=T[0]; MD=T[1]; MH=T[2]; numl=T[3]; numd=T[4]; numh=T[5]; lset=T[6]; dset=T[7];\r\n\t\r\n\tvar cstSize = (((pos+3)&7)==0 ? 0 : 8-((pos+3)&7)) + 32 + (l0<<3);\r\n\tvar fxdSize = ebits + UZIP.F.contSize(U.fltree, U.lhst) + UZIP.F.contSize(U.fdtree, U.dhst);\r\n\tvar dynSize = ebits + UZIP.F.contSize(U.ltree , U.lhst) + UZIP.F.contSize(U.dtree , U.dhst);\r\n\tdynSize    += 14 + 3*numh + UZIP.F.contSize(U.itree, U.ihst) + (U.ihst[16]*2 + U.ihst[17]*3 + U.ihst[18]*7);\r\n\t\r\n\tfor(var j=0; j<286; j++) U.lhst[j]=0;   for(var j=0; j<30; j++) U.dhst[j]=0;   for(var j=0; j<19; j++) U.ihst[j]=0;\r\n\t//*/\r\n\tvar BTYPE = (cstSize<fxdSize && cstSize<dynSize) ? 0 : ( fxdSize<dynSize ? 1 : 2 );\r\n\tputsF(out, pos, BFINAL);  putsF(out, pos+1, BTYPE);  pos+=3;\r\n\t\r\n\tvar opos = pos;\r\n\tif(BTYPE==0) {\r\n\t\twhile((pos&7)!=0) pos++;\r\n\t\tpos = UZIP.F._copyExact(data, o0, l0, out, pos);\r\n\t}\r\n\telse {\r\n\t\tvar ltree, dtree;\r\n\t\tif(BTYPE==1) {  ltree=U.fltree;  dtree=U.fdtree;  }\r\n\t\tif(BTYPE==2) {\t\r\n\t\t\tUZIP.F.makeCodes(U.ltree, ML);  UZIP.F.revCodes(U.ltree, ML);\r\n\t\t\tUZIP.F.makeCodes(U.dtree, MD);  UZIP.F.revCodes(U.dtree, MD);\r\n\t\t\tUZIP.F.makeCodes(U.itree, MH);  UZIP.F.revCodes(U.itree, MH);\r\n\t\t\t\r\n\t\t\tltree = U.ltree;  dtree = U.dtree;\r\n\t\t\t\r\n\t\t\tputsE(out, pos,numl-257);  pos+=5;  // 286\r\n\t\t\tputsE(out, pos,numd-  1);  pos+=5;  // 30\r\n\t\t\tputsE(out, pos,numh-  4);  pos+=4;  // 19\r\n\t\t\t\r\n\t\t\tfor(var i=0; i<numh; i++) putsE(out, pos+i*3, U.itree[(U.ordr[i]<<1)+1]);   pos+=3* numh;\r\n\t\t\tpos = UZIP.F._codeTiny(lset, U.itree, out, pos);\r\n\t\t\tpos = UZIP.F._codeTiny(dset, U.itree, out, pos);\r\n\t\t}\r\n\t\t\r\n\t\tvar off=o0;\r\n\t\tfor(var si=0; si<li; si+=2) {\r\n\t\t\tvar qb=lits[si], len=(qb>>>23), end = off+(qb&((1<<23)-1));\r\n\t\t\twhile(off<end) pos = UZIP.F._writeLit(data[off++], ltree, out, pos);\r\n\t\t\t\r\n\t\t\tif(len!=0) {\r\n\t\t\t\tvar qc = lits[si+1], dst=(qc>>16), lgi=(qc>>8)&255, dgi=(qc&255);\r\n\t\t\t\tpos = UZIP.F._writeLit(257+lgi, ltree, out, pos);\r\n\t\t\t\tputsE(out, pos, len-U.of0[lgi]);  pos+=U.exb[lgi];\r\n\t\t\t\t\r\n\t\t\t\tpos = UZIP.F._writeLit(dgi, dtree, out, pos);\r\n\t\t\t\tputsF(out, pos, dst-U.df0[dgi]);  pos+=U.dxb[dgi];  off+=len;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpos = UZIP.F._writeLit(256, ltree, out, pos);\r\n\t}\r\n\t//console.log(pos-opos, fxdSize, dynSize, cstSize);\r\n\treturn pos;\r\n}\r\nUZIP.F._copyExact = function(data,off,len,out,pos) {\r\n\tvar p8 = (pos>>>3);\r\n\tout[p8]=(len);  out[p8+1]=(len>>>8);  out[p8+2]=255-out[p8];  out[p8+3]=255-out[p8+1];  p8+=4;\r\n\tout.set(new Uint8Array(data.buffer, off, len), p8);\r\n\t//for(var i=0; i<len; i++) out[p8+i]=data[off+i];\r\n\treturn pos + ((len+4)<<3);\r\n}\r\n/*\r\n\tInteresting facts:\r\n\t- decompressed block can have bytes, which do not occur in a Huffman tree (copied from the previous block by reference)\r\n*/\r\n\r\nUZIP.F.getTrees = function() {\r\n\tvar U = UZIP.F.U;\r\n\tvar ML = UZIP.F._hufTree(U.lhst, U.ltree, 15);\r\n\tvar MD = UZIP.F._hufTree(U.dhst, U.dtree, 15);\r\n\tvar lset = [], numl = UZIP.F._lenCodes(U.ltree, lset);\r\n\tvar dset = [], numd = UZIP.F._lenCodes(U.dtree, dset);\r\n\tfor(var i=0; i<lset.length; i+=2) U.ihst[lset[i]]++;\r\n\tfor(var i=0; i<dset.length; i+=2) U.ihst[dset[i]]++;\r\n\tvar MH = UZIP.F._hufTree(U.ihst, U.itree,  7);\r\n\tvar numh = 19;  while(numh>4 && U.itree[(U.ordr[numh-1]<<1)+1]==0) numh--;\r\n\treturn [ML, MD, MH, numl, numd, numh, lset, dset];\r\n}\r\nUZIP.F.getSecond= function(a) {  var b=[];  for(var i=0; i<a.length; i+=2) b.push  (a[i+1]);  return b;  }\r\nUZIP.F.nonZero  = function(a) {  var b= \"\";  for(var i=0; i<a.length; i+=2) if(a[i+1]!=0)b+=(i>>1)+\",\";  return b;  }\r\nUZIP.F.contSize = function(tree, hst) {  var s=0;  for(var i=0; i<hst.length; i++) s+= hst[i]*tree[(i<<1)+1];  return s;  }\r\nUZIP.F._codeTiny = function(set, tree, out, pos) {\r\n\tfor(var i=0; i<set.length; i+=2) {\r\n\t\tvar l = set[i], rst = set[i+1];  //console.log(l, pos, tree[(l<<1)+1]);\r\n\t\tpos = UZIP.F._writeLit(l, tree, out, pos);\r\n\t\tvar rsl = l==16 ? 2 : (l==17 ? 3 : 7);\r\n\t\tif(l>15) {  UZIP.F._putsE(out, pos, rst, rsl);  pos+=rsl;  }\r\n\t}\r\n\treturn pos;\r\n}\r\nUZIP.F._lenCodes = function(tree, set) {\r\n\tvar len=tree.length;  while(len!=2 && tree[len-1]==0) len-=2;  // when no distances, keep one code with length 0\r\n\tfor(var i=0; i<len; i+=2) {\r\n\t\tvar l = tree[i+1], nxt = (i+3<len ? tree[i+3]:-1),  nnxt = (i+5<len ? tree[i+5]:-1),  prv = (i==0 ? -1 : tree[i-1]);\r\n\t\tif(l==0 && nxt==l && nnxt==l) {\r\n\t\t\tvar lz = i+5;\r\n\t\t\twhile(lz+2<len && tree[lz+2]==l) lz+=2;\r\n\t\t\tvar zc = Math.min((lz+1-i)>>>1, 138);\r\n\t\t\tif(zc<11) set.push(17, zc-3);\r\n\t\t\telse set.push(18, zc-11);\r\n\t\t\ti += zc*2-2;\r\n\t\t}\r\n\t\telse if(l==prv && nxt==l && nnxt==l) {\r\n\t\t\tvar lz = i+5;\r\n\t\t\twhile(lz+2<len && tree[lz+2]==l) lz+=2;\r\n\t\t\tvar zc = Math.min((lz+1-i)>>>1, 6);\r\n\t\t\tset.push(16, zc-3);\r\n\t\t\ti += zc*2-2;\r\n\t\t}\r\n\t\telse set.push(l, 0);\r\n\t}\r\n\treturn len>>>1;\r\n}\r\nUZIP.F._hufTree   = function(hst, tree, MAXL) {\r\n\tvar list=[], hl = hst.length, tl=tree.length, i=0;\r\n\tfor(i=0; i<tl; i+=2) {  tree[i]=0;  tree[i+1]=0;  }\t\r\n\tfor(i=0; i<hl; i++) if(hst[i]!=0) list.push({lit:i, f:hst[i]});\r\n\tvar end = list.length, l2=list.slice(0);\r\n\tif(end==0) return 0;  // empty histogram (usually for dist)\r\n\tif(end==1) {  var lit=list[0].lit, l2=lit==0?1:0;  tree[(lit<<1)+1]=1;  tree[(l2<<1)+1]=1;  return 1;  }\r\n\tlist.sort(function(a,b){return a.f-b.f;});\r\n\tvar a=list[0], b=list[1], i0=0, i1=1, i2=2;  list[0]={lit:-1,f:a.f+b.f,l:a,r:b,d:0};\r\n\twhile(i1!=end-1) {\r\n\t\tif(i0!=i1 && (i2==end || list[i0].f<list[i2].f)) {  a=list[i0++];  }  else {  a=list[i2++];  }\r\n\t\tif(i0!=i1 && (i2==end || list[i0].f<list[i2].f)) {  b=list[i0++];  }  else {  b=list[i2++];  }\r\n\t\tlist[i1++]={lit:-1,f:a.f+b.f, l:a,r:b};\r\n\t}\r\n\tvar maxl = UZIP.F.setDepth(list[i1-1], 0);\r\n\tif(maxl>MAXL) {  UZIP.F.restrictDepth(l2, MAXL, maxl);  maxl = MAXL;  }\r\n\tfor(i=0; i<end; i++) tree[(l2[i].lit<<1)+1]=l2[i].d;\r\n\treturn maxl;\r\n}\r\n\r\nUZIP.F.setDepth  = function(t, d) {\r\n\tif(t.lit!=-1) {  t.d=d;  return d;  }\r\n\treturn Math.max( UZIP.F.setDepth(t.l, d+1),  UZIP.F.setDepth(t.r, d+1) );\r\n}\r\n\r\nUZIP.F.restrictDepth = function(dps, MD, maxl) {\r\n\tvar i=0, bCost=1<<(maxl-MD), dbt=0;\r\n\tdps.sort(function(a,b){return b.d==a.d ? a.f-b.f : b.d-a.d;});\r\n\t\r\n\tfor(i=0; i<dps.length; i++) if(dps[i].d>MD) {  var od=dps[i].d;  dps[i].d=MD;  dbt+=bCost-(1<<(maxl-od));  }  else break;\r\n\tdbt = dbt>>>(maxl-MD);\r\n\twhile(dbt>0) {  var od=dps[i].d;  if(od<MD) {  dps[i].d++;  dbt-=(1<<(MD-od-1));  }  else  i++;  }\r\n\tfor(; i>=0; i--) if(dps[i].d==MD && dbt<0) {  dps[i].d--;  dbt++;  }  if(dbt!=0) console.log(\"debt left\");\r\n}\r\n\r\nUZIP.F._goodIndex = function(v, arr) {\r\n\tvar i=0;  if(arr[i|16]<=v) i|=16;  if(arr[i|8]<=v) i|=8;  if(arr[i|4]<=v) i|=4;  if(arr[i|2]<=v) i|=2;  if(arr[i|1]<=v) i|=1;  return i;\r\n}\r\nUZIP.F._writeLit = function(ch, ltree, out, pos) {\r\n\tUZIP.F._putsF(out, pos, ltree[ch<<1]);\r\n\treturn pos+ltree[(ch<<1)+1];\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nUZIP.F.inflate = function(data, buf) {\r\n\tvar u8=Uint8Array;\r\n\tif(data[0]==3 && data[1]==0) return (buf ? buf : new u8(0));\r\n\tvar F=UZIP.F, bitsF = F._bitsF, bitsE = F._bitsE, decodeTiny = F._decodeTiny, makeCodes = F.makeCodes, codes2map=F.codes2map, get17 = F._get17;\r\n\tvar U = F.U;\r\n\t\r\n\tvar noBuf = (buf==null);\r\n\tif(noBuf) buf = new u8((data.length>>>2)<<3);\r\n\t\r\n\tvar BFINAL=0, BTYPE=0, HLIT=0, HDIST=0, HCLEN=0, ML=0, MD=0; \t\r\n\tvar off = 0, pos = 0;\r\n\tvar lmap, dmap;\r\n\t\r\n\twhile(BFINAL==0) {\t\t\r\n\t\tBFINAL = bitsF(data, pos  , 1);\r\n\t\tBTYPE  = bitsF(data, pos+1, 2);  pos+=3;\r\n\t\t//console.log(BFINAL, BTYPE);\r\n\t\t\r\n\t\tif(BTYPE==0) {\r\n\t\t\tif((pos&7)!=0) pos+=8-(pos&7);\r\n\t\t\tvar p8 = (pos>>>3)+4, len = data[p8-4]|(data[p8-3]<<8);  //console.log(len);//bitsF(data, pos, 16), \r\n\t\t\tif(noBuf) buf=UZIP.F._check(buf, off+len);\r\n\t\t\tbuf.set(new u8(data.buffer, data.byteOffset+p8, len), off);\r\n\t\t\t//for(var i=0; i<len; i++) buf[off+i] = data[p8+i];\r\n\t\t\t//for(var i=0; i<len; i++) if(buf[off+i] != data[p8+i]) throw \"e\";\r\n\t\t\tpos = ((p8+len)<<3);  off+=len;  continue;\r\n\t\t}\r\n\t\tif(noBuf) buf=UZIP.F._check(buf, off+(1<<17));  // really not enough in many cases (but PNG and ZIP provide buffer in advance)\r\n\t\tif(BTYPE==1) {  lmap = U.flmap;  dmap = U.fdmap;  ML = (1<<9)-1;  MD = (1<<5)-1;   }\r\n\t\tif(BTYPE==2) {\r\n\t\t\tHLIT  = bitsE(data, pos   , 5)+257;  \r\n\t\t\tHDIST = bitsE(data, pos+ 5, 5)+  1;  \r\n\t\t\tHCLEN = bitsE(data, pos+10, 4)+  4;  pos+=14;\r\n\t\t\t\r\n\t\t\tvar ppos = pos;\r\n\t\t\tfor(var i=0; i<38; i+=2) {  U.itree[i]=0;  U.itree[i+1]=0;  }\r\n\t\t\tvar tl = 1;\r\n\t\t\tfor(var i=0; i<HCLEN; i++) {  var l=bitsE(data, pos+i*3, 3);  U.itree[(U.ordr[i]<<1)+1] = l;  if(l>tl)tl=l;  }     pos+=3*HCLEN;  //console.log(itree);\r\n\t\t\tmakeCodes(U.itree, tl);\r\n\t\t\tcodes2map(U.itree, tl, U.imap);\r\n\t\t\t\r\n\t\t\tlmap = U.lmap;  dmap = U.dmap;\r\n\t\t\t\r\n\t\t\tpos = decodeTiny(U.imap, (1<<tl)-1, HLIT+HDIST, data, pos, U.ttree);\r\n\t\t\tvar mx0 = F._copyOut(U.ttree,    0, HLIT , U.ltree);  ML = (1<<mx0)-1;\r\n\t\t\tvar mx1 = F._copyOut(U.ttree, HLIT, HDIST, U.dtree);  MD = (1<<mx1)-1;\r\n\t\t\t\r\n\t\t\t//var ml = decodeTiny(U.imap, (1<<tl)-1, HLIT , data, pos, U.ltree); ML = (1<<(ml>>>24))-1;  pos+=(ml&0xffffff);\r\n\t\t\tmakeCodes(U.ltree, mx0);\r\n\t\t\tcodes2map(U.ltree, mx0, lmap);\r\n\t\t\t\r\n\t\t\t//var md = decodeTiny(U.imap, (1<<tl)-1, HDIST, data, pos, U.dtree); MD = (1<<(md>>>24))-1;  pos+=(md&0xffffff);\r\n\t\t\tmakeCodes(U.dtree, mx1);\r\n\t\t\tcodes2map(U.dtree, mx1, dmap);\r\n\t\t}\r\n\t\t//var ooff=off, opos=pos;\r\n\t\twhile(true) {\r\n\t\t\tvar code = lmap[get17(data, pos) & ML];  pos += code&15;\r\n\t\t\tvar lit = code>>>4;  //U.lhst[lit]++;  \r\n\t\t\tif((lit>>>8)==0) {  buf[off++] = lit;  }\r\n\t\t\telse if(lit==256) {  break;  }\r\n\t\t\telse {\r\n\t\t\t\tvar end = off+lit-254;\r\n\t\t\t\tif(lit>264) { var ebs = U.ldef[lit-257];  end = off + (ebs>>>3) + bitsE(data, pos, ebs&7);  pos += ebs&7;  }\r\n\t\t\t\t//UZIP.F.dst[end-off]++;\r\n\t\t\t\t\r\n\t\t\t\tvar dcode = dmap[get17(data, pos) & MD];  pos += dcode&15;\r\n\t\t\t\tvar dlit = dcode>>>4;\r\n\t\t\t\tvar dbs = U.ddef[dlit], dst = (dbs>>>4) + bitsF(data, pos, dbs&15);  pos += dbs&15;\r\n\t\t\t\t\r\n\t\t\t\t//var o0 = off-dst, stp = Math.min(end-off, dst);\r\n\t\t\t\t//if(stp>20) while(off<end) {  buf.copyWithin(off, o0, o0+stp);  off+=stp;  }  else\r\n\t\t\t\t//if(end-dst<=off) buf.copyWithin(off, off-dst, end-dst);  else\r\n\t\t\t\t//if(dst==1) buf.fill(buf[off-1], off, end);  else\r\n\t\t\t\tif(noBuf) buf=UZIP.F._check(buf, off+(1<<17));\r\n\t\t\t\twhile(off<end) {  buf[off]=buf[off++-dst];    buf[off]=buf[off++-dst];  buf[off]=buf[off++-dst];  buf[off]=buf[off++-dst];  }   \r\n\t\t\t\toff=end;\r\n\t\t\t\t//while(off!=end) {  buf[off]=buf[off++-dst];  }\r\n\t\t\t}\r\n\t\t}\r\n\t\t//console.log(off-ooff, (pos-opos)>>>3);\r\n\t}\r\n\t//console.log(UZIP.F.dst);\r\n\t//console.log(tlen, dlen, off-tlen+tcnt);\r\n\treturn buf.length==off ? buf : buf.slice(0,off);\r\n}\r\nUZIP.F._check=function(buf, len) {\r\n\tvar bl=buf.length;  if(len<=bl) return buf;\r\n\tvar nbuf = new Uint8Array(Math.max(bl<<1,len));  nbuf.set(buf,0);\r\n\t//for(var i=0; i<bl; i+=4) {  nbuf[i]=buf[i];  nbuf[i+1]=buf[i+1];  nbuf[i+2]=buf[i+2];  nbuf[i+3]=buf[i+3];  }\r\n\treturn nbuf;\r\n}\r\n\r\nUZIP.F._decodeTiny = function(lmap, LL, len, data, pos, tree) {\r\n\tvar bitsE = UZIP.F._bitsE, get17 = UZIP.F._get17;\r\n\tvar i = 0;\r\n\twhile(i<len) {\r\n\t\tvar code = lmap[get17(data, pos)&LL];  pos+=code&15;\r\n\t\tvar lit = code>>>4; \r\n\t\tif(lit<=15) {  tree[i]=lit;  i++;  }\r\n\t\telse {\r\n\t\t\tvar ll = 0, n = 0;\r\n\t\t\tif(lit==16) {\r\n\t\t\t\tn = (3  + bitsE(data, pos, 2));  pos += 2;  ll = tree[i-1];\r\n\t\t\t}\r\n\t\t\telse if(lit==17) {\r\n\t\t\t\tn = (3  + bitsE(data, pos, 3));  pos += 3;\r\n\t\t\t}\r\n\t\t\telse if(lit==18) {\r\n\t\t\t\tn = (11 + bitsE(data, pos, 7));  pos += 7;\r\n\t\t\t}\r\n\t\t\tvar ni = i+n;\r\n\t\t\twhile(i<ni) {  tree[i]=ll;  i++; }\r\n\t\t}\r\n\t}\r\n\treturn pos;\r\n}\r\nUZIP.F._copyOut = function(src, off, len, tree) {\r\n\tvar mx=0, i=0, tl=tree.length>>>1;\r\n\twhile(i<len) {  var v=src[i+off];  tree[(i<<1)]=0;  tree[(i<<1)+1]=v;  if(v>mx)mx=v;  i++;  }\r\n\twhile(i<tl ) {  tree[(i<<1)]=0;  tree[(i<<1)+1]=0;  i++;  }\r\n\treturn mx;\r\n}\r\n\r\nUZIP.F.makeCodes = function(tree, MAX_BITS) {  // code, length\r\n\tvar U = UZIP.F.U;\r\n\tvar max_code = tree.length;\r\n\tvar code, bits, n, i, len;\r\n\t\r\n\tvar bl_count = U.bl_count;  for(var i=0; i<=MAX_BITS; i++) bl_count[i]=0;\r\n\tfor(i=1; i<max_code; i+=2) bl_count[tree[i]]++;\r\n\t\r\n\tvar next_code = U.next_code;\t// smallest code for each length\r\n\t\r\n\tcode = 0;\r\n\tbl_count[0] = 0;\r\n\tfor (bits = 1; bits <= MAX_BITS; bits++) {\r\n\t\tcode = (code + bl_count[bits-1]) << 1;\r\n\t\tnext_code[bits] = code;\r\n\t}\r\n\t\r\n\tfor (n = 0; n < max_code; n+=2) {\r\n\t\tlen = tree[n+1];\r\n\t\tif (len != 0) {\r\n\t\t\ttree[n] = next_code[len];\r\n\t\t\tnext_code[len]++;\r\n\t\t}\r\n\t}\r\n}\r\nUZIP.F.codes2map = function(tree, MAX_BITS, map) {\r\n\tvar max_code = tree.length;\r\n\tvar U=UZIP.F.U, r15 = U.rev15;\r\n\tfor(var i=0; i<max_code; i+=2) if(tree[i+1]!=0)  {\r\n\t\tvar lit = i>>1;\r\n\t\tvar cl = tree[i+1], val = (lit<<4)|cl; // :  (0x8000 | (U.of0[lit-257]<<7) | (U.exb[lit-257]<<4) | cl);\r\n\t\tvar rest = (MAX_BITS-cl), i0 = tree[i]<<rest, i1 = i0 + (1<<rest);\r\n\t\t//tree[i]=r15[i0]>>>(15-MAX_BITS);\r\n\t\twhile(i0!=i1) {\r\n\t\t\tvar p0 = r15[i0]>>>(15-MAX_BITS);\r\n\t\t\tmap[p0]=val;  i0++;\r\n\t\t}\r\n\t}\r\n}\r\nUZIP.F.revCodes = function(tree, MAX_BITS) {\r\n\tvar r15 = UZIP.F.U.rev15, imb = 15-MAX_BITS;\r\n\tfor(var i=0; i<tree.length; i+=2) {  var i0 = (tree[i]<<(MAX_BITS-tree[i+1]));  tree[i] = r15[i0]>>>imb;  }\r\n}\r\n\r\n// used only in deflate\r\nUZIP.F._putsE= function(dt, pos, val   ) {  val = val<<(pos&7);  var o=(pos>>>3);  dt[o]|=val;  dt[o+1]|=(val>>>8);                        }\r\nUZIP.F._putsF= function(dt, pos, val   ) {  val = val<<(pos&7);  var o=(pos>>>3);  dt[o]|=val;  dt[o+1]|=(val>>>8);  dt[o+2]|=(val>>>16);  }\r\n\r\nUZIP.F._bitsE= function(dt, pos, length) {  return ((dt[pos>>>3] | (dt[(pos>>>3)+1]<<8)                        )>>>(pos&7))&((1<<length)-1);  }\r\nUZIP.F._bitsF= function(dt, pos, length) {  return ((dt[pos>>>3] | (dt[(pos>>>3)+1]<<8) | (dt[(pos>>>3)+2]<<16))>>>(pos&7))&((1<<length)-1);  }\r\n/*\r\nUZIP.F._get9 = function(dt, pos) {\r\n\treturn ((dt[pos>>>3] | (dt[(pos>>>3)+1]<<8))>>>(pos&7))&511;\r\n} */\r\nUZIP.F._get17= function(dt, pos) {\t// return at least 17 meaningful bytes\r\n\treturn (dt[pos>>>3] | (dt[(pos>>>3)+1]<<8) | (dt[(pos>>>3)+2]<<16) )>>>(pos&7);\r\n}\r\nUZIP.F._get25= function(dt, pos) {\t// return at least 17 meaningful bytes\r\n\treturn (dt[pos>>>3] | (dt[(pos>>>3)+1]<<8) | (dt[(pos>>>3)+2]<<16) | (dt[(pos>>>3)+3]<<24) )>>>(pos&7);\r\n}\r\nUZIP.F.U = function(){\r\n\tvar u16=Uint16Array, u32=Uint32Array;\r\n\treturn {\r\n\t\tnext_code : new u16(16),\r\n\t\tbl_count  : new u16(16),\r\n\t\tordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],\r\n\t\tof0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],\r\n\t\texb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],\r\n\t\tldef : new u16(32),\r\n\t\tdf0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],\r\n\t\tdxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],\r\n\t\tddef : new u32(32),\r\n\t\tflmap: new u16(  512),  fltree: [],\r\n\t\tfdmap: new u16(   32),  fdtree: [],\r\n\t\tlmap : new u16(32768),  ltree : [],  ttree:[],\r\n\t\tdmap : new u16(32768),  dtree : [],\r\n\t\timap : new u16(  512),  itree : [],\r\n\t\t//rev9 : new u16(  512)\r\n\t\trev15: new u16(1<<15),\r\n\t\tlhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),\r\n\t\tlits : new u32(15000),\r\n\t\tstrt : new u16(1<<16),\r\n\t\tprev : new u16(1<<15)\r\n\t};  \r\n} ();\r\n\r\n(function(){\t\r\n\tvar U = UZIP.F.U;\r\n\tvar len = 1<<15;\r\n\tfor(var i=0; i<len; i++) {\r\n\t\tvar x = i;\r\n\t\tx = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));\r\n\t\tx = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));\r\n\t\tx = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));\r\n\t\tx = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));\r\n\t\tU.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;\r\n\t}\r\n\t\r\n\tfunction pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }\r\n\t\r\n\tfor(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }\r\n\t\r\n\tpushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);\r\n\t/*\r\n\tvar i = 0;\r\n\tfor(; i<=143; i++) U.fltree.push(0,8);\r\n\tfor(; i<=255; i++) U.fltree.push(0,9);\r\n\tfor(; i<=279; i++) U.fltree.push(0,7);\r\n\tfor(; i<=287; i++) U.fltree.push(0,8);\r\n\t*/\r\n\tUZIP.F.makeCodes(U.fltree, 9);\r\n\tUZIP.F.codes2map(U.fltree, 9, U.flmap);\r\n\tUZIP.F.revCodes (U.fltree, 9)\r\n\t\r\n\tpushV(U.fdtree,32,5);\r\n\t//for(i=0;i<32; i++) U.fdtree.push(0,5);\r\n\tUZIP.F.makeCodes(U.fdtree, 5);\r\n\tUZIP.F.codes2map(U.fdtree, 5, U.fdmap);\r\n\tUZIP.F.revCodes (U.fdtree, 5)\r\n\t\r\n\tpushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);\r\n\t/*\r\n\tfor(var i=0; i< 19; i++) U.itree.push(0,0);\r\n\tfor(var i=0; i<286; i++) U.ltree.push(0,0);\r\n\tfor(var i=0; i< 30; i++) U.dtree.push(0,0);\r\n\tfor(var i=0; i<320; i++) U.ttree.push(0,0);\r\n\t*/\r\n})()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// https://github.com/photopea/UPNG.js/blob/f6e5f93da01094b1ffb3cef364abce4d9e758cbf/UPNG.js\n\n// import * as pako from 'pako'\nimport * as UZIP from 'uzip';\n\nconst UPNG = (function () {\n  var _bin = {\n    nextZero(data, p) { while (data[p] != 0) p++; return p; },\n    readUshort(buff, p) { return (buff[p] << 8) | buff[p + 1]; },\n    writeUshort(buff, p, n) { buff[p] = (n >> 8) & 255; buff[p + 1] = n & 255; },\n    readUint(buff, p) { return (buff[p] * (256 * 256 * 256)) + ((buff[p + 1] << 16) | (buff[p + 2] << 8) | buff[p + 3]); },\n    writeUint(buff, p, n) { buff[p] = (n >> 24) & 255; buff[p + 1] = (n >> 16) & 255; buff[p + 2] = (n >> 8) & 255; buff[p + 3] = n & 255; },\n    readASCII(buff, p, l) { let s = ''; for (let i = 0; i < l; i++) s += String.fromCharCode(buff[p + i]); return s; },\n    writeASCII(data, p, s) { for (let i = 0; i < s.length; i++) data[p + i] = s.charCodeAt(i); },\n    readBytes(buff, p, l) { const arr = []; for (let i = 0; i < l; i++) arr.push(buff[p + i]); return arr; },\n    pad(n) { return n.length < 2 ? `0${n}` : n; },\n    readUTF8(buff, p, l) {\n      let s = '';\n      let ns;\n      for (let i = 0; i < l; i++) s += `%${_bin.pad(buff[p + i].toString(16))}`;\n      try { ns = decodeURIComponent(s); } catch (e) { return _bin.readASCII(buff, p, l); }\n      return ns;\n    },\n  };\n\n  function toRGBA8(out) {\n    const w = out.width; const\n      h = out.height;\n    if (out.tabs.acTL == null) return [decodeImage(out.data, w, h, out).buffer];\n\n    const frms = [];\n    if (out.frames[0].data == null) out.frames[0].data = out.data;\n\n    const len = w * h * 4; const img = new Uint8Array(len); const empty = new Uint8Array(len); const\n      prev = new Uint8Array(len);\n    for (let i = 0; i < out.frames.length; i++) {\n      const frm = out.frames[i];\n      const fx = frm.rect.x; const fy = frm.rect.y; const fw = frm.rect.width; const\n        fh = frm.rect.height;\n      const fdata = decodeImage(frm.data, fw, fh, out);\n\n      if (i != 0) for (var j = 0; j < len; j++) prev[j] = img[j];\n\n      if (frm.blend == 0) _copyTile(fdata, fw, fh, img, w, h, fx, fy, 0);\n      else if (frm.blend == 1) _copyTile(fdata, fw, fh, img, w, h, fx, fy, 1);\n\n      frms.push(img.buffer.slice(0));\n\n      if (frm.dispose == 0) {} else if (frm.dispose == 1) _copyTile(empty, fw, fh, img, w, h, fx, fy, 0);\n      else if (frm.dispose == 2) for (var j = 0; j < len; j++) img[j] = prev[j];\n    }\n    return frms;\n  }\n  function decodeImage(data, w, h, out) {\n    const area = w * h; const\n      bpp = _getBPP(out);\n    const bpl = Math.ceil(w * bpp / 8);\t// bytes per line\n\n    const bf = new Uint8Array(area * 4); const\n      bf32 = new Uint32Array(bf.buffer);\n    const { ctype } = out;\n    const { depth } = out;\n    const rs = _bin.readUshort;\n\n    // console.log(ctype, depth);\n    const time = Date.now();\n\n    if (ctype == 6) { // RGB + alpha\n      const qarea = area << 2;\n      if (depth == 8) for (var i = 0; i < qarea; i += 4) { bf[i] = data[i]; bf[i + 1] = data[i + 1]; bf[i + 2] = data[i + 2]; bf[i + 3] = data[i + 3]; }\n      if (depth == 16) for (var i = 0; i < qarea; i++) { bf[i] = data[i << 1]; }\n    } else if (ctype == 2) {\t// RGB\n      const ts = out.tabs.tRNS;\n      if (ts == null) {\n        if (depth == 8) for (var i = 0; i < area; i++) { var ti = i * 3; bf32[i] = (255 << 24) | (data[ti + 2] << 16) | (data[ti + 1] << 8) | data[ti]; }\n        if (depth == 16) for (var i = 0; i < area; i++) { var ti = i * 6; bf32[i] = (255 << 24) | (data[ti + 4] << 16) | (data[ti + 2] << 8) | data[ti]; }\n      } else {\n        var tr = ts[0]; const tg = ts[1]; const\n          tb = ts[2];\n        if (depth == 8) {\n          for (var i = 0; i < area; i++) {\n            var qi = i << 2; var\n              ti = i * 3; bf32[i] = (255 << 24) | (data[ti + 2] << 16) | (data[ti + 1] << 8) | data[ti];\n            if (data[ti] == tr && data[ti + 1] == tg && data[ti + 2] == tb) bf[qi + 3] = 0;\n          }\n        }\n        if (depth == 16) {\n          for (var i = 0; i < area; i++) {\n            var qi = i << 2; var\n              ti = i * 6; bf32[i] = (255 << 24) | (data[ti + 4] << 16) | (data[ti + 2] << 8) | data[ti];\n            if (rs(data, ti) == tr && rs(data, ti + 2) == tg && rs(data, ti + 4) == tb) bf[qi + 3] = 0;\n          }\n        }\n      }\n    } else if (ctype == 3) {\t// palette\n      const p = out.tabs.PLTE;\n      const ap = out.tabs.tRNS;\n      const tl = ap ? ap.length : 0;\n      // console.log(p, ap);\n      if (depth == 1) {\n        for (var y = 0; y < h; y++) {\n          var s0 = y * bpl; var\n            t0 = y * w;\n          for (var i = 0; i < w; i++) {\n            var qi = (t0 + i) << 2; var j = ((data[s0 + (i >> 3)] >> (7 - ((i & 7) << 0))) & 1); var\n              cj = 3 * j; bf[qi] = p[cj]; bf[qi + 1] = p[cj + 1]; bf[qi + 2] = p[cj + 2]; bf[qi + 3] = (j < tl) ? ap[j] : 255;\n          }\n        }\n      }\n      if (depth == 2) {\n        for (var y = 0; y < h; y++) {\n          var s0 = y * bpl; var\n            t0 = y * w;\n          for (var i = 0; i < w; i++) {\n            var qi = (t0 + i) << 2; var j = ((data[s0 + (i >> 2)] >> (6 - ((i & 3) << 1))) & 3); var\n              cj = 3 * j; bf[qi] = p[cj]; bf[qi + 1] = p[cj + 1]; bf[qi + 2] = p[cj + 2]; bf[qi + 3] = (j < tl) ? ap[j] : 255;\n          }\n        }\n      }\n      if (depth == 4) {\n        for (var y = 0; y < h; y++) {\n          var s0 = y * bpl; var\n            t0 = y * w;\n          for (var i = 0; i < w; i++) {\n            var qi = (t0 + i) << 2; var j = ((data[s0 + (i >> 1)] >> (4 - ((i & 1) << 2))) & 15); var\n              cj = 3 * j; bf[qi] = p[cj]; bf[qi + 1] = p[cj + 1]; bf[qi + 2] = p[cj + 2]; bf[qi + 3] = (j < tl) ? ap[j] : 255;\n          }\n        }\n      }\n      if (depth == 8) {\n        for (var i = 0; i < area; i++) {\n          var qi = i << 2; var j = data[i]; var\n            cj = 3 * j; bf[qi] = p[cj]; bf[qi + 1] = p[cj + 1]; bf[qi + 2] = p[cj + 2]; bf[qi + 3] = (j < tl) ? ap[j] : 255;\n        }\n      }\n    } else if (ctype == 4) {\t// gray + alpha\n      if (depth == 8) {\n        for (var i = 0; i < area; i++) {\n          var qi = i << 2; var di = i << 1; var\n            gr = data[di]; bf[qi] = gr; bf[qi + 1] = gr; bf[qi + 2] = gr; bf[qi + 3] = data[di + 1];\n        }\n      }\n      if (depth == 16) {\n        for (var i = 0; i < area; i++) {\n          var qi = i << 2; var di = i << 2; var\n            gr = data[di]; bf[qi] = gr; bf[qi + 1] = gr; bf[qi + 2] = gr; bf[qi + 3] = data[di + 2];\n        }\n      }\n    } else if (ctype == 0) {\t// gray\n      var tr = out.tabs.tRNS ? out.tabs.tRNS : -1;\n      for (var y = 0; y < h; y++) {\n        const off = y * bpl; const\n          to = y * w;\n        if (depth == 1) {\n          for (var x = 0; x < w; x++) {\n            var gr = 255 * ((data[off + (x >>> 3)] >>> (7 - ((x & 7)))) & 1); var\n              al = (gr == tr * 255) ? 0 : 255; bf32[to + x] = (al << 24) | (gr << 16) | (gr << 8) | gr;\n          }\n        } else if (depth == 2) {\n          for (var x = 0; x < w; x++) {\n            var gr = 85 * ((data[off + (x >>> 2)] >>> (6 - ((x & 3) << 1))) & 3); var\n              al = (gr == tr * 85) ? 0 : 255; bf32[to + x] = (al << 24) | (gr << 16) | (gr << 8) | gr;\n          }\n        } else if (depth == 4) {\n          for (var x = 0; x < w; x++) {\n            var gr = 17 * ((data[off + (x >>> 1)] >>> (4 - ((x & 1) << 2))) & 15); var\n              al = (gr == tr * 17) ? 0 : 255; bf32[to + x] = (al << 24) | (gr << 16) | (gr << 8) | gr;\n          }\n        } else if (depth == 8) {\n          for (var x = 0; x < w; x++) {\n            var gr = data[off + x]; var\n              al = (gr == tr) ? 0 : 255; bf32[to + x] = (al << 24) | (gr << 16) | (gr << 8) | gr;\n          }\n        } else if (depth == 16) {\n          for (var x = 0; x < w; x++) {\n            var gr = data[off + (x << 1)]; var\n              al = (rs(data, off + (x << 1)) == tr) ? 0 : 255; bf32[to + x] = (al << 24) | (gr << 16) | (gr << 8) | gr;\n          }\n        }\n      }\n    }\n    // console.log(Date.now()-time);\n    return bf;\n  }\n\n  function decode(buff) {\n    const data = new Uint8Array(buff); let offset = 8; const bin = _bin; const rUs = bin.readUshort; const\n      rUi = bin.readUint;\n    const out = { tabs: {}, frames: [] };\n    const dd = new Uint8Array(data.length); let\n      doff = 0;\t // put all IDAT data into it\n    let fd; let\n      foff = 0;\t// frames\n\n    const mgck = [0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a];\n    for (var i = 0; i < 8; i++) if (data[i] != mgck[i]) throw 'The input is not a PNG file!';\n\n    while (offset < data.length) {\n      const len = bin.readUint(data, offset); offset += 4;\n      const type = bin.readASCII(data, offset, 4); offset += 4;\n      // console.log(type,len);\n\n      if (type == 'IHDR') { _IHDR(data, offset, out); } else if (type == 'iCCP') {\n        var off = offset; while (data[off] != 0) off++;\n        const nam = bin.readASCII(data, offset, off - offset);\n        const cpr = data[off + 1];\n        const fil = data.slice(off + 2, offset + len);\n        let res = null;\n        try { res = _inflate(fil); } catch (e) { res = inflateRaw(fil); }\n        out.tabs[type] = res;\n      } else if (type == 'CgBI') { out.tabs[type] = data.slice(offset, offset + 4); } else if (type == 'IDAT') {\n        for (var i = 0; i < len; i++) dd[doff + i] = data[offset + i];\n        doff += len;\n      } else if (type == 'acTL') {\n        out.tabs[type] = { num_frames: rUi(data, offset), num_plays: rUi(data, offset + 4) };\n        fd = new Uint8Array(data.length);\n      } else if (type == 'fcTL') {\n        if (foff != 0) {\n          var fr = out.frames[out.frames.length - 1];\n          fr.data = _decompress(out, fd.slice(0, foff), fr.rect.width, fr.rect.height); foff = 0;\n        }\n        const rct = {\n          x: rUi(data, offset + 12), y: rUi(data, offset + 16), width: rUi(data, offset + 4), height: rUi(data, offset + 8),\n        };\n        let del = rUs(data, offset + 22); del = rUs(data, offset + 20) / (del == 0 ? 100 : del);\n        const frm = {\n          rect: rct, delay: Math.round(del * 1000), dispose: data[offset + 24], blend: data[offset + 25],\n        };\n        // console.log(frm);\n        out.frames.push(frm);\n      } else if (type == 'fdAT') {\n        for (var i = 0; i < len - 4; i++) fd[foff + i] = data[offset + i + 4];\n        foff += len - 4;\n      } else if (type == 'pHYs') {\n        out.tabs[type] = [bin.readUint(data, offset), bin.readUint(data, offset + 4), data[offset + 8]];\n      } else if (type == 'cHRM') {\n        out.tabs[type] = [];\n        for (var i = 0; i < 8; i++) out.tabs[type].push(bin.readUint(data, offset + i * 4));\n      } else if (type == 'tEXt' || type == 'zTXt') {\n        if (out.tabs[type] == null) out.tabs[type] = {};\n        var nz = bin.nextZero(data, offset);\n        var keyw = bin.readASCII(data, offset, nz - offset);\n        var text; var\n          tl = offset + len - nz - 1;\n        if (type == 'tEXt') text = bin.readASCII(data, nz + 1, tl);\n        else {\n          var bfr = _inflate(data.slice(nz + 2, nz + 2 + tl));\n          text = bin.readUTF8(bfr, 0, bfr.length);\n        }\n        out.tabs[type][keyw] = text;\n      } else if (type == 'iTXt') {\n        if (out.tabs[type] == null) out.tabs[type] = {};\n        var nz = 0; var\n          off = offset;\n        nz = bin.nextZero(data, off);\n        var keyw = bin.readASCII(data, off, nz - off); off = nz + 1;\n        const cflag = data[off]; const\n          cmeth = data[off + 1]; off += 2;\n        nz = bin.nextZero(data, off);\n        const ltag = bin.readASCII(data, off, nz - off); off = nz + 1;\n        nz = bin.nextZero(data, off);\n        const tkeyw = bin.readUTF8(data, off, nz - off); off = nz + 1;\n        var text; var\n          tl = len - (off - offset);\n        if (cflag == 0) text = bin.readUTF8(data, off, tl);\n        else {\n          var bfr = _inflate(data.slice(off, off + tl));\n          text = bin.readUTF8(bfr, 0, bfr.length);\n        }\n        out.tabs[type][keyw] = text;\n      } else if (type == 'PLTE') {\n        out.tabs[type] = bin.readBytes(data, offset, len);\n      } else if (type == 'hIST') {\n        const pl = out.tabs.PLTE.length / 3;\n        out.tabs[type] = []; for (var i = 0; i < pl; i++) out.tabs[type].push(rUs(data, offset + i * 2));\n      } else if (type == 'tRNS') {\n        if (out.ctype == 3) out.tabs[type] = bin.readBytes(data, offset, len);\n        else if (out.ctype == 0) out.tabs[type] = rUs(data, offset);\n        else if (out.ctype == 2) out.tabs[type] = [rUs(data, offset), rUs(data, offset + 2), rUs(data, offset + 4)];\n        // else console.log(\"tRNS for unsupported color type\",out.ctype, len);\n      } else if (type == 'gAMA') out.tabs[type] = bin.readUint(data, offset) / 100000;\n      else if (type == 'sRGB') out.tabs[type] = data[offset];\n      else if (type == 'bKGD') {\n        if (out.ctype == 0 || out.ctype == 4) out.tabs[type] = [rUs(data, offset)];\n        else if (out.ctype == 2 || out.ctype == 6) out.tabs[type] = [rUs(data, offset), rUs(data, offset + 2), rUs(data, offset + 4)];\n        else if (out.ctype == 3) out.tabs[type] = data[offset];\n      } else if (type == 'IEND') {\n        break;\n      }\n      // else {  console.log(\"unknown chunk type\", type, len);  out.tabs[type]=data.slice(offset,offset+len);  }\n      offset += len;\n      const crc = bin.readUint(data, offset); offset += 4;\n    }\n    if (foff != 0) {\n      var fr = out.frames[out.frames.length - 1];\n      fr.data = _decompress(out, fd.slice(0, foff), fr.rect.width, fr.rect.height);\n    }\n    out.data = _decompress(out, dd, out.width, out.height);\n\n    delete out.compress; delete out.interlace; delete out.filter;\n    return out;\n  }\n\n  function _decompress(out, dd, w, h) {\n    var time = Date.now();\n    const bpp = _getBPP(out); const bpl = Math.ceil(w * bpp / 8); const\n      buff = new Uint8Array((bpl + 1 + out.interlace) * h);\n    if (out.tabs.CgBI) dd = inflateRaw(dd, buff);\n    else dd = _inflate(dd, buff);\n    // console.log(dd.length, buff.length);\n    // console.log(Date.now()-time);\n\n    var time = Date.now();\n    if (out.interlace == 0) dd = _filterZero(dd, out, 0, w, h);\n    else if (out.interlace == 1) dd = _readInterlace(dd, out);\n    // console.log(Date.now()-time);\n    return dd;\n  }\n\n  function _inflate(data, buff) { const out = inflateRaw(new Uint8Array(data.buffer, 2, data.length - 6), buff); return out; }\n\n  var inflateRaw = (function () {\n    const H = {}; H.H = {}; H.H.N = function (N, W) {\n      const R = Uint8Array; let i = 0; let m = 0; let J = 0; let h = 0; let Q = 0; let X = 0; let u = 0; let w = 0; let d = 0; let v; let C;\n      if (N[0] == 3 && N[1] == 0) return W || new R(0); const V = H.H; const n = V.b; const A = V.e; const l = V.R; const M = V.n; const I = V.A; const e = V.Z; const b = V.m; const Z = W == null;\n      if (Z)W = new R(N.length >>> 2 << 5); while (i == 0) {\n        i = n(N, d, 1); m = n(N, d + 1, 2); d += 3; if (m == 0) {\n          if ((d & 7) != 0)d += 8 - (d & 7);\n          const D = (d >>> 3) + 4; const q = N[D - 4] | N[D - 3] << 8; if (Z)W = H.H.W(W, w + q); W.set(new R(N.buffer, N.byteOffset + D, q), w); d = D + q << 3;\n          w += q; continue;\n        } if (Z)W = H.H.W(W, w + (1 << 17)); if (m == 1) { v = b.J; C = b.h; X = (1 << 9) - 1; u = (1 << 5) - 1; } if (m == 2) {\n          J = A(N, d, 5) + 257;\n          h = A(N, d + 5, 5) + 1; Q = A(N, d + 10, 4) + 4; d += 14; const E = d; let j = 1; for (var c = 0; c < 38; c += 2) { b.Q[c] = 0; b.Q[c + 1] = 0; } for (var c = 0;\n            c < Q; c++) { const K = A(N, d + c * 3, 3); b.Q[(b.X[c] << 1) + 1] = K; if (K > j)j = K; }d += 3 * Q; M(b.Q, j); I(b.Q, j, b.u); v = b.w; C = b.d;\n          d = l(b.u, (1 << j) - 1, J + h, N, d, b.v); const r = V.V(b.v, 0, J, b.C); X = (1 << r) - 1; const S = V.V(b.v, J, h, b.D); u = (1 << S) - 1; M(b.C, r);\n          I(b.C, r, v); M(b.D, S); I(b.D, S, C);\n        } while (!0) {\n          const T = v[e(N, d) & X]; d += T & 15; const p = T >>> 4; if (p >>> 8 == 0) { W[w++] = p; } else if (p == 256) { break; } else {\n            let z = w + p - 254;\n            if (p > 264) { const _ = b.q[p - 257]; z = w + (_ >>> 3) + A(N, d, _ & 7); d += _ & 7; } const $ = C[e(N, d) & u]; d += $ & 15; const s = $ >>> 4; const Y = b.c[s]; const a = (Y >>> 4) + n(N, d, Y & 15);\n            d += Y & 15; while (w < z) { W[w] = W[w++ - a]; W[w] = W[w++ - a]; W[w] = W[w++ - a]; W[w] = W[w++ - a]; }w = z;\n          }\n        }\n      } return W.length == w ? W : W.slice(0, w);\n    };\n    H.H.W = function (N, W) { const R = N.length; if (W <= R) return N; const V = new Uint8Array(R << 1); V.set(N, 0); return V; };\n    H.H.R = function (N, W, R, V, n, A) {\n      const l = H.H.e; const M = H.H.Z; let I = 0; while (I < R) {\n        const e = N[M(V, n) & W]; n += e & 15; const b = e >>> 4;\n        if (b <= 15) { A[I] = b; I++; } else {\n          let Z = 0; let m = 0; if (b == 16) { m = 3 + l(V, n, 2); n += 2; Z = A[I - 1]; } else if (b == 17) {\n            m = 3 + l(V, n, 3);\n            n += 3;\n          } else if (b == 18) { m = 11 + l(V, n, 7); n += 7; } const J = I + m; while (I < J) { A[I] = Z; I++; }\n        }\n      } return n;\n    }; H.H.V = function (N, W, R, V) {\n      let n = 0; let A = 0; const l = V.length >>> 1;\n      while (A < R) { const M = N[A + W]; V[A << 1] = 0; V[(A << 1) + 1] = M; if (M > n)n = M; A++; } while (A < l) { V[A << 1] = 0; V[(A << 1) + 1] = 0; A++; } return n;\n    };\n    H.H.n = function (N, W) {\n      const R = H.H.m; const V = N.length; let n; let A; let l; var M; let I; const e = R.j; for (var M = 0; M <= W; M++)e[M] = 0; for (M = 1; M < V; M += 2)e[N[M]]++;\n      const b = R.K; n = 0; e[0] = 0; for (A = 1; A <= W; A++) { n = n + e[A - 1] << 1; b[A] = n; } for (l = 0; l < V; l += 2) {\n        I = N[l + 1]; if (I != 0) {\n          N[l] = b[I];\n          b[I]++;\n        }\n      }\n    }; H.H.A = function (N, W, R) {\n      const V = N.length; const n = H.H.m; const A = n.r; for (let l = 0; l < V; l += 2) {\n        if (N[l + 1] != 0) {\n          const M = l >> 1; const I = N[l + 1]; const e = M << 4 | I; const b = W - I; let Z = N[l] << b; const m = Z + (1 << b);\n          while (Z != m) { const J = A[Z] >>> 15 - W; R[J] = e; Z++; }\n        }\n      }\n    }; H.H.l = function (N, W) {\n      const R = H.H.m.r; const V = 15 - W; for (let n = 0; n < N.length;\n        n += 2) { const A = N[n] << W - N[n + 1]; N[n] = R[A] >>> V; }\n    }; H.H.M = function (N, W, R) { R <<= (W & 7); const V = W >>> 3; N[V] |= R; N[V + 1] |= R >>> 8; };\n    H.H.I = function (N, W, R) { R <<= (W & 7); const V = W >>> 3; N[V] |= R; N[V + 1] |= R >>> 8; N[V + 2] |= R >>> 16; }; H.H.e = function (N, W, R) { return (N[W >>> 3] | N[(W >>> 3) + 1] << 8) >>> (W & 7) & (1 << R) - 1; };\n    H.H.b = function (N, W, R) { return (N[W >>> 3] | N[(W >>> 3) + 1] << 8 | N[(W >>> 3) + 2] << 16) >>> (W & 7) & (1 << R) - 1; }; H.H.Z = function (N, W) { return (N[W >>> 3] | N[(W >>> 3) + 1] << 8 | N[(W >>> 3) + 2] << 16) >>> (W & 7); };\n    H.H.i = function (N, W) { return (N[W >>> 3] | N[(W >>> 3) + 1] << 8 | N[(W >>> 3) + 2] << 16 | N[(W >>> 3) + 3] << 24) >>> (W & 7); }; H.H.m = (function () {\n      const N = Uint16Array; const W = Uint32Array;\n      return {\n        K: new N(16), j: new N(16), X: [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], S: [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 999, 999, 999], T: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0], q: new N(32), p: [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 65535, 65535], z: [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0], c: new W(32), J: new N(512), _: [], h: new N(32), $: [], w: new N(32768), C: [], v: [], d: new N(32768), D: [], u: new N(512), Q: [], r: new N(1 << 15), s: new W(286), Y: new W(30), a: new W(19), t: new W(15e3), k: new N(1 << 16), g: new N(1 << 15),\n      };\n    }());\n    (function () {\n      const N = H.H.m; const W = 1 << 15; for (var R = 0; R < W; R++) {\n        let V = R; V = (V & 2863311530) >>> 1 | (V & 1431655765) << 1;\n        V = (V & 3435973836) >>> 2 | (V & 858993459) << 2; V = (V & 4042322160) >>> 4 | (V & 252645135) << 4; V = (V & 4278255360) >>> 8 | (V & 16711935) << 8;\n        N.r[R] = (V >>> 16 | V << 16) >>> 17;\n      } function n(A, l, M) { while (l-- != 0)A.push(0, M); } for (var R = 0; R < 32; R++) {\n        N.q[R] = N.S[R] << 3 | N.T[R];\n        N.c[R] = N.p[R] << 4 | N.z[R];\n      }n(N._, 144, 8); n(N._, 255 - 143, 9); n(N._, 279 - 255, 7); n(N._, 287 - 279, 8); H.H.n(N._, 9);\n      H.H.A(N._, 9, N.J); H.H.l(N._, 9); n(N.$, 32, 5); H.H.n(N.$, 5); H.H.A(N.$, 5, N.h); H.H.l(N.$, 5); n(N.Q, 19, 0); n(N.C, 286, 0);\n      n(N.D, 30, 0); n(N.v, 320, 0);\n    }()); return H.H.N;\n  }());\n\n  function _readInterlace(data, out) {\n    const w = out.width; const\n      h = out.height;\n    const bpp = _getBPP(out); const cbpp = bpp >> 3; const\n      bpl = Math.ceil(w * bpp / 8);\n    const img = new Uint8Array(h * bpl);\n    let di = 0;\n\n    const starting_row = [0, 0, 4, 0, 2, 0, 1];\n    const starting_col = [0, 4, 0, 2, 0, 1, 0];\n    const row_increment = [8, 8, 8, 4, 4, 2, 2];\n    const col_increment = [8, 8, 4, 4, 2, 2, 1];\n\n    let pass = 0;\n    while (pass < 7) {\n      const ri = row_increment[pass]; const\n        ci = col_increment[pass];\n      let sw = 0; let\n        sh = 0;\n      let cr = starting_row[pass]; while (cr < h) { cr += ri; sh++; }\n      let cc = starting_col[pass]; while (cc < w) { cc += ci; sw++; }\n      const bpll = Math.ceil(sw * bpp / 8);\n      _filterZero(data, out, di, sw, sh);\n\n      let y = 0; let\n        row = starting_row[pass];\n      while (row < h) {\n        let col = starting_col[pass];\n        let cdi = (di + y * bpll) << 3;\n\n        while (col < w) {\n          if (bpp == 1) {\n            var val = data[cdi >> 3]; val = (val >> (7 - (cdi & 7))) & 1;\n            img[row * bpl + (col >> 3)] |= (val << (7 - ((col & 7) << 0)));\n          }\n          if (bpp == 2) {\n            var val = data[cdi >> 3]; val = (val >> (6 - (cdi & 7))) & 3;\n            img[row * bpl + (col >> 2)] |= (val << (6 - ((col & 3) << 1)));\n          }\n          if (bpp == 4) {\n            var val = data[cdi >> 3]; val = (val >> (4 - (cdi & 7))) & 15;\n            img[row * bpl + (col >> 1)] |= (val << (4 - ((col & 1) << 2)));\n          }\n          if (bpp >= 8) {\n            const ii = row * bpl + col * cbpp;\n            for (let j = 0; j < cbpp; j++) img[ii + j] = data[(cdi >> 3) + j];\n          }\n          cdi += bpp; col += ci;\n        }\n        y++; row += ri;\n      }\n      if (sw * sh != 0) di += sh * (1 + bpll);\n      pass += 1;\n    }\n    return img;\n  }\n\n  function _getBPP(out) {\n    const noc = [1, null, 3, 1, 2, null, 4][out.ctype];\n    return noc * out.depth;\n  }\n\n  function _filterZero(data, out, off, w, h) {\n    let bpp = _getBPP(out); const\n      bpl = Math.ceil(w * bpp / 8);\n    bpp = Math.ceil(bpp / 8);\n\n    let i; let di; let type = data[off]; let\n      x = 0;\n\n    if (type > 1) data[off] = [0, 0, 1][type - 2];\n    if (type == 3) for (x = bpp; x < bpl; x++) data[x + 1] = (data[x + 1] + (data[x + 1 - bpp] >>> 1)) & 255;\n\n    for (let y = 0; y < h; y++) {\n      i = off + y * bpl; di = i + y + 1;\n      type = data[di - 1]; x = 0;\n\n      if (type == 0) for (; x < bpl; x++) data[i + x] = data[di + x];\n      else if (type == 1) {\n        for (; x < bpp; x++) data[i + x] = data[di + x];\n\t\t\t\t\t\t\t   for (; x < bpl; x++) data[i + x] = (data[di + x] + data[i + x - bpp]);\n      } else if (type == 2) { for (; x < bpl; x++) data[i + x] = (data[di + x] + data[i + x - bpl]); } else if (type == 3) {\n        for (; x < bpp; x++) data[i + x] = (data[di + x] + (data[i + x - bpl] >>> 1));\n\t\t\t\t\t\t\t   for (; x < bpl; x++) data[i + x] = (data[di + x] + ((data[i + x - bpl] + data[i + x - bpp]) >>> 1));\n      } else {\n        for (; x < bpp; x++) data[i + x] = (data[di + x] + _paeth(0, data[i + x - bpl], 0));\n\t\t\t\t\t\t\t   for (; x < bpl; x++) data[i + x] = (data[di + x] + _paeth(data[i + x - bpp], data[i + x - bpl], data[i + x - bpp - bpl]));\n      }\n    }\n    return data;\n  }\n\n  function _paeth(a, b, c) {\n    const p = a + b - c; const pa = (p - a); const pb = (p - b); const\n      pc = (p - c);\n    if (pa * pa <= pb * pb && pa * pa <= pc * pc) return a;\n    if (pb * pb <= pc * pc) return b;\n    return c;\n  }\n\n  function _IHDR(data, offset, out) {\n    out.width = _bin.readUint(data, offset); offset += 4;\n    out.height = _bin.readUint(data, offset); offset += 4;\n    out.depth = data[offset]; offset++;\n    out.ctype = data[offset]; offset++;\n    out.compress = data[offset]; offset++;\n    out.filter = data[offset]; offset++;\n    out.interlace = data[offset]; offset++;\n  }\n\n  function _copyTile(sb, sw, sh, tb, tw, th, xoff, yoff, mode) {\n    const w = Math.min(sw, tw); const\n      h = Math.min(sh, th);\n    let si = 0; let\n      ti = 0;\n    for (let y = 0; y < h; y++) {\n      for (let x = 0; x < w; x++) {\n        if (xoff >= 0 && yoff >= 0) { si = (y * sw + x) << 2; ti = ((yoff + y) * tw + xoff + x) << 2; } else { si = ((-yoff + y) * sw - xoff + x) << 2; ti = (y * tw + x) << 2; }\n\n        if (mode == 0) { tb[ti] = sb[si]; tb[ti + 1] = sb[si + 1]; tb[ti + 2] = sb[si + 2]; tb[ti + 3] = sb[si + 3]; } else if (mode == 1) {\n          var fa = sb[si + 3] * (1 / 255); var fr = sb[si] * fa; var fg = sb[si + 1] * fa; var\n            fb = sb[si + 2] * fa;\n          var ba = tb[ti + 3] * (1 / 255); var br = tb[ti] * ba; var bg = tb[ti + 1] * ba; var\n            bb = tb[ti + 2] * ba;\n\n          const ifa = 1 - fa; const oa = fa + ba * ifa; const\n            ioa = (oa == 0 ? 0 : 1 / oa);\n          tb[ti + 3] = 255 * oa;\n          tb[ti + 0] = (fr + br * ifa) * ioa;\n          tb[ti + 1] = (fg + bg * ifa) * ioa;\n          tb[ti + 2] = (fb + bb * ifa) * ioa;\n        } else if (mode == 2) {\t// copy only differences, otherwise zero\n          var fa = sb[si + 3]; var fr = sb[si]; var fg = sb[si + 1]; var\n            fb = sb[si + 2];\n          var ba = tb[ti + 3]; var br = tb[ti]; var bg = tb[ti + 1]; var\n            bb = tb[ti + 2];\n          if (fa == ba && fr == br && fg == bg && fb == bb) { tb[ti] = 0; tb[ti + 1] = 0; tb[ti + 2] = 0; tb[ti + 3] = 0; } else { tb[ti] = fr; tb[ti + 1] = fg; tb[ti + 2] = fb; tb[ti + 3] = fa; }\n        } else if (mode == 3) {\t// check if can be blended\n          var fa = sb[si + 3]; var fr = sb[si]; var fg = sb[si + 1]; var\n            fb = sb[si + 2];\n          var ba = tb[ti + 3]; var br = tb[ti]; var bg = tb[ti + 1]; var\n            bb = tb[ti + 2];\n          if (fa == ba && fr == br && fg == bg && fb == bb) continue;\n          // if(fa!=255 && ba!=0) return false;\n          if (fa < 220 && ba > 20) return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  return {\n    decode,\n    toRGBA8,\n    _paeth,\n    _copyTile,\n    _bin,\n  };\n}());\n\n(function () {\n  const { _copyTile } = UPNG;\n  const { _bin } = UPNG;\n  const paeth = UPNG._paeth;\n  var crcLib = {\n    table: (function () {\n\t\t   const tab = new Uint32Array(256);\n\t\t   for (let n = 0; n < 256; n++) {\n        let c = n;\n        for (let k = 0; k < 8; k++) {\n          if (c & 1) c = 0xedb88320 ^ (c >>> 1);\n          else c >>>= 1;\n        }\n        tab[n] = c;\n      }\n      return tab;\n    }()),\n    update(c, buf, off, len) {\n      for (let i = 0; i < len; i++) c = crcLib.table[(c ^ buf[off + i]) & 0xff] ^ (c >>> 8);\n      return c;\n    },\n    crc(b, o, l) { return crcLib.update(0xffffffff, b, o, l) ^ 0xffffffff; },\n  };\n\n  function addErr(er, tg, ti, f) {\n    tg[ti] += (er[0] * f) >> 4; tg[ti + 1] += (er[1] * f) >> 4; tg[ti + 2] += (er[2] * f) >> 4; tg[ti + 3] += (er[3] * f) >> 4;\n  }\n  function N(x) { return Math.max(0, Math.min(255, x)); }\n  function D(a, b) {\n    const dr = a[0] - b[0]; const dg = a[1] - b[1]; const db = a[2] - b[2]; const\n      da = a[3] - b[3]; return (dr * dr + dg * dg + db * db + da * da);\n  }\n\n  // MTD: 0: None, 1: floyd-steinberg, 2: Bayer\n  function dither(sb, w, h, plte, tb, oind, MTD) {\n    if (MTD == null) MTD = 1;\n\n    const pc = plte.length; const nplt = []; const\n      rads = [];\n    for (var i = 0; i < pc; i++) {\n      const c = plte[i];\n      nplt.push([((c >>> 0) & 255), ((c >>> 8) & 255), ((c >>> 16) & 255), ((c >>> 24) & 255)]);\n    }\n    for (var i = 0; i < pc; i++) {\n      let ne = 0xffffffff; var\n        ni = 0;\n      for (var j = 0; j < pc; j++) { var ce = D(nplt[i], nplt[j]); if (j != i && ce < ne) { ne = ce; ni = j; } }\n      const hd = Math.sqrt(ne) / 2;\n      rads[i] = ~~(hd * hd);\n    }\n\n    const tb32 = new Uint32Array(tb.buffer);\n    const err = new Int16Array(w * h * 4);\n\n    /*\n\t\tvar S=2, M = [\n\t\t\t0,2,\n\t\t    3,1];  // */\n    //*\n    const S = 4; const\n      M = [\n\t\t\t 0, 8, 2, 10,\n\t\t    12, 4, 14, 6,\n\t\t\t 3, 11, 1, 9,\n        15, 7, 13, 5]; //* /\n    for (var i = 0; i < M.length; i++) M[i] = 255 * (-0.5 + (M[i] + 0.5) / (S * S));\n\n    for (let y = 0; y < h; y++) {\n      for (let x = 0; x < w; x++) {\n        var i = (y * w + x) * 4;\n\n        var cc;\n        if (MTD != 2) cc = [N(sb[i] + err[i]), N(sb[i + 1] + err[i + 1]), N(sb[i + 2] + err[i + 2]), N(sb[i + 3] + err[i + 3])];\n        else {\n          var ce = M[(y & (S - 1)) * S + (x & (S - 1))];\n          cc = [N(sb[i] + ce), N(sb[i + 1] + ce), N(sb[i + 2] + ce), N(sb[i + 3] + ce)];\n        }\n\n        var ni = 0; let\n          nd = 0xffffff;\n        for (var j = 0; j < pc; j++) {\n          const cd = D(cc, nplt[j]);\n          if (cd < nd) { nd = cd; ni = j; }\n        }\n\n        const nc = nplt[ni];\n        const er = [cc[0] - nc[0], cc[1] - nc[1], cc[2] - nc[2], cc[3] - nc[3]];\n\n        if (MTD == 1) {\n          // addErr(er, err, i+4, 16);\n          if (x != w - 1) addErr(er, err, i + 4, 7);\n          if (y != h - 1) {\n            if (x != 0) addErr(er, err, i + 4 * w - 4, 3);\n\t\t\t\t\t\t\t\t   addErr(er, err, i + 4 * w, 5);\n            if (x != w - 1) addErr(er, err, i + 4 * w + 4, 1);\n          }//* /\n        }\n        oind[i >> 2] = ni; tb32[i >> 2] = plte[ni];\n      }\n    }\n  }\n\n  function encode(bufs, w, h, ps, dels, tabs, forbidPlte) {\n    if (ps == null) ps = 0;\n    if (forbidPlte == null) forbidPlte = false;\n\n    const nimg = compress(bufs, w, h, ps, [false, false, false, 0, forbidPlte, false]);\n    compressPNG(nimg, -1);\n\n    return _main(nimg, w, h, dels, tabs);\n  }\n\n  function encodeLL(bufs, w, h, cc, ac, depth, dels, tabs) {\n    const nimg = { ctype: 0 + (cc == 1 ? 0 : 2) + (ac == 0 ? 0 : 4), depth, frames: [] };\n\n    const time = Date.now();\n    const bipp = (cc + ac) * depth; const\n      bipl = bipp * w;\n    for (let i = 0; i < bufs.length; i++) {\n      nimg.frames.push({\n        rect: {\n          x: 0, y: 0, width: w, height: h,\n        },\n        img: new Uint8Array(bufs[i]),\n        blend: 0,\n        dispose: 1,\n        bpp: Math.ceil(bipp / 8),\n        bpl: Math.ceil(bipl / 8),\n      });\n    }\n\n    compressPNG(nimg, 0, true);\n\n    const out = _main(nimg, w, h, dels, tabs);\n    return out;\n  }\n\n  function _main(nimg, w, h, dels, tabs) {\n    if (tabs == null) tabs = {};\n    const { crc } = crcLib;\n    const wUi = _bin.writeUint;\n    const wUs = _bin.writeUshort;\n    const wAs = _bin.writeASCII;\n    let offset = 8; const anim = nimg.frames.length > 1; let\n      pltAlpha = false;\n\n    let cicc;\n\n    let leng = 8 + (16 + 5 + 4) /* + (9+4) */ + (anim ? 20 : 0);\n    if (tabs.sRGB != null) leng += 8 + 1 + 4;\n    if (tabs.pHYs != null) leng += 8 + 9 + 4;\n    if (tabs.iCCP != null) { cicc = pako.deflate(tabs.iCCP); leng += 8 + 11 + 2 + cicc.length + 4; }\n    if (nimg.ctype == 3) {\n      var dl = nimg.plte.length;\n      for (var i = 0; i < dl; i++) if ((nimg.plte[i] >>> 24) != 255) pltAlpha = true;\n      leng += (8 + dl * 3 + 4) + (pltAlpha ? (8 + dl * 1 + 4) : 0);\n    }\n    for (var j = 0; j < nimg.frames.length; j++) {\n      var fr = nimg.frames[j];\n      if (anim) leng += 38;\n      leng += fr.cimg.length + 12;\n      if (j != 0) leng += 4;\n    }\n    leng += 12;\n\n    const data = new Uint8Array(leng);\n    const wr = [0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a];\n    for (var i = 0; i < 8; i++) data[i] = wr[i];\n\n    wUi(data, offset, 13); offset += 4;\n    wAs(data, offset, 'IHDR'); offset += 4;\n    wUi(data, offset, w); offset += 4;\n    wUi(data, offset, h); offset += 4;\n    data[offset] = nimg.depth; offset++; // depth\n    data[offset] = nimg.ctype; offset++; // ctype\n    data[offset] = 0; offset++; // compress\n    data[offset] = 0; offset++; // filter\n    data[offset] = 0; offset++; // interlace\n    wUi(data, offset, crc(data, offset - 17, 17)); offset += 4; // crc\n\n    // 13 bytes to say, that it is sRGB\n    if (tabs.sRGB != null) {\n      wUi(data, offset, 1); offset += 4;\n      wAs(data, offset, 'sRGB'); offset += 4;\n      data[offset] = tabs.sRGB; offset++;\n      wUi(data, offset, crc(data, offset - 5, 5)); offset += 4; // crc\n    }\n    if (tabs.iCCP != null) {\n      const sl = 11 + 2 + cicc.length;\n      wUi(data, offset, sl); offset += 4;\n      wAs(data, offset, 'iCCP'); offset += 4;\n      wAs(data, offset, 'ICC profile'); offset += 11; offset += 2;\n      data.set(cicc, offset); offset += cicc.length;\n      wUi(data, offset, crc(data, offset - (sl + 4), sl + 4)); offset += 4; // crc\n    }\n    if (tabs.pHYs != null) {\n      wUi(data, offset, 9); offset += 4;\n      wAs(data, offset, 'pHYs'); offset += 4;\n      wUi(data, offset, tabs.pHYs[0]); offset += 4;\n      wUi(data, offset, tabs.pHYs[1]); offset += 4;\n      data[offset] = tabs.pHYs[2];\t\t\toffset++;\n      wUi(data, offset, crc(data, offset - 13, 13)); offset += 4; // crc\n    }\n\n    if (anim) {\n      wUi(data, offset, 8); offset += 4;\n      wAs(data, offset, 'acTL'); offset += 4;\n      wUi(data, offset, nimg.frames.length); offset += 4;\n      wUi(data, offset, tabs.loop != null ? tabs.loop : 0); offset += 4;\n      wUi(data, offset, crc(data, offset - 12, 12)); offset += 4; // crc\n    }\n\n    if (nimg.ctype == 3) {\n      var dl = nimg.plte.length;\n      wUi(data, offset, dl * 3); offset += 4;\n      wAs(data, offset, 'PLTE'); offset += 4;\n      for (var i = 0; i < dl; i++) {\n        const ti = i * 3; const c = nimg.plte[i]; const r = (c) & 255; const g = (c >>> 8) & 255; const\n          b = (c >>> 16) & 255;\n        data[offset + ti + 0] = r; data[offset + ti + 1] = g; data[offset + ti + 2] = b;\n      }\n      offset += dl * 3;\n      wUi(data, offset, crc(data, offset - dl * 3 - 4, dl * 3 + 4)); offset += 4; // crc\n\n      if (pltAlpha) {\n        wUi(data, offset, dl); offset += 4;\n        wAs(data, offset, 'tRNS'); offset += 4;\n        for (var i = 0; i < dl; i++) data[offset + i] = (nimg.plte[i] >>> 24) & 255;\n        offset += dl;\n        wUi(data, offset, crc(data, offset - dl - 4, dl + 4)); offset += 4; // crc\n      }\n    }\n\n    let fi = 0;\n    for (var j = 0; j < nimg.frames.length; j++) {\n      var fr = nimg.frames[j];\n      if (anim) {\n        wUi(data, offset, 26); offset += 4;\n        wAs(data, offset, 'fcTL'); offset += 4;\n        wUi(data, offset, fi++); offset += 4;\n        wUi(data, offset, fr.rect.width); offset += 4;\n        wUi(data, offset, fr.rect.height); offset += 4;\n        wUi(data, offset, fr.rect.x); offset += 4;\n        wUi(data, offset, fr.rect.y); offset += 4;\n        wUs(data, offset, dels[j]); offset += 2;\n        wUs(data, offset, 1000); offset += 2;\n        data[offset] = fr.dispose; offset++;\t// dispose\n        data[offset] = fr.blend; offset++;\t// blend\n        wUi(data, offset, crc(data, offset - 30, 30)); offset += 4; // crc\n      }\n\n      const imgd = fr.cimg; var\n        dl = imgd.length;\n      wUi(data, offset, dl + (j == 0 ? 0 : 4)); offset += 4;\n      const ioff = offset;\n      wAs(data, offset, (j == 0) ? 'IDAT' : 'fdAT'); offset += 4;\n      if (j != 0) { wUi(data, offset, fi++); offset += 4; }\n      data.set(imgd, offset);\n      offset += dl;\n      wUi(data, offset, crc(data, ioff, offset - ioff)); offset += 4; // crc\n    }\n\n    wUi(data, offset, 0); offset += 4;\n    wAs(data, offset, 'IEND'); offset += 4;\n    wUi(data, offset, crc(data, offset - 4, 4)); offset += 4; // crc\n\n    return data.buffer;\n  }\n\n  function compressPNG(out, filter, levelZero) {\n    for (let i = 0; i < out.frames.length; i++) {\n      const frm = out.frames[i]; const nw = frm.rect.width; const\n        nh = frm.rect.height;\n      const fdata = new Uint8Array(nh * frm.bpl + nh);\n      frm.cimg = _filterZero(frm.img, nh, frm.bpp, frm.bpl, fdata, filter, levelZero);\n    }\n  }\n\n  function compress(bufs, w, h, ps, prms) // prms:  onlyBlend, minBits, forbidPlte\n  {\n    // var time = Date.now();\n    const onlyBlend = prms[0]; const evenCrd = prms[1]; const forbidPrev = prms[2]; const minBits = prms[3]; const forbidPlte = prms[4]; const\n      dith = prms[5];\n\n    let ctype = 6; let depth = 8; let\n      alphaAnd = 255;\n\n    for (var j = 0; j < bufs.length; j++) { // when not quantized, other frames can contain colors, that are not in an initial frame\n      const img = new Uint8Array(bufs[j]); var\n        ilen = img.length;\n      for (var i = 0; i < ilen; i += 4) alphaAnd &= img[i + 3];\n    }\n    const gotAlpha = (alphaAnd != 255);\n\n    // console.log(\"alpha check\", Date.now()-time);  time = Date.now();\n\n    // var brute = gotAlpha && forGIF;\t\t// brute : frames can only be copied, not \"blended\"\n    const frms = framize(bufs, w, h, onlyBlend, evenCrd, forbidPrev);\n    // console.log(\"framize\", Date.now()-time);  time = Date.now();\n\n    const cmap = {}; const plte = []; const\n      inds = [];\n\n    if (ps != 0) {\n      const nbufs = []; for (var i = 0; i < frms.length; i++) nbufs.push(frms[i].img.buffer);\n\n      const abuf = concatRGBA(nbufs); const\n        qres = quantize(abuf, ps);\n\n      for (var i = 0; i < qres.plte.length; i++) plte.push(qres.plte[i].est.rgba);\n\n      let cof = 0;\n      for (var i = 0; i < frms.length; i++) {\n        var frm = frms[i]; const bln = frm.img.length; var\n          ind = new Uint8Array(qres.inds.buffer, cof >> 2, bln >> 2); inds.push(ind);\n        const bb = new Uint8Array(qres.abuf, cof, bln);\n\n        // console.log(frm.img, frm.width, frm.height);\n        // var time = Date.now();\n        if (dith) dither(frm.img, frm.rect.width, frm.rect.height, plte, bb, ind);\n        // console.log(Date.now()-time);\n        frm.img.set(bb); cof += bln;\n      }\n\n      // console.log(\"quantize\", Date.now()-time);  time = Date.now();\n    } else {\n      // what if ps==0, but there are <=256 colors?  we still need to detect, if the palette could be used\n      for (var j = 0; j < frms.length; j++) { // when not quantized, other frames can contain colors, that are not in an initial frame\n        var frm = frms[j]; const img32 = new Uint32Array(frm.img.buffer); var nw = frm.rect.width; var\n          ilen = img32.length;\n        var ind = new Uint8Array(ilen); inds.push(ind);\n        for (var i = 0; i < ilen; i++) {\n          const c = img32[i];\n          if (i != 0 && c == img32[i - 1]) ind[i] = ind[i - 1];\n          else if (i > nw && c == img32[i - nw]) ind[i] = ind[i - nw];\n          else {\n            let cmc = cmap[c];\n            if (cmc == null) { cmap[c] = cmc = plte.length; plte.push(c); if (plte.length >= 300) break; }\n            ind[i] = cmc;\n          }\n        }\n      }\n      // console.log(\"make palette\", Date.now()-time);  time = Date.now();\n    }\n\n    const cc = plte.length; // console.log(\"colors:\",cc);\n    if (cc <= 256 && forbidPlte == false) {\n      if (cc <= 2) depth = 1; else if (cc <= 4) depth = 2; else if (cc <= 16) depth = 4; else depth = 8;\n      depth = Math.max(depth, minBits);\n    }\n\n    for (var j = 0; j < frms.length; j++) {\n      var frm = frms[j]; const nx = frm.rect.x; const ny = frm.rect.y; var nw = frm.rect.width; const\n        nh = frm.rect.height;\n      let cimg = frm.img; const\n        cimg32 = new Uint32Array(cimg.buffer);\n      let bpl = 4 * nw; let\n        bpp = 4;\n      if (cc <= 256 && forbidPlte == false) {\n        bpl = Math.ceil(depth * nw / 8);\n        var nimg = new Uint8Array(bpl * nh);\n        const inj = inds[j];\n        for (let y = 0; y < nh; y++) {\n          var i = y * bpl; const\n            ii = y * nw;\n          if (depth == 8) for (var x = 0; x < nw; x++) nimg[i + (x)] = (inj[ii + x]);\n          else if (depth == 4) for (var x = 0; x < nw; x++) nimg[i + (x >> 1)] |= (inj[ii + x] << (4 - (x & 1) * 4));\n          else if (depth == 2) for (var x = 0; x < nw; x++) nimg[i + (x >> 2)] |= (inj[ii + x] << (6 - (x & 3) * 2));\n          else if (depth == 1) for (var x = 0; x < nw; x++) nimg[i + (x >> 3)] |= (inj[ii + x] << (7 - (x & 7) * 1));\n        }\n        cimg = nimg; ctype = 3; bpp = 1;\n      } else if (gotAlpha == false && frms.length == 1) {\t// some next \"reduced\" frames may contain alpha for blending\n        var nimg = new Uint8Array(nw * nh * 3); const\n          area = nw * nh;\n        for (var i = 0; i < area; i++) {\n          const ti = i * 3; const\n            qi = i * 4; nimg[ti] = cimg[qi]; nimg[ti + 1] = cimg[qi + 1]; nimg[ti + 2] = cimg[qi + 2];\n        }\n        cimg = nimg; ctype = 2; bpp = 3; bpl = 3 * nw;\n      }\n      frm.img = cimg; frm.bpl = bpl; frm.bpp = bpp;\n    }\n    // console.log(\"colors => palette indices\", Date.now()-time);  time = Date.now();\n\n    return {\n      ctype, depth, plte, frames: frms,\n    };\n  }\n  function framize(bufs, w, h, alwaysBlend, evenCrd, forbidPrev) {\n    /*  DISPOSE\n\t\t\t- 0 : no change\n\t\t\t- 1 : clear to transparent\n\t\t\t- 2 : retstore to content before rendering (previous frame disposed)\n\t\t\tBLEND\n\t\t\t- 0 : replace\n\t\t\t- 1 : blend\n\t\t*/\n    const frms = [];\n    for (var j = 0; j < bufs.length; j++) {\n      const cimg = new Uint8Array(bufs[j]); const\n        cimg32 = new Uint32Array(cimg.buffer);\n      var nimg;\n\n      let nx = 0; let ny = 0; let nw = w; let nh = h; let\n        blend = alwaysBlend ? 1 : 0;\n      if (j != 0) {\n        const tlim = (forbidPrev || alwaysBlend || j == 1 || frms[j - 2].dispose != 0) ? 1 : 2; let tstp = 0; let\n          tarea = 1e9;\n        for (let it = 0; it < tlim; it++) {\n          var pimg = new Uint8Array(bufs[j - 1 - it]); const\n            p32 = new Uint32Array(bufs[j - 1 - it]);\n          let mix = w; let miy = h; let max = -1; let may = -1;\n          for (let y = 0; y < h; y++) {\n            for (let x = 0; x < w; x++) {\n              var i = y * w + x;\n              if (cimg32[i] != p32[i]) {\n                if (x < mix) mix = x; if (x > max) max = x;\n                if (y < miy) miy = y; if (y > may) may = y;\n              }\n            }\n          }\n          if (max == -1) mix = miy = max = may = 0;\n          if (evenCrd) { if ((mix & 1) == 1)mix--; if ((miy & 1) == 1)miy--; }\n          const sarea = (max - mix + 1) * (may - miy + 1);\n          if (sarea < tarea) {\n            tarea = sarea; tstp = it;\n            nx = mix; ny = miy; nw = max - mix + 1; nh = may - miy + 1;\n          }\n        }\n\n        // alwaysBlend: pokud zjistm, e blendit nelze, nastavm pedchozmu snmku dispose=1. Zajistm, aby obsahoval mj obdlnk.\n        var pimg = new Uint8Array(bufs[j - 1 - tstp]);\n        if (tstp == 1) frms[j - 1].dispose = 2;\n\n        nimg = new Uint8Array(nw * nh * 4);\n        _copyTile(pimg, w, h, nimg, nw, nh, -nx, -ny, 0);\n\n        blend = _copyTile(cimg, w, h, nimg, nw, nh, -nx, -ny, 3) ? 1 : 0;\n        if (blend == 1) {\n          _prepareDiff(cimg, w, h, nimg, {\n            x: nx, y: ny, width: nw, height: nh,\n          });\n        } else _copyTile(cimg, w, h, nimg, nw, nh, -nx, -ny, 0);\n      } else nimg = cimg.slice(0);\t// img may be rewritten further ... don't rewrite input\n\n      frms.push({\n        rect: {\n          x: nx, y: ny, width: nw, height: nh,\n        },\n        img: nimg,\n        blend,\n        dispose: 0,\n      });\n    }\n\n    if (alwaysBlend) {\n      for (var j = 0; j < frms.length; j++) {\n        var frm = frms[j]; if (frm.blend == 1) continue;\n        const r0 = frm.rect; const\n          r1 = frms[j - 1].rect;\n        const miX = Math.min(r0.x, r1.x); const\n          miY = Math.min(r0.y, r1.y);\n        const maX = Math.max(r0.x + r0.width, r1.x + r1.width); const\n          maY = Math.max(r0.y + r0.height, r1.y + r1.height);\n        const r = {\n          x: miX, y: miY, width: maX - miX, height: maY - miY,\n        };\n\n        frms[j - 1].dispose = 1;\n        if (j - 1 != 0) _updateFrame(bufs, w, h, frms, j - 1, r, evenCrd);\n        _updateFrame(bufs, w, h, frms, j, r, evenCrd);\n      }\n    }\n    let area = 0;\n    if (bufs.length != 1) {\n      for (var i = 0; i < frms.length; i++) {\n        var frm = frms[i];\n        area += frm.rect.width * frm.rect.height;\n      // if(i==0 || frm.blend!=1) continue;\n      // var ob = new Uint8Array(\n      // console.log(frm.blend, frm.dispose, frm.rect);\n      }\n    }\n    // if(area!=0) console.log(area);\n    return frms;\n  }\n  function _updateFrame(bufs, w, h, frms, i, r, evenCrd) {\n    const U8 = Uint8Array; const\n      U32 = Uint32Array;\n    const pimg = new U8(bufs[i - 1]); const pimg32 = new U32(bufs[i - 1]); const\n      nimg = i + 1 < bufs.length ? new U8(bufs[i + 1]) : null;\n    const cimg = new U8(bufs[i]); const\n      cimg32 = new U32(cimg.buffer);\n\n    let mix = w; let miy = h; let max = -1; let may = -1;\n    for (let y = 0; y < r.height; y++) {\n      for (let x = 0; x < r.width; x++) {\n        const cx = r.x + x; const\n          cy = r.y + y;\n        const j = cy * w + cx; const\n          cc = cimg32[j];\n        // no need to draw transparency, or to dispose it. Or, if writing the same color and the next one does not need transparency.\n        if (cc == 0 || (frms[i - 1].dispose == 0 && pimg32[j] == cc && (nimg == null || nimg[j * 4 + 3] != 0))/**/) {} else {\n          if (cx < mix) mix = cx; if (cx > max) max = cx;\n          if (cy < miy) miy = cy; if (cy > may) may = cy;\n        }\n      }\n    }\n    if (max == -1) mix = miy = max = may = 0;\n    if (evenCrd) { if ((mix & 1) == 1)mix--; if ((miy & 1) == 1)miy--; }\n    r = {\n      x: mix, y: miy, width: max - mix + 1, height: may - miy + 1,\n    };\n\n    const fr = frms[i]; fr.rect = r; fr.blend = 1; fr.img = new Uint8Array(r.width * r.height * 4);\n    if (frms[i - 1].dispose == 0) {\n      _copyTile(pimg, w, h, fr.img, r.width, r.height, -r.x, -r.y, 0);\n      _prepareDiff(cimg, w, h, fr.img, r);\n    } else _copyTile(cimg, w, h, fr.img, r.width, r.height, -r.x, -r.y, 0);\n  }\n  function _prepareDiff(cimg, w, h, nimg, rec) {\n    _copyTile(cimg, w, h, nimg, rec.width, rec.height, -rec.x, -rec.y, 2);\n  }\n\n  function _filterZero(img, h, bpp, bpl, data, filter, levelZero) {\n    const fls = []; let\n      ftry = [0, 1, 2, 3, 4];\n    if (filter != -1) ftry = [filter];\n    else if (h * bpl > 500000 || bpp == 1) ftry = [0];\n    let opts; if (levelZero) opts = { level: 0 };\n\n    const CMPR = UZIP;\n\n    const time = Date.now();\n    for (var i = 0; i < ftry.length; i++) {\n      for (let y = 0; y < h; y++) _filterLine(data, img, y, bpl, bpp, ftry[i]);\n      // var nimg = new Uint8Array(data.length);\n      // var sz = UZIP.F.deflate(data, nimg);  fls.push(nimg.slice(0,sz));\n      // var dfl = pako[\"deflate\"](data), dl=dfl.length-4;\n      // var crc = (dfl[dl+3]<<24)|(dfl[dl+2]<<16)|(dfl[dl+1]<<8)|(dfl[dl+0]<<0);\n      // console.log(crc, UZIP.adler(data,2,data.length-6));\n      fls.push(CMPR.deflate(data, opts));\n    }\n\n    let ti; let\n      tsize = 1e9;\n    for (var i = 0; i < fls.length; i++) if (fls[i].length < tsize) { ti = i; tsize = fls[i].length; }\n    return fls[ti];\n  }\n  function _filterLine(data, img, y, bpl, bpp, type) {\n    const i = y * bpl; let\n      di = i + y;\n    data[di] = type; di++;\n\n    if (type == 0) {\n      if (bpl < 500) for (var x = 0; x < bpl; x++) data[di + x] = img[i + x];\n      else data.set(new Uint8Array(img.buffer, i, bpl), di);\n    } else if (type == 1) {\n      for (var x = 0; x < bpp; x++) data[di + x] = img[i + x];\n      for (var x = bpp; x < bpl; x++) data[di + x] = (img[i + x] - img[i + x - bpp] + 256) & 255;\n    } else if (y == 0) {\n      for (var x = 0; x < bpp; x++) data[di + x] = img[i + x];\n\n      if (type == 2) for (var x = bpp; x < bpl; x++) data[di + x] = img[i + x];\n      if (type == 3) for (var x = bpp; x < bpl; x++) data[di + x] = (img[i + x] - (img[i + x - bpp] >> 1) + 256) & 255;\n      if (type == 4) for (var x = bpp; x < bpl; x++) data[di + x] = (img[i + x] - paeth(img[i + x - bpp], 0, 0) + 256) & 255;\n    } else {\n      if (type == 2) { for (var x = 0; x < bpl; x++) data[di + x] = (img[i + x] + 256 - img[i + x - bpl]) & 255; }\n      if (type == 3) {\n        for (var x = 0; x < bpp; x++) data[di + x] = (img[i + x] + 256 - (img[i + x - bpl] >> 1)) & 255;\n\t\t\t\t\t\t  for (var x = bpp; x < bpl; x++) data[di + x] = (img[i + x] + 256 - ((img[i + x - bpl] + img[i + x - bpp]) >> 1)) & 255;\n      }\n      if (type == 4) {\n        for (var x = 0; x < bpp; x++) data[di + x] = (img[i + x] + 256 - paeth(0, img[i + x - bpl], 0)) & 255;\n\t\t\t\t\t\t  for (var x = bpp; x < bpl; x++) data[di + x] = (img[i + x] + 256 - paeth(img[i + x - bpp], img[i + x - bpl], img[i + x - bpp - bpl])) & 255;\n      }\n    }\n  }\n\n  function quantize(abuf, ps) {\n    const sb = new Uint8Array(abuf); const tb = sb.slice(0); const\n      tb32 = new Uint32Array(tb.buffer);\n\n    const KD = getKDtree(tb, ps);\n    const root = KD[0]; const\n      leafs = KD[1];\n\n    const len = sb.length;\n\n    const inds = new Uint8Array(len >> 2); let\n      nd;\n    if (sb.length < 20e6) // precise, but slow :(\n    {\n      for (var i = 0; i < len; i += 4) {\n        var r = sb[i] * (1 / 255); var g = sb[i + 1] * (1 / 255); var b = sb[i + 2] * (1 / 255); var\n          a = sb[i + 3] * (1 / 255);\n\n        nd = getNearest(root, r, g, b, a);\n        inds[i >> 2] = nd.ind; tb32[i >> 2] = nd.est.rgba;\n      }\n    } else {\n      for (var i = 0; i < len; i += 4) {\n        var r = sb[i] * (1 / 255); var g = sb[i + 1] * (1 / 255); var b = sb[i + 2] * (1 / 255); var\n          a = sb[i + 3] * (1 / 255);\n\n        nd = root; while (nd.left) nd = (planeDst(nd.est, r, g, b, a) <= 0) ? nd.left : nd.right;\n        inds[i >> 2] = nd.ind; tb32[i >> 2] = nd.est.rgba;\n      }\n    }\n    return { abuf: tb.buffer, inds, plte: leafs };\n  }\n\n  function getKDtree(nimg, ps, err) {\n    if (err == null) err = 0.0001;\n    const nimg32 = new Uint32Array(nimg.buffer);\n\n    const root = {\n      i0: 0, i1: nimg.length, bst: null, est: null, tdst: 0, left: null, right: null,\n    }; // basic statistic, extra statistic\n    root.bst = stats(nimg, root.i0, root.i1); root.est = estats(root.bst);\n    const leafs = [root];\n\n    while (leafs.length < ps) {\n      let maxL = 0; let\n        mi = 0;\n      for (var i = 0; i < leafs.length; i++) if (leafs[i].est.L > maxL) { maxL = leafs[i].est.L; mi = i; }\n      if (maxL < err) break;\n      const node = leafs[mi];\n\n      const s0 = splitPixels(nimg, nimg32, node.i0, node.i1, node.est.e, node.est.eMq255);\n      const s0wrong = (node.i0 >= s0 || node.i1 <= s0);\n      // console.log(maxL, leafs.length, mi);\n      if (s0wrong) { node.est.L = 0; continue; }\n\n      const ln = {\n        i0: node.i0, i1: s0, bst: null, est: null, tdst: 0, left: null, right: null,\n      }; ln.bst = stats(nimg, ln.i0, ln.i1);\n      ln.est = estats(ln.bst);\n      const rn = {\n        i0: s0, i1: node.i1, bst: null, est: null, tdst: 0, left: null, right: null,\n      }; rn.bst = { R: [], m: [], N: node.bst.N - ln.bst.N };\n      for (var i = 0; i < 16; i++) rn.bst.R[i] = node.bst.R[i] - ln.bst.R[i];\n      for (var i = 0; i < 4; i++) rn.bst.m[i] = node.bst.m[i] - ln.bst.m[i];\n      rn.est = estats(rn.bst);\n\n      node.left = ln; node.right = rn;\n      leafs[mi] = ln; leafs.push(rn);\n    }\n    leafs.sort((a, b) => b.bst.N - a.bst.N);\n    for (var i = 0; i < leafs.length; i++) leafs[i].ind = i;\n    return [root, leafs];\n  }\n\n  function getNearest(nd, r, g, b, a) {\n    if (nd.left == null) { nd.tdst = dist(nd.est.q, r, g, b, a); return nd; }\n    const pd = planeDst(nd.est, r, g, b, a);\n\n    let node0 = nd.left; let\n      node1 = nd.right;\n    if (pd > 0) { node0 = nd.right; node1 = nd.left; }\n\n    const ln = getNearest(node0, r, g, b, a);\n    if (ln.tdst <= pd * pd) return ln;\n    const rn = getNearest(node1, r, g, b, a);\n    return rn.tdst < ln.tdst ? rn : ln;\n  }\n  function planeDst(est, r, g, b, a) { const { e } = est; return e[0] * r + e[1] * g + e[2] * b + e[3] * a - est.eMq; }\n  function dist(q, r, g, b, a) {\n    const d0 = r - q[0]; const d1 = g - q[1]; const d2 = b - q[2]; const\n      d3 = a - q[3]; return d0 * d0 + d1 * d1 + d2 * d2 + d3 * d3;\n  }\n\n  function splitPixels(nimg, nimg32, i0, i1, e, eMq) {\n    i1 -= 4;\n    const shfs = 0;\n    while (i0 < i1) {\n      while (vecDot(nimg, i0, e) <= eMq) i0 += 4;\n      while (vecDot(nimg, i1, e) > eMq) i1 -= 4;\n      if (i0 >= i1) break;\n\n      const t = nimg32[i0 >> 2]; nimg32[i0 >> 2] = nimg32[i1 >> 2]; nimg32[i1 >> 2] = t;\n\n      i0 += 4; i1 -= 4;\n    }\n    while (vecDot(nimg, i0, e) > eMq) i0 -= 4;\n    return i0 + 4;\n  }\n  function vecDot(nimg, i, e) {\n    return nimg[i] * e[0] + nimg[i + 1] * e[1] + nimg[i + 2] * e[2] + nimg[i + 3] * e[3];\n  }\n  function stats(nimg, i0, i1) {\n    const R = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    const m = [0, 0, 0, 0];\n    const N = (i1 - i0) >> 2;\n    for (let i = i0; i < i1; i += 4) {\n      const r = nimg[i] * (1 / 255); const g = nimg[i + 1] * (1 / 255); const b = nimg[i + 2] * (1 / 255); const\n        a = nimg[i + 3] * (1 / 255);\n      // var r = nimg[i], g = nimg[i+1], b = nimg[i+2], a = nimg[i+3];\n      m[0] += r; m[1] += g; m[2] += b; m[3] += a;\n\n      R[0] += r * r; R[1] += r * g; R[2] += r * b; R[3] += r * a;\n\t\t\t\t\t\t   R[5] += g * g; R[6] += g * b; R[7] += g * a;\n\t\t\t\t\t\t\t\t\t\t  R[10] += b * b; R[11] += b * a;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t R[15] += a * a;\n    }\n    R[4] = R[1]; R[8] = R[2]; R[9] = R[6]; R[12] = R[3]; R[13] = R[7]; R[14] = R[11];\n\n    return { R, m, N };\n  }\n  function estats(stats) {\n    const { R } = stats;\n    const { m } = stats;\n    const { N } = stats;\n\n    // when all samples are equal, but N is large (millions), the Rj can be non-zero ( 0.0003.... - precission error)\n    const m0 = m[0]; const m1 = m[1]; const m2 = m[2]; const m3 = m[3]; const\n      iN = (N == 0 ? 0 : 1 / N);\n    const Rj = [\n      R[0] - m0 * m0 * iN, R[1] - m0 * m1 * iN, R[2] - m0 * m2 * iN, R[3] - m0 * m3 * iN,\n      R[4] - m1 * m0 * iN, R[5] - m1 * m1 * iN, R[6] - m1 * m2 * iN, R[7] - m1 * m3 * iN,\n      R[8] - m2 * m0 * iN, R[9] - m2 * m1 * iN, R[10] - m2 * m2 * iN, R[11] - m2 * m3 * iN,\n      R[12] - m3 * m0 * iN, R[13] - m3 * m1 * iN, R[14] - m3 * m2 * iN, R[15] - m3 * m3 * iN,\n    ];\n\n    const A = Rj; const\n      M = M4;\n    let b = [Math.random(), Math.random(), Math.random(), Math.random()]; let mi = 0; let\n      tmi = 0;\n\n    if (N != 0) {\n      for (let i = 0; i < 16; i++) {\n        b = M.multVec(A, b); tmi = Math.sqrt(M.dot(b, b)); b = M.sml(1 / tmi, b);\n        if (i != 0 && Math.abs(tmi - mi) < 1e-9) break; mi = tmi;\n      }\n    }\n    // b = [0,0,1,0];  mi=N;\n    const q = [m0 * iN, m1 * iN, m2 * iN, m3 * iN];\n    const eMq255 = M.dot(M.sml(255, q), b);\n\n    return {\n      Cov: Rj,\n      q,\n      e: b,\n      L: mi,\n      eMq255,\n      eMq: M.dot(b, q),\n      rgba: (((Math.round(255 * q[3]) << 24) | (Math.round(255 * q[2]) << 16) | (Math.round(255 * q[1]) << 8) | (Math.round(255 * q[0]) << 0)) >>> 0),\n    };\n  }\n  var M4 = {\n    multVec(m, v) {\n      return [\n        m[0] * v[0] + m[1] * v[1] + m[2] * v[2] + m[3] * v[3],\n        m[4] * v[0] + m[5] * v[1] + m[6] * v[2] + m[7] * v[3],\n        m[8] * v[0] + m[9] * v[1] + m[10] * v[2] + m[11] * v[3],\n        m[12] * v[0] + m[13] * v[1] + m[14] * v[2] + m[15] * v[3],\n      ];\n    },\n    dot(x, y) { return x[0] * y[0] + x[1] * y[1] + x[2] * y[2] + x[3] * y[3]; },\n    sml(a, y) { return [a * y[0], a * y[1], a * y[2], a * y[3]]; },\n  };\n\n  function concatRGBA(bufs) {\n    let tlen = 0;\n    for (var i = 0; i < bufs.length; i++) tlen += bufs[i].byteLength;\n    const nimg = new Uint8Array(tlen); let\n      noff = 0;\n    for (var i = 0; i < bufs.length; i++) {\n      const img = new Uint8Array(bufs[i]); const\n        il = img.length;\n      for (let j = 0; j < il; j += 4) {\n        let r = img[j]; let g = img[j + 1]; let b = img[j + 2]; const\n          a = img[j + 3];\n        if (a == 0) r = g = b = 0;\n        nimg[noff + j] = r; nimg[noff + j + 1] = g; nimg[noff + j + 2] = b; nimg[noff + j + 3] = a;\n      }\n      noff += il;\n    }\n    return nimg.buffer;\n  }\n\n  UPNG.encode = encode;\n  UPNG.encodeLL = encodeLL;\n  UPNG.encode.compress = compress;\n  UPNG.encode.dither = dither;\n\n  UPNG.quantize = quantize;\n  UPNG.quantize.getKDtree = getKDtree;\n  UPNG.quantize.getNearest = getNearest;\n}());\n\nexport default UPNG;\n","// https://github.com/marcosvega91/canvas-to-bmp/blob/77aaf2221647a6533b1926cb637c7cd2bc432d9b/src/canvastobmp.js\n\n/**\n * Static helper object that can convert a CORS-compliant canvas element\n * to a 32-bits BMP file (buffer, Blob and data-URI).\n *\n * @type {{toArrayBuffer: Function, toBlob: Function, toDataURL: Function}}\n * @namespace\n */\nconst CanvasToBMP = {\n\n  /**\n\t * Convert a canvas element to ArrayBuffer containing a BMP file\n\t * with support for 32-bit format (alpha). The call is asynchronous\n\t * so a callback must be provided.\n\t *\n\t * Note that CORS requirement must be fulfilled.\n\t *\n\t * @param {HTMLCanvasElement} canvas - the canvas element to convert\n\t * @param {function} callback - called when conversion is done. Argument is ArrayBuffer\n\t * @static\n\t */\n  toArrayBuffer(canvas, callback) {\n    const w = canvas.width;\n    const h = canvas.height;\n    const w4 = w << 2;\n    const idata = canvas.getContext('2d').getImageData(0, 0, w, h);\n    const data32 = new Uint32Array(idata.data.buffer);\n\n    const stride = ((32 * w + 31) / 32) << 2;\n    const pixelArraySize = stride * h;\n    const fileLength = 122 + pixelArraySize;\n\n    const file = new ArrayBuffer(fileLength);\n    const view = new DataView(file);\n    const blockSize = 1 << 20;\n    let block = blockSize;\n    let y = 0; let x; let v; let a; let pos = 0; let p; let\n      s = 0;\n\n    // Header\n    set16(0x4d42);\t\t\t\t\t\t\t\t\t\t// BM\n    set32(fileLength);\t\t\t\t\t\t\t\t\t// total length\n    seek(4);\t\t\t\t\t\t\t\t\t\t\t// skip unused fields\n    set32(0x7a);\t\t\t\t\t\t\t\t\t\t// offset to pixels\n\n    // DIB header\n    set32(0x6c);\t\t\t\t\t\t\t\t\t\t// header size (108)\n    set32(w);\n    set32(-h >>> 0);\t\t\t\t\t\t\t\t\t// negative = top-to-bottom\n    set16(1);\t\t\t\t\t\t\t\t\t\t\t// 1 plane\n    set16(32);\t\t\t\t\t\t\t\t\t\t\t// 32-bits (RGBA)\n    set32(3);\t\t\t\t\t\t\t\t\t\t\t// no compression (BI_BITFIELDS, 3)\n    set32(pixelArraySize);\t\t\t\t\t\t\t\t// bitmap size incl. padding (stride x height)\n    set32(2835);\t\t\t\t\t\t\t\t\t\t// pixels/meter h (~72 DPI x 39.3701 inch/m)\n    set32(2835);\t\t\t\t\t\t\t\t\t\t// pixels/meter v\n    seek(8);\t\t\t\t\t\t\t\t\t\t\t// skip color/important colors\n    set32(0xff0000);\t\t\t\t\t\t\t\t\t// red channel mask\n    set32(0xff00);\t\t\t\t\t\t\t\t\t\t// green channel mask\n    set32(0xff);\t\t\t\t\t\t\t\t\t\t// blue channel mask\n    set32(0xff000000);\t\t\t\t\t\t\t\t\t// alpha channel mask\n    set32(0x57696e20);\t\t\t\t\t\t\t\t\t// \" win\" color space\n\n    (function convert() {\n      // bitmap data, change order of ABGR to BGRA (msb-order)\n      while (y < h && block > 0) {\n        p = 0x7a + y * stride;\t\t\t\t\t\t// offset + stride x height\n        x = 0;\n\n        while (x < w4) {\n          block--;\n          v = data32[s++];\t\t\t\t\t\t// get ABGR\n          a = v >>> 24;\t\t\t\t\t\t\t// alpha\n          view.setUint32(p + x, (v << 8) | a); // set BGRA (msb order)\n          x += 4;\n        }\n        y++;\n      }\n\n      if (s < data32.length) {\n        block = blockSize;\n        setTimeout(convert, CanvasToBMP._dly);\n      } else callback(file);\n    }());\n\n    // helper method to move current buffer position\n    function set16(data) {\n      view.setUint16(pos, data, true);\n      pos += 2;\n    }\n\n    function set32(data) {\n      view.setUint32(pos, data, true);\n      pos += 4;\n    }\n\n    function seek(delta) { pos += delta; }\n  },\n\n  /**\n\t * Converts a canvas to BMP file, returns a Blob representing the\n\t * file. This can be used with URL.createObjectURL(). The call is\n\t * asynchronous so a callback must be provided.\n\t *\n\t * Note that CORS requirement must be fulfilled.\n\t *\n\t * @param {HTMLCanvasElement} canvas - the canvas element to convert\n\t * @param {function} callback - called when conversion is done. Argument is a Blob\n\t * @static\n\t */\n  toBlob(canvas, callback) {\n    this.toArrayBuffer(canvas, (file) => {\n      callback(new Blob([file], { type: 'image/bmp' }));\n    });\n  },\n\n  // /**\n\t//  * Converts a canvas to BMP file, returns an ObjectURL (for Blob)\n\t//  * representing the file. The call is asynchronous so a callback\n\t//  * must be provided.\n\t//  *\n\t//  * **Important**: To avoid memory-leakage you must revoke the returned\n\t//  * ObjectURL when no longer needed:\n\t//  *\n\t//  *     var _URL = self.URL || self.webkitURL || self;\n\t//  *     _URL.revokeObjectURL(url);\n\t//  *\n\t//  * Note that CORS requirement must be fulfilled.\n\t//  *\n\t//  * @param {HTMLCanvasElement} canvas - the canvas element to convert\n\t//  * @param {function} callback - called when conversion is done. Argument is a Blob\n\t//  * @static\n\t//  */\n  // toObjectURL(canvas, callback) {\n  //   this.toBlob(canvas, (blob) => {\n  //     const url = self.URL || self.webkitURL || self;\n  //     callback(url.createObjectURL(blob));\n  //   });\n  // },\n\n  // /**\n\t//  * Converts the canvas to a data-URI representing a BMP file. The\n\t//  * call is asynchronous so a callback must be provided.\n\t//  *\n\t//  * Note that CORS requirement must be fulfilled.\n\t//  *\n\t//  * @param {HTMLCanvasElement} canvas - the canvas element to convert\n\t//  * @param {function} callback - called when conversion is done. Argument is an data-URI (string)\n\t//  * @static\n\t//  */\n  // toDataURL(canvas, callback) {\n  //   this.toArrayBuffer(canvas, (file) => {\n  //     const buffer = new Uint8Array(file);\n  //     const blockSize = 1 << 20;\n  //     let block = blockSize;\n  //     let bs = ''; let base64 = ''; let i = 0; let\n  //       l = buffer.length;\n\n  //     // This is a necessary step before we can use btoa. We can\n  //     // replace this later with a direct byte-buffer to Base-64 routine.\n  //     // Will do for now, impacts only with very large bitmaps (in which\n  //     // case toBlob should be used).\n  //     (function prepBase64() {\n  //       while (i < l && block-- > 0) bs += String.fromCharCode(buffer[i++]);\n\n  //       if (i < l) {\n  //         block = blockSize;\n  //         setTimeout(prepBase64, CanvasToBMP._dly);\n  //       } else {\n  //         // convert string to Base-64\n  //         i = 0;\n  //         l = bs.length;\n  //         block = 180000;\t\t// must be divisible by 3\n\n  //         (function toBase64() {\n  //           base64 += btoa(bs.substr(i, block));\n  //           i += block;\n  //           (i < l)\n  //             ? setTimeout(toBase64, CanvasToBMP._dly)\n  //             : callback(`data:image/bmp;base64,${base64}`);\n  //         }());\n  //       }\n  //     }());\n  //   });\n  // },\n  _dly: 9,\t// delay for async operations\n};\nexport default CanvasToBMP;\n","export default {\n  CHROME: 'CHROME',\n  FIREFOX: 'FIREFOX',\n  DESKTOP_SAFARI: 'DESKTOP_SAFARI',\n  IE: 'IE',\n  IOS: 'IOS',\n  ETC: 'ETC',\n};\n","import BROWSER_NAME from './browser-name';\n\n// see: https://github.com/jhildenbiddle/canvas-size#test-results\n// see: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas#maximum_canvas_size\nexport default {\n  [BROWSER_NAME.CHROME]: 16384,\n  [BROWSER_NAME.FIREFOX]: 11180,\n  [BROWSER_NAME.DESKTOP_SAFARI]: 16384,\n  [BROWSER_NAME.IE]: 8192,\n  [BROWSER_NAME.IOS]: 4096,\n  [BROWSER_NAME.ETC]: 8192,\n};\n","import UPNG from './UPNG';\nimport CanvasToBMP from './canvastobmp';\nimport MAX_CANVAS_SIZE from './config/max-canvas-size';\nimport BROWSER_NAME from './config/browser-name';\n\nconst isBrowser = typeof window !== 'undefined'; // change browser environment to support SSR\nconst inWebWorker = typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope;\n\n// add support for cordova-plugin-file\nconst moduleMapper = isBrowser && window.cordova && window.cordova.require && window.cordova.require('cordova/modulemapper');\nexport const CustomFile = (isBrowser || inWebWorker) && ((moduleMapper && moduleMapper.getOriginalSymbol(window, 'File')) || (typeof File !== 'undefined' && File));\nexport const CustomFileReader = (isBrowser || inWebWorker) && ((moduleMapper && moduleMapper.getOriginalSymbol(window, 'FileReader')) || (typeof FileReader !== 'undefined' && FileReader));\n\n/**\n * getFilefromDataUrl\n *\n * @param {string} dataUrl\n * @param {string} filename\n * @param {number} [lastModified=Date.now()]\n * @returns {Promise<File | Blob>}\n */\nexport function getFilefromDataUrl(dataUrl, filename, lastModified = Date.now()) {\n  return new Promise((resolve) => {\n    const arr = dataUrl.split(',');\n    const mime = arr[0].match(/:(.*?);/)[1];\n    const bstr = globalThis.atob(arr[1]);\n    let n = bstr.length;\n    const u8arr = new Uint8Array(n);\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n    const file = new Blob([u8arr], { type: mime });\n    file.name = filename;\n    file.lastModified = lastModified;\n    resolve(file);\n\n    // Safari has issue with File constructor not being able to POST in FormData\n    // https://github.com/Donaldcwl/browser-image-compression/issues/8\n    // https://bugs.webkit.org/show_bug.cgi?id=165081\n    // let file\n    // try {\n    //   file = new File([u8arr], filename, { type: mime }) // Edge do not support File constructor\n    // } catch (e) {\n    //   file = new Blob([u8arr], { type: mime })\n    //   file.name = filename\n    //   file.lastModified = lastModified\n    // }\n    // resolve(file)\n  });\n}\n\n/**\n * getDataUrlFromFile\n *\n * @param {File | Blob} file\n * @returns {Promise<string>}\n */\nexport function getDataUrlFromFile(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new CustomFileReader();\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (e) => reject(e);\n    reader.readAsDataURL(file);\n  });\n}\n\n/**\n * loadImage\n *\n * @param {string} src\n * @returns {Promise<HTMLImageElement>}\n */\nexport function loadImage(src) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.onerror = (e) => reject(e);\n    img.src = src;\n  });\n}\n\n/**\n * getBrowserName\n *\n * Extracts the browser name from the useragent.\n *\n * ref: https://stackoverflow.com/a/26358856\n *\n * @returns {string}\n */\nexport function getBrowserName() {\n  if (getBrowserName.cachedResult !== undefined) {\n    return getBrowserName.cachedResult;\n  }\n  let browserName = BROWSER_NAME.ETC;\n  const { userAgent } = navigator;\n  if (/Chrom(e|ium)/i.test(userAgent)) {\n    browserName = BROWSER_NAME.CHROME;\n  } else if (/iP(ad|od|hone)/i.test(userAgent) && /WebKit/i.test(userAgent)) {\n    browserName = BROWSER_NAME.IOS;\n  } else if (/Safari/i.test(userAgent)) {\n    browserName = BROWSER_NAME.DESKTOP_SAFARI;\n  } else if (/Firefox/i.test(userAgent)) {\n    browserName = BROWSER_NAME.FIREFOX;\n  } else if (/MSIE/i.test(userAgent) || (!!document.documentMode) === true) { // IF IE > 10\n    browserName = BROWSER_NAME.IE;\n  }\n  getBrowserName.cachedResult = browserName;\n  return getBrowserName.cachedResult;\n}\n\n/**\n * approximateBelowCanvasMaximumSizeOfBrowser\n *\n * it uses binary search to converge below the browser's maximum Canvas size.\n *\n * @param {number} initWidth\n * @param {number} initHeight\n * @returns {object}\n */\nexport function approximateBelowMaximumCanvasSizeOfBrowser(initWidth, initHeight) {\n  const browserName = getBrowserName();\n  const maximumCanvasSize = MAX_CANVAS_SIZE[browserName];\n\n  let width = initWidth;\n  let height = initHeight;\n  let size = width * height;\n  const ratio = width > height ? height / width : width / height;\n\n  while (size > maximumCanvasSize * maximumCanvasSize) {\n    const halfSizeWidth = (maximumCanvasSize + width) / 2;\n    const halfSizeHeight = (maximumCanvasSize + height) / 2;\n    if (halfSizeWidth < halfSizeHeight) {\n      height = halfSizeHeight;\n      width = halfSizeHeight * ratio;\n    } else {\n      height = halfSizeWidth * ratio;\n      width = halfSizeWidth;\n    }\n\n    size = width * height;\n  }\n\n  return {\n    width, height,\n  };\n}\n\n/**\n * get new Canvas and it's context\n * @param width\n * @param height\n * @returns {[HTMLCanvasElement | OffscreenCanvas, CanvasRenderingContext2D]}\n */\nexport function getNewCanvasAndCtx(width, height) {\n  let canvas;\n  let ctx;\n  try {\n    canvas = new OffscreenCanvas(width, height);\n    ctx = canvas.getContext('2d');\n    if (ctx === null) {\n      throw new Error('getContext of OffscreenCanvas returns null');\n    }\n  } catch (e) {\n    canvas = document.createElement('canvas');\n    ctx = canvas.getContext('2d');\n  }\n  canvas.width = width;\n  canvas.height = height;\n  // ctx.fillStyle = '#fff'\n  // ctx.fillRect(0, 0, width, height)\n  return [canvas, ctx];\n}\n\n/**\n * drawImageInCanvas\n *\n * @param {HTMLImageElement} img\n * @param {string} [fileType=undefined]\n * @returns {HTMLCanvasElement | OffscreenCanvas}\n */\nexport function drawImageInCanvas(img, fileType = undefined) {\n  const { width, height } = approximateBelowMaximumCanvasSizeOfBrowser(img.width, img.height);\n  const [canvas, ctx] = getNewCanvasAndCtx(width, height);\n  if (fileType && /jpe?g/.test(fileType)) {\n    ctx.fillStyle = 'white'; // to fill the transparent background with white color for png file in jpeg extension\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n  }\n  ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n  return canvas;\n}\n\n/**\n * Detect IOS device\n * see: https://stackoverflow.com/a/9039885\n * @returns {boolean} isIOS device\n */\nexport function isIOS() {\n  if (isIOS.cachedResult !== undefined) {\n    return isIOS.cachedResult;\n  }\n  isIOS.cachedResult = [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod',\n  ].includes(navigator.platform)\n  // iPad on iOS 13 detection\n  || (navigator.userAgent.includes('Mac') && typeof document !== 'undefined' && 'ontouchend' in document);\n  return isIOS.cachedResult;\n}\n\n/**\n * drawFileInCanvas\n *\n * @param {File | Blob} file\n * @returns {Promise<[ImageBitmap | HTMLImageElement, HTMLCanvasElement | OffscreenCanvas]>}\n */\nexport async function drawFileInCanvas(file, options = {}) {\n  let img;\n  try {\n    if (isIOS() || [BROWSER_NAME.DESKTOP_SAFARI, BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName())) {\n      throw new Error('Skip createImageBitmap on IOS and Safari'); // see https://github.com/Donaldcwl/browser-image-compression/issues/118\n    }\n    img = await createImageBitmap(file);\n  } catch (e) {\n    if (process.env.BUILD === 'development') {\n      console.error(e);\n    }\n    try {\n      const dataUrl = await getDataUrlFromFile(file);\n      img = await loadImage(dataUrl);\n    } catch (e2) {\n      if (process.env.BUILD === 'development') {\n        console.error(e2);\n      }\n      throw e2;\n    }\n  }\n  const canvas = drawImageInCanvas(img, options.fileType || file.type);\n  return [img, canvas];\n}\n\n/**\n * canvasToFile\n *\n * @param {HTMLCanvasElement | OffscreenCanvas} canvas\n * @param {string} fileType\n * @param {string} fileName\n * @param {number} fileLastModified\n * @param {number} [quality]\n * @returns {Promise<File | Blob>}\n */\nexport async function canvasToFile(canvas, fileType, fileName, fileLastModified, quality = 1) {\n  let file;\n  if (fileType === 'image/png') {\n    const ctx = canvas.getContext('2d');\n    const { data } = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    if (process.env.BUILD === 'development') {\n      console.log('png no. of colors', 4096 * quality);\n    }\n    const png = UPNG.encode([data.buffer], canvas.width, canvas.height, 4096 * quality);\n    file = new Blob([png], { type: fileType });\n    file.name = fileName;\n    file.lastModified = fileLastModified;\n  } else if (fileType === 'image/bmp') {\n    file = await new Promise((resolve) => CanvasToBMP.toBlob(canvas, resolve));\n    file.name = fileName;\n    file.lastModified = fileLastModified;\n  } else if (typeof OffscreenCanvas === 'function' && canvas instanceof OffscreenCanvas) { // checked on Win Chrome 83, MacOS Chrome 83\n    file = await canvas.convertToBlob({ type: fileType, quality });\n    file.name = fileName;\n    file.lastModified = fileLastModified;\n  // some browser do not support quality parameter, see: https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob\n  // } else if (typeof canvas.toBlob === 'function') {\n  //   file = await new Promise(resolve => canvas.toBlob(resolve, fileType, quality))\n  } else { // checked on Win Edge 44, Win IE 11, Win Firefox 76, MacOS Firefox 77, MacOS Safari 13.1\n    const dataUrl = canvas.toDataURL(fileType, quality);\n    file = await getFilefromDataUrl(dataUrl, fileName, fileLastModified);\n  }\n  return file;\n}\n\n/**\n * clear Canvas memory\n * @param canvas\n * @returns null\n */\nexport function cleanupCanvasMemory(canvas) {\n  // garbage clean canvas for safari\n  // ref: https://bugs.webkit.org/show_bug.cgi?id=195325\n  // eslint-disable-next-line no-param-reassign\n  canvas.width = 0;\n  // eslint-disable-next-line no-param-reassign\n  canvas.height = 0;\n}\n\n// Check if browser supports automatic image orientation\n// see https://github.com/blueimp/JavaScript-Load-Image/blob/1e4df707821a0afcc11ea0720ee403b8759f3881/js/load-image-orientation.js#L37-L53\nexport async function isAutoOrientationInBrowser() {\n  if (isAutoOrientationInBrowser.cachedResult !== undefined) return isAutoOrientationInBrowser.cachedResult;\n\n  // black 2x1 JPEG, with the following meta information set:\n  // EXIF Orientation: 6 (Rotated 90 CCW)\n  const testImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA'\n    + 'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA'\n    + 'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE'\n    + 'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x'\n    + 'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA'\n    + 'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\n  const testImageFile = await getFilefromDataUrl(testImageURL, 'test.jpg', Date.now());\n\n  const testImageCanvas = (await drawFileInCanvas(testImageFile))[1];\n  const testImageFile2 = await canvasToFile(testImageCanvas, testImageFile.type, testImageFile.name, testImageFile.lastModified);\n  cleanupCanvasMemory(testImageCanvas);\n  const img = (await drawFileInCanvas(testImageFile2))[0];\n  // console.log('img', img.width, img.height)\n\n  isAutoOrientationInBrowser.cachedResult = img.width === 1 && img.height === 2;\n  return isAutoOrientationInBrowser.cachedResult;\n}\n\n/**\n * getExifOrientation\n * get image exif orientation info\n * source: https://stackoverflow.com/a/32490603/10395024\n *\n * @param {File | Blob} file\n * @returns {Promise<number>} - orientation id, see https://i.stack.imgur.com/VGsAj.gif\n */\nexport function getExifOrientation(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new CustomFileReader();\n    reader.onload = (e) => {\n      const view = new DataView(e.target.result);\n      if (view.getUint16(0, false) != 0xFFD8) {\n        return resolve(-2); // not jpeg\n      }\n      const length = view.byteLength;\n      let offset = 2;\n      while (offset < length) {\n        if (view.getUint16(offset + 2, false) <= 8) return resolve(-1);\n        const marker = view.getUint16(offset, false);\n        offset += 2;\n        if (marker == 0xFFE1) {\n          if (view.getUint32(offset += 2, false) != 0x45786966) {\n            return resolve(-1);\n          }\n\n          const little = view.getUint16(offset += 6, false) == 0x4949;\n          offset += view.getUint32(offset + 4, little);\n          const tags = view.getUint16(offset, little);\n          offset += 2;\n          for (let i = 0; i < tags; i++) {\n            if (view.getUint16(offset + (i * 12), little) == 0x0112) {\n              return resolve(view.getUint16(offset + (i * 12) + 8, little));\n            }\n          }\n        } else if ((marker & 0xFF00) != 0xFF00) {\n          break;\n        } else {\n          offset += view.getUint16(offset, false);\n        }\n      }\n      return resolve(-1); // not defined\n    };\n    reader.onerror = (e) => reject(e);\n    reader.readAsArrayBuffer(file);\n  });\n}\n\n/**\n *\n * @param {HTMLCanvasElement | OffscreenCanvas} canvas\n * @param options\n * @returns {HTMLCanvasElement | OffscreenCanvas}\n */\nexport function handleMaxWidthOrHeight(canvas, options) {\n  const { width } = canvas;\n  const { height } = canvas;\n  const { maxWidthOrHeight } = options;\n\n  const needToHandle = isFinite(maxWidthOrHeight) && (width > maxWidthOrHeight || height > maxWidthOrHeight);\n\n  let newCanvas = canvas;\n  let ctx;\n\n  if (needToHandle) {\n    [newCanvas, ctx] = getNewCanvasAndCtx(width, height);\n    if (width > height) {\n      newCanvas.width = maxWidthOrHeight;\n      newCanvas.height = (height / width) * maxWidthOrHeight;\n    } else {\n      newCanvas.width = (width / height) * maxWidthOrHeight;\n      newCanvas.height = maxWidthOrHeight;\n    }\n    ctx.drawImage(canvas, 0, 0, newCanvas.width, newCanvas.height);\n\n    cleanupCanvasMemory(canvas);\n  }\n\n  return newCanvas;\n}\n\n/**\n * followExifOrientation\n * source: https://stackoverflow.com/a/40867559/10395024\n *\n * @param {HTMLCanvasElement | OffscreenCanvas} canvas\n * @param {number} exifOrientation\n * @returns {HTMLCanvasElement | OffscreenCanvas} canvas\n */\nexport function followExifOrientation(canvas, exifOrientation) {\n  const { width } = canvas;\n  const { height } = canvas;\n\n  const [newCanvas, ctx] = getNewCanvasAndCtx(width, height);\n\n  // set proper canvas dimensions before transform & export\n  if (exifOrientation > 4 && exifOrientation < 9) {\n    newCanvas.width = height;\n    newCanvas.height = width;\n  } else {\n    newCanvas.width = width;\n    newCanvas.height = height;\n  }\n\n  // transform context before drawing image\n  switch (exifOrientation) {\n    case 2:\n      ctx.transform(-1, 0, 0, 1, width, 0);\n      break;\n    case 3:\n      ctx.transform(-1, 0, 0, -1, width, height);\n      break;\n    case 4:\n      ctx.transform(1, 0, 0, -1, 0, height);\n      break;\n    case 5:\n      ctx.transform(0, 1, 1, 0, 0, 0);\n      break;\n    case 6:\n      ctx.transform(0, 1, -1, 0, height, 0);\n      break;\n    case 7:\n      ctx.transform(0, -1, -1, 0, height, width);\n      break;\n    case 8:\n      ctx.transform(0, -1, 1, 0, 0, width);\n      break;\n    default:\n      break;\n  }\n\n  ctx.drawImage(canvas, 0, 0, width, height);\n\n  cleanupCanvasMemory(canvas);\n\n  return newCanvas;\n}\n","import {\n  canvasToFile,\n  cleanupCanvasMemory,\n  drawFileInCanvas,\n  followExifOrientation,\n  getExifOrientation,\n  getNewCanvasAndCtx,\n  handleMaxWidthOrHeight,\n  isAutoOrientationInBrowser,\n} from './utils';\n\n/**\n * Compress an image file.\n *\n * @param {File} file\n * @param {Object} options\n * @param {number} [options.maxSizeMB=Number.POSITIVE_INFINITY]\n * @param {number} [options.maxWidthOrHeight=undefined]\n * @param {boolean} [options.useWebWorker=true]\n * @param {number} [options.maxIteration=10]\n * @param {number} [options.exifOrientation] - default to be the exif orientation from the image file\n * @param {Function} [options.onProgress] - a function takes one progress argument (progress from 0 to 100)\n * @param {string} [options.fileType] - default to be the original mime type from the image file\n * @param {number} [options.initialQuality=1.0]\n * @param {boolean} [options.alwaysKeepResolution=false]\n * @param {AbortSignal} [options.signal]\n * @param {number} previousProgress - for internal try catch rerunning start from previous progress\n * @returns {Promise<File | Blob>}\n */\nexport default async function compress(file, options, previousProgress = 0) {\n  let progress = previousProgress;\n\n  function incProgress(inc = 5) {\n    if (options.signal && options.signal.aborted) {\n      throw options.signal.reason;\n    }\n    progress += inc;\n    options.onProgress(Math.min(progress, 100));\n  }\n\n  function setProgress(p) {\n    if (options.signal && options.signal.aborted) {\n      throw options.signal.reason;\n    }\n    progress = Math.min(Math.max(p, progress), 100);\n    options.onProgress(progress);\n  }\n\n  let remainingTrials = options.maxIteration || 10;\n\n  const maxSizeByte = options.maxSizeMB * 1024 * 1024;\n\n  incProgress();\n\n  // drawFileInCanvas\n  const [, origCanvas] = await drawFileInCanvas(file, options);\n\n  incProgress();\n\n  // handleMaxWidthOrHeight\n  const maxWidthOrHeightFixedCanvas = handleMaxWidthOrHeight(origCanvas, options);\n\n  incProgress();\n\n  // exifOrientation\n  const exifOrientation = options.exifOrientation || await getExifOrientation(file);\n  incProgress();\n  const orientationFixedCanvas = (await isAutoOrientationInBrowser()) ? maxWidthOrHeightFixedCanvas : followExifOrientation(maxWidthOrHeightFixedCanvas, exifOrientation);\n  incProgress();\n\n  let quality = options.initialQuality || 1.0;\n\n  const outputFileType = options.fileType || file.type;\n\n  const tempFile = await canvasToFile(orientationFixedCanvas, outputFileType, file.name, file.lastModified, quality);\n  incProgress();\n\n  const origExceedMaxSize = tempFile.size > maxSizeByte;\n  const sizeBecomeLarger = tempFile.size > file.size;\n  if (process.env.BUILD === 'development') {\n    console.log('outputFileType', outputFileType);\n    console.log('original file size', file.size);\n    console.log('current file size', tempFile.size);\n  }\n\n  // check if we need to compress or resize\n  if (!origExceedMaxSize && !sizeBecomeLarger) {\n    // no need to compress\n    if (process.env.BUILD === 'development') {\n      console.log('no need to compress');\n    }\n    setProgress(100);\n    return tempFile;\n  }\n\n  const sourceSize = file.size;\n  const renderedSize = tempFile.size;\n  let currentSize = renderedSize;\n  let compressedFile;\n  let newCanvas;\n  let ctx;\n  let canvas = orientationFixedCanvas;\n  const shouldReduceResolution = !options.alwaysKeepResolution && origExceedMaxSize;\n  while (remainingTrials-- && (currentSize > maxSizeByte || currentSize > sourceSize)) {\n    const newWidth = shouldReduceResolution ? canvas.width * 0.95 : canvas.width;\n    const newHeight = shouldReduceResolution ? canvas.height * 0.95 : canvas.height;\n    if (process.env.BUILD === 'development') {\n      console.log('current width', newWidth);\n      console.log('current height', newHeight);\n      console.log('current quality', quality);\n    }\n    [newCanvas, ctx] = getNewCanvasAndCtx(newWidth, newHeight);\n\n    ctx.drawImage(canvas, 0, 0, newWidth, newHeight);\n\n    if (outputFileType === 'image/png') {\n      quality *= 0.85;\n    } else {\n      quality *= 0.95;\n    }\n    // eslint-disable-next-line no-await-in-loop\n    compressedFile = await canvasToFile(newCanvas, outputFileType, file.name, file.lastModified, quality);\n\n    cleanupCanvasMemory(canvas);\n\n    canvas = newCanvas;\n\n    currentSize = compressedFile.size;\n    // console.log('currentSize', currentSize)\n    setProgress(Math.min(99, Math.floor(((renderedSize - currentSize) / (renderedSize - maxSizeByte)) * 100)));\n  }\n\n  cleanupCanvasMemory(canvas);\n  cleanupCanvasMemory(newCanvas);\n  cleanupCanvasMemory(maxWidthOrHeightFixedCanvas);\n  cleanupCanvasMemory(orientationFixedCanvas);\n  cleanupCanvasMemory(origCanvas);\n\n  setProgress(100);\n  return compressedFile;\n}\n","function createWorkerScriptURL(script) {\n  const blobArgs = [];\n  if (typeof script === 'function') {\n    blobArgs.push(`(${script})()`);\n  } else {\n    blobArgs.push(script);\n  }\n  return URL.createObjectURL(new Blob(blobArgs));\n}\n\nconst workerScript = `\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\\\n' + e.stack, id })\n  }\n})\n`;\nlet workerScriptURL;\n\nexport default function compressOnWebWorker(file, options) {\n  return new Promise((resolve, reject) => {\n    if (!workerScriptURL) {\n      workerScriptURL = createWorkerScriptURL(workerScript);\n    }\n    const worker = new Worker(workerScriptURL);\n\n    function handler(e) {\n      if (options.signal && options.signal.aborted) {\n        worker.terminate();\n        return;\n      }\n      if (e.data.progress !== undefined) {\n        options.onProgress(e.data.progress);\n        return;\n      }\n      if (e.data.error) {\n        reject(new Error(e.data.error));\n        worker.terminate();\n        return;\n      }\n      resolve(e.data.file);\n      worker.terminate();\n    }\n\n    worker.addEventListener('message', handler);\n    worker.addEventListener('error', reject);\n    if (options.signal) {\n      options.signal.addEventListener('abort', () => {\n        reject(options.signal.reason);\n        worker.terminate();\n      });\n    }\n\n    worker.postMessage({\n      file,\n      imageCompressionLibUrl: options.libURL,\n      options: { ...options, onProgress: undefined, signal: undefined },\n    });\n  });\n}\n","import copyExifWithoutOrientation from './copyExifWithoutOrientation';\nimport compress from './image-compression';\nimport {\n  canvasToFile,\n  drawFileInCanvas,\n  drawImageInCanvas,\n  getDataUrlFromFile,\n  getFilefromDataUrl,\n  loadImage,\n  getExifOrientation,\n  handleMaxWidthOrHeight,\n  followExifOrientation,\n  CustomFile,\n  cleanupCanvasMemory,\n  isAutoOrientationInBrowser,\n  approximateBelowMaximumCanvasSizeOfBrowser,\n  getBrowserName,\n} from './utils';\nimport compressOnWebWorker from './web-worker';\n\n/**\n * Compress an image file.\n *\n * @param {File} file\n * @param {Object} options\n * @param {number} [options.maxSizeMB=Number.POSITIVE_INFINITY]\n * @param {number} [options.maxWidthOrHeight=undefined]\n * @param {boolean} [options.useWebWorker=true]\n * @param {number} [options.maxIteration=10]\n * @param {number} [options.exifOrientation] - default to be the exif orientation from the image file\n * @param {Function} [options.onProgress] - a function takes one progress argument (progress from 0 to 100)\n * @param {string} [options.fileType] - default to be the original mime type from the image file\n * @param {number} [options.initialQuality=1.0]\n * @param {boolean} [options.alwaysKeepResolution=false]\n * @param {AbortSignal} [options.signal]\n * @param {boolean} [options.preserveExif] - preserve Exif metadata\n * @param {string} [options.libURL] - URL to this library\n * @returns {Promise<File | Blob>}\n */\nasync function imageCompression(file, options) {\n  const opts = { ...options };\n\n  let compressedFile;\n  let progress = 0;\n  const { onProgress } = opts;\n\n  opts.maxSizeMB = opts.maxSizeMB || Number.POSITIVE_INFINITY;\n  const useWebWorker = typeof opts.useWebWorker === 'boolean' ? opts.useWebWorker : true;\n  delete opts.useWebWorker;\n  opts.onProgress = (aProgress) => {\n    progress = aProgress;\n    if (typeof onProgress === 'function') {\n      onProgress(progress);\n    }\n  };\n\n  if (!(file instanceof Blob || file instanceof CustomFile)) {\n    throw new Error('The file given is not an instance of Blob or File');\n  } else if (!/^image/.test(file.type)) {\n    throw new Error('The file given is not an image');\n  }\n\n  // try run in web worker, fall back to run in main thread\n  // eslint-disable-next-line no-undef, no-restricted-globals\n  const inWebWorker = typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope;\n\n  if (process.env.BUILD === 'development') {\n    if ((useWebWorker && typeof Worker === 'function') || inWebWorker) {\n      console.log('run compression in web worker');\n    } else {\n      console.log('run compression in main thread');\n    }\n  }\n\n  if (useWebWorker && typeof Worker === 'function' && !inWebWorker) {\n    try {\n      // \"compressOnWebWorker\" is kind of like a recursion to call \"imageCompression\" again inside web worker\n      opts.libURL = opts.libURL || `https://cdn.jsdelivr.net/npm/browser-image-compression@${__buildVersion__}/dist/browser-image-compression.js`;\n      compressedFile = await compressOnWebWorker(file, opts);\n    } catch (e) {\n      if (process.env.BUILD === 'development') {\n        console.warn('Run compression in web worker failed:', e, ', fall back to main thread');\n      }\n      compressedFile = await compress(file, opts);\n    }\n  } else {\n    compressedFile = await compress(file, opts);\n  }\n\n  try {\n    compressedFile.name = file.name;\n    compressedFile.lastModified = file.lastModified;\n  } catch (e) {\n    if (process.env.BUILD === 'development') {\n      console.error(e);\n    }\n  }\n\n  try {\n    if (opts.preserveExif && file.type === 'image/jpeg' && (!opts.fileType || (opts.fileType && opts.fileType === file.type))) {\n      if (process.env.BUILD === 'development') {\n        console.log('copyExifWithoutOrientation');\n      }\n      compressedFile = copyExifWithoutOrientation(file, compressedFile);\n    }\n  } catch (e) {\n    if (process.env.BUILD === 'development') {\n      console.error(e);\n    }\n  }\n\n  return compressedFile;\n}\n\nimageCompression.getDataUrlFromFile = getDataUrlFromFile;\nimageCompression.getFilefromDataUrl = getFilefromDataUrl;\nimageCompression.loadImage = loadImage;\nimageCompression.drawImageInCanvas = drawImageInCanvas;\nimageCompression.drawFileInCanvas = drawFileInCanvas;\nimageCompression.canvasToFile = canvasToFile;\nimageCompression.getExifOrientation = getExifOrientation;\n\nimageCompression.handleMaxWidthOrHeight = handleMaxWidthOrHeight;\nimageCompression.followExifOrientation = followExifOrientation;\nimageCompression.cleanupCanvasMemory = cleanupCanvasMemory;\nimageCompression.isAutoOrientationInBrowser = isAutoOrientationInBrowser;\nimageCompression.approximateBelowMaximumCanvasSizeOfBrowser = approximateBelowMaximumCanvasSizeOfBrowser;\nimageCompression.copyExifWithoutOrientation = copyExifWithoutOrientation;\nimageCompression.getBrowserName = getBrowserName;\nimageCompression.version = __buildVersion__;\n\nexport default imageCompression;\n"],"names":["module","exports","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","descriptor","configurable","writable","_toPropertyKey","key","_createClass","protoProps","staticProps","obj","value","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","from","minLen","n","toString","call","slice","name","test","len","arr2","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","String","Number","arg","IS_BROWSER","window","document","WINDOW","IS_TOUCH_DEVICE","documentElement","HAS_POINTER_EVENT","NAMESPACE","ACTION_ALL","ACTION_CROP","ACTION_MOVE","ACTION_ZOOM","ACTION_EAST","ACTION_WEST","ACTION_SOUTH","ACTION_NORTH","ACTION_NORTH_EAST","ACTION_NORTH_WEST","ACTION_SOUTH_EAST","ACTION_SOUTH_WEST","CLASS_CROP","concat","CLASS_DISABLED","CLASS_HIDDEN","CLASS_HIDE","CLASS_INVISIBLE","CLASS_MODAL","CLASS_MOVE","DATA_ACTION","DATA_PREVIEW","DRAG_MODE_CROP","DRAG_MODE_MOVE","DRAG_MODE_NONE","EVENT_CROP","EVENT_CROP_END","EVENT_CROP_MOVE","EVENT_CROP_START","EVENT_DBLCLICK","EVENT_TOUCH_START","EVENT_TOUCH_MOVE","EVENT_TOUCH_END","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_READY","EVENT_RESIZE","EVENT_WHEEL","EVENT_ZOOM","MIME_TYPE_JPEG","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","REGEXP_TAG_NAME","MIN_CONTAINER_WIDTH","MIN_CONTAINER_HEIGHT","DEFAULTS","viewMode","dragMode","initialAspectRatio","NaN","aspectRatio","data","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","minContainerWidth","minContainerHeight","ready","cropstart","cropmove","cropend","crop","zoom","TEMPLATE","isNaN","isNumber","isPositiveNumber","Infinity","isUndefined","isObject","hasOwnProperty","isPlainObject","_constructor","error","isFunction","toArray","callback","assign","_len","args","_key","REGEXP_DECIMALS","normalizeDecimalNumber","times","Math","round","REGEXP_SUFFIX","setStyle","element","styles","style","property","hasClass","classList","contains","className","indexOf","addClass","elem","add","trim","removeClass","remove","replace","toggleClass","added","REGEXP_CAMEL_CASE","toParamCase","toLowerCase","getData","dataset","getAttribute","setData","setAttribute","removeData","removeAttribute","REGEXP_SPACES","onceSupported","supported","once","listener","options","get","set","addEventListener","removeEventListener","removeListener","type","handler","split","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","detail","bubbles","cancelable","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","location","REGEXP_ORIGINS","isCrossOriginURL","url","parts","match","protocol","hostname","port","addTimestamp","timestamp","Date","getTime","getTransforms","_ref","rotate","scaleX","scaleY","translateX","translateY","values","transform","join","WebkitTransform","msTransform","getMaxZoomRatio","pointers","pointers2","maxRatio","pointer","pointerId","pointer2","x1","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","ratio","getPointer","_ref2","endOnly","pageX","pageY","end","getPointersCenter","count","_ref3","getAdjustedSizes","_ref4","height","width","isValidWidth","isValidHeight","adjustedWidth","getRotatedSizes","_ref5","degree","arc","PI","sinArc","sin","cosArc","cos","newWidth","newHeight","getSourceCanvas","image","_ref6","_ref7","_ref8","imageAspectRatio","imageNaturalWidth","naturalWidth","imageNaturalHeight","naturalHeight","_ref6$rotate","_ref6$scaleX","_ref6$scaleY","_ref8$fillColor","fillColor","_ref8$imageSmoothingE","imageSmoothingEnabled","_ref8$imageSmoothingQ","imageSmoothingQuality","_ref8$maxWidth","maxWidth","_ref8$maxHeight","maxHeight","_ref8$minWidth","minWidth","_ref8$minHeight","minHeight","canvas","createElement","context","getContext","maxSizes","minSizes","min","max","destMaxSizes","destMinSizes","destWidth","destHeight","params","fillStyle","fillRect","save","translate","scale","drawImage","map","param","floor","fromCharCode","getStringFromCharCode","dataView","start","str","getUint8","REGEXP_DATA_URL_HEAD","dataURLToArrayBuffer","dataURL","base64","binary","atob","arrayBuffer","ArrayBuffer","uint8","Uint8Array","charCodeAt","arrayBufferToDataURL","mimeType","chunks","chunkSize","subarray","btoa","resetAndGetOrientation","orientation","DataView","littleEndian","app1Start","ifdStart","byteLength","offset","tiffOffset","endianness","getUint16","firstIFDOffset","getUint32","_offset","_length","setUint16","parseOrientation","render","this","initContainer","initCanvas","initCropBox","renderCanvas","cropped","renderCropBox","container","cropper","containerData","offsetWidth","offsetHeight","imageData","rotated","canvasWidth","canvasHeight","canvasData","limited","limitCanvas","oldLeft","oldTop","initialCanvasData","sizeLimited","positionLimited","cropBoxData","_getAdjustedSizes","newCanvasLeft","newCanvasTop","minLeft","minTop","maxLeft","maxTop","changed","transformed","_getRotatedSizes","renderImage","limitCropBox","output","initialCropBoxData","maxCropBoxWidth","maxCropBoxHeight","face","cropBox","disabled","initPreview","crossOrigin","crossOriginUrl","alt","src","viewBox","appendChild","viewBoxImage","previews","ownerDocument","querySelectorAll","querySelector","el","img","html","innerHTML","cssText","resetPreview","cropBoxWidth","cropBoxHeight","originalWidth","originalHeight","getElementsByTagName","events","bind","onCropStart","cropStart","onWheel","wheel","passive","capture","onDblclick","dblclick","onCropMove","cropMove","onCropEnd","cropEnd","onResize","resize","unbind","handlers","ratioX","ratioY","getCanvasData","getCropBoxData","setCanvasData","setCropBoxData","setDragMode","dragBox","_this","delta","preventDefault","wheeling","setTimeout","deltaY","wheelDelta","buttons","button","pointerType","ctrlKey","action","changedTouches","touch","identifier","originalEvent","cropping","change","right","bottom","renderable","shiftKey","range","x","y","check","side","move","p","methods","reset","initialImageData","clear","hasSameSize","isImg","replaced","uncreate","load","enable","disable","destroy","originalUrl","offsetX","offsetY","_this$canvasData","moveTo","_originalEvent","zoomTo","pivot","oldRatio","rotateTo","_scaleX","_scaleY","rounded","getContainerData","getImageData","sized","widthChanged","heightChanged","getCroppedCanvas","HTMLCanvasElement","source","_this$getData","initialX","initialY","initialWidth","initialHeight","_options$imageSmoothi","srcWidth","srcHeight","dstX","dstY","dstWidth","dstHeight","sourceWidth","sourceHeight","srcX","srcY","setAspectRatio","mode","croppable","AnotherCropper","Cropper","tagName","Error","reloading","sizing","init","toDataURL","read","clone","xhr","XMLHttpRequest","onabort","onerror","ontimeout","onprogress","getResponseHeader","abort","onload","response","onloadend","open","responseType","withCredentials","send","_parseOrientation","stop","parentNode","insertBefore","nextSibling","_this2","isIOSWebKit","navigator","userAgent","done","build","sizingImage","body","removeChild","template","getElementsByClassName","unbuild","factory","a","propertyIsEnumerable","c","opacity","l","s","u","d","v","f","m","g","b","h","O","T","z","C","w","onInitialized","j","M","E","current","currentTarget","R","reduce","ref","hashTable","uuid","ceil","random","copyExifWithoutOrientation","Promise","getApp1Segment","then","Blob","FileReader","result","readAsArrayBuffer","UZIP","parse","bin","readUshort","readUint","A","_readLocal","readUTF8","size","csize","buffer","inflateRaw","F","inflate","byteOffset","deflate","level","deflateRaw","adler","encode","writeUint","writeUshort","_noNeed","crc","cpr","usize","file","sizeUTF8","_writeHeader","pop","writeUTF8","table","Uint32Array","update","readASCII","writeASCII","pad","decodeURIComponent","U","_goodIndex","_hash","_putsE","_","_copyExact","lits","strt","prev","_writeBlock","_bestMatch","B","of0","lhst","df0","dhst","exb","dxb","_howLong","saved","_putsF","getTrees","contSize","fltree","fdtree","ltree","dtree","itree","ihst","I","makeCodes","revCodes","Q","ordr","_codeTiny","S","_writeLit","P","H","L","_hufTree","_lenCodes","getSecond","nonZero","lit","sort","setDepth","restrictDepth","console","log","_bitsF","_bitsE","_decodeTiny","codes2map","_get17","_check","flmap","fdmap","imap","lmap","dmap","ttree","_copyOut","ldef","ddef","bl_count","next_code","rev15","_get25","Uint16Array","pushV","_mergeNamespaces","__proto__","default","UPNG","nextZero","readBytes","decodeImage","_getBPP","ctype","depth","tabs","tRNS","PLTE","_decompress","interlace","CgBI","_inflate","_filterZero","N","Z","W","J","X","V","D","q","K","$","Y","k","_paeth","_IHDR","compress","_copyTile","decode","frames","num_frames","num_plays","rect","delay","dispose","blend","toRGBA8","acTL","_bin","addErr","dither","Int16Array","_main","sRGB","pHYs","iCCP","pako","plte","cimg","loop","compressPNG","bpl","bpp","_prepareDiff","_updateFrame","quantize","est","rgba","inds","abuf","_filterLine","getKDtree","getNearest","ind","planeDst","i0","i1","bst","tdst","stats","estats","splitPixels","eMq255","eMq","vecDot","multVec","dot","sml","Cov","encodeLL","toArrayBuffer","set16","set32","setUint32","seek","convert","_dly","toBlob","CHROME","FIREFOX","DESKTOP_SAFARI","IE","IOS","ETC","WorkerGlobalScope","self","cordova","require","CustomFile","getOriginalSymbol","File","CustomFileReader","getFilefromDataUrl","now","globalThis","lastModified","getDataUrlFromFile","readAsDataURL","loadImage","Image","getBrowserName","cachedResult","documentMode","approximateBelowMaximumCanvasSizeOfBrowser","getNewCanvasAndCtx","OffscreenCanvas","drawImageInCanvas","isIOS","includes","platform","drawFileInCanvas","$Try_2_Post","fileType","$Try_2_Catch","$Try_3_Catch","MOBILE_SAFARI","createImageBitmap","canvasToFile","$If_4","$If_5","convertToBlob","quality","$If_6","cleanupCanvasMemory","isAutoOrientationInBrowser","getExifOrientation","handleMaxWidthOrHeight","maxWidthOrHeight","isFinite","followExifOrientation","incProgress","signal","aborted","reason","onProgress","setProgress","maxIteration","maxSizeMB","exifOrientation","$If_2","initialQuality","$Loop_3","alwaysKeepResolution","$Loop_3_exit","compressOnWebWorker","URL","createObjectURL","Worker","terminate","progress","postMessage","imageCompressionLibUrl","libURL","imageCompression","POSITIVE_INFINITY","useWebWorker","$Try_1_Catch","preserveExif","version"],"sourceRoot":""}
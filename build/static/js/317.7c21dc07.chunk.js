/*! For license information please see 317.7c21dc07.chunk.js.LICENSE.txt */
(self.webpackChunkclient=self.webpackChunkclient||[]).push([[317],{5406:function(t){t.exports=function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function e(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,p(i.key),i)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e,n){return(e=p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return h(t)||c(t)||l(t)||d()}function h(t){if(Array.isArray(t))return f(t)}function c(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function l(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function p(t){var e=u(t,"string");return"symbol"===typeof e?e:String(e)}var g="undefined"!==typeof window&&"undefined"!==typeof window.document,m=g?window:{},v=!(!g||!m.document.documentElement)&&"ontouchstart"in m.document.documentElement,w=!!g&&"PointerEvent"in m,b="cropper",A="all",y="crop",x="move",E="zoom",M="e",C="w",B="s",U="n",D="ne",F="nw",T="se",O="sw",k="".concat(b,"-crop"),R="".concat(b,"-disabled"),I="".concat(b,"-hidden"),S="".concat(b,"-hide"),Q="".concat(b,"-invisible"),H="".concat(b,"-modal"),_="".concat(b,"-move"),L="".concat(b,"Action"),z="".concat(b,"Preview"),N="crop",W="move",P="none",j="crop",X="cropend",Y="cropmove",q="cropstart",K="dblclick",Z=v?"touchstart":"mousedown",G=v?"touchmove":"mousemove",$=v?"touchend touchcancel":"mouseup",V=w?"pointerdown":Z,J=w?"pointermove":G,tt=w?"pointerup pointercancel":$,et="ready",nt="resize",it="wheel",rt="zoom",at="image/jpeg",ot=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,st=/^data:/,ht=/^data:image\/jpeg;base64,/,ct=/^img|canvas$/i,lt=200,ft=100,dt={viewMode:0,dragMode:N,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:lt,minContainerHeight:ft,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ut='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',pt=Number.isNaN||m.isNaN;function gt(t){return"number"===typeof t&&!pt(t)}var mt=function(t){return t>0&&t<1/0};function vt(t){return"undefined"===typeof t}function wt(t){return"object"===n(t)&&null!==t}var bt=Object.prototype.hasOwnProperty;function At(t){if(!wt(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&bt.call(n,"isPrototypeOf")}catch(i){return!1}}function yt(t){return"function"===typeof t}var xt=Array.prototype.slice;function Et(t){return Array.from?Array.from(t):xt.call(t)}function Mt(t,e){return t&&yt(e)&&(Array.isArray(t)||gt(t.length)?Et(t).forEach((function(n,i){e.call(t,n,i,t)})):wt(t)&&Object.keys(t).forEach((function(n){e.call(t,t[n],n,t)}))),t}var Ct=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return wt(t)&&n.length>0&&n.forEach((function(e){wt(e)&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t},Bt=/\.\d*(?:0|9){12}\d*$/;function Ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Bt.test(t)?Math.round(t*e)/e:t}var Dt=/^width|height|left|top|marginLeft|marginTop$/;function Ft(t,e){var n=t.style;Mt(e,(function(t,e){Dt.test(e)&&gt(t)&&(t="".concat(t,"px")),n[e]=t}))}function Tt(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Ot(t,e){if(e)if(gt(t.length))Mt(t,(function(t){Ot(t,e)}));else if(t.classList)t.classList.add(e);else{var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function kt(t,e){e&&(gt(t.length)?Mt(t,(function(t){kt(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function Rt(t,e,n){e&&(gt(t.length)?Mt(t,(function(t){Rt(t,e,n)})):n?Ot(t,e):kt(t,e))}var It=/([a-z\d])([A-Z])/g;function St(t){return t.replace(It,"$1-$2").toLowerCase()}function Qt(t,e){return wt(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(St(e)))}function Ht(t,e,n){wt(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(St(e)),n)}function _t(t,e){if(wt(t[e]))try{delete t[e]}catch(n){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(n){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(St(e)))}var Lt=/\s\s*/,zt=function(){var t=!1;if(g){var e=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});m.addEventListener("test",n,i),m.removeEventListener("test",n,i)}return t}();function Nt(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;e.trim().split(Lt).forEach((function(e){if(!zt){var a=t.listeners;a&&a[e]&&a[e][n]&&(r=a[e][n],delete a[e][n],0===Object.keys(a[e]).length&&delete a[e],0===Object.keys(a).length&&delete t.listeners)}t.removeEventListener(e,r,i)}))}function Wt(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;e.trim().split(Lt).forEach((function(e){if(i.once&&!zt){var a=t.listeners,o=void 0===a?{}:a;r=function(){delete o[e][n],t.removeEventListener(e,r,i);for(var a=arguments.length,s=new Array(a),h=0;h<a;h++)s[h]=arguments[h];n.apply(t,s)},o[e]||(o[e]={}),o[e][n]&&t.removeEventListener(e,o[e][n],i),o[e][n]=r,t.listeners=o}t.addEventListener(e,r,i)}))}function Pt(t,e,n){var i;return yt(Event)&&yt(CustomEvent)?i=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(i)}function jt(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Xt=m.location,Yt=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function qt(t){var e=t.match(Yt);return null!==e&&(e[1]!==Xt.protocol||e[2]!==Xt.hostname||e[3]!==Xt.port)}function Kt(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function Zt(t){var e=t.rotate,n=t.scaleX,i=t.scaleY,r=t.translateX,a=t.translateY,o=[];gt(r)&&0!==r&&o.push("translateX(".concat(r,"px)")),gt(a)&&0!==a&&o.push("translateY(".concat(a,"px)")),gt(e)&&0!==e&&o.push("rotate(".concat(e,"deg)")),gt(n)&&1!==n&&o.push("scaleX(".concat(n,")")),gt(i)&&1!==i&&o.push("scaleY(".concat(i,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Gt(t){var n=e({},t),i=0;return Mt(t,(function(t,e){delete n[e],Mt(n,(function(e){var n=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),a=Math.abs(t.endX-e.endX),o=Math.abs(t.endY-e.endY),s=Math.sqrt(n*n+r*r),h=(Math.sqrt(a*a+o*o)-s)/s;Math.abs(h)>Math.abs(i)&&(i=h)}))})),i}function $t(t,n){var i=t.pageX,r=t.pageY,a={endX:i,endY:r};return n?a:e({startX:i,startY:r},a)}function Vt(t){var e=0,n=0,i=0;return Mt(t,(function(t){var r=t.startX,a=t.startY;e+=r,n+=a,i+=1})),{pageX:e/=i,pageY:n/=i}}function Jt(t){var e=t.aspectRatio,n=t.height,i=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=mt(i),o=mt(n);if(a&&o){var s=n*e;"contain"===r&&s>i||"cover"===r&&s<i?n=i/e:i=n*e}else a?n=i/e:o&&(i=n*e);return{width:i,height:n}}function te(t){var e=t.width,n=t.height,i=t.degree;if(90===(i=Math.abs(i)%180))return{width:n,height:e};var r=i%90*Math.PI/180,a=Math.sin(r),o=Math.cos(r),s=e*o+n*a,h=e*a+n*o;return i>90?{width:h,height:s}:{width:s,height:h}}function ee(t,e,n,i){var r=e.aspectRatio,a=e.naturalWidth,o=e.naturalHeight,h=e.rotate,c=void 0===h?0:h,l=e.scaleX,f=void 0===l?1:l,d=e.scaleY,u=void 0===d?1:d,p=n.aspectRatio,g=n.naturalWidth,m=n.naturalHeight,v=i.fillColor,w=void 0===v?"transparent":v,b=i.imageSmoothingEnabled,A=void 0===b||b,y=i.imageSmoothingQuality,x=void 0===y?"low":y,E=i.maxWidth,M=void 0===E?1/0:E,C=i.maxHeight,B=void 0===C?1/0:C,U=i.minWidth,D=void 0===U?0:U,F=i.minHeight,T=void 0===F?0:F,O=document.createElement("canvas"),k=O.getContext("2d"),R=Jt({aspectRatio:p,width:M,height:B}),I=Jt({aspectRatio:p,width:D,height:T},"cover"),S=Math.min(R.width,Math.max(I.width,g)),Q=Math.min(R.height,Math.max(I.height,m)),H=Jt({aspectRatio:r,width:M,height:B}),_=Jt({aspectRatio:r,width:D,height:T},"cover"),L=Math.min(H.width,Math.max(_.width,a)),z=Math.min(H.height,Math.max(_.height,o)),N=[-L/2,-z/2,L,z];return O.width=Ut(S),O.height=Ut(Q),k.fillStyle=w,k.fillRect(0,0,S,Q),k.save(),k.translate(S/2,Q/2),k.rotate(c*Math.PI/180),k.scale(f,u),k.imageSmoothingEnabled=A,k.imageSmoothingQuality=x,k.drawImage.apply(k,[t].concat(s(N.map((function(t){return Math.floor(Ut(t))}))))),k.restore(),O}var ne=String.fromCharCode;function ie(t,e,n){var i="";n+=e;for(var r=e;r<n;r+=1)i+=ne(t.getUint8(r));return i}var re=/^data:.*,/;function ae(t){var e=t.replace(re,""),n=atob(e),i=new ArrayBuffer(n.length),r=new Uint8Array(i);return Mt(r,(function(t,e){r[e]=n.charCodeAt(e)})),i}function oe(t,e){for(var n=[],i=8192,r=new Uint8Array(t);r.length>0;)n.push(ne.apply(null,Et(r.subarray(0,i)))),r=r.subarray(i);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function se(t){var e,n=new DataView(t);try{var i,r,a;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var o=n.byteLength,s=2;s+1<o;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){r=s;break}s+=1}if(r){var h=r+10;if("Exif"===ie(n,r+4,4)){var c=n.getUint16(h);if(((i=18761===c)||19789===c)&&42===n.getUint16(h+2,i)){var l=n.getUint32(h+4,i);l>=8&&(a=h+l)}}}if(a){var f,d,u=n.getUint16(a,i);for(d=0;d<u;d+=1)if(f=a+12*d+2,274===n.getUint16(f,i)){f+=8,e=n.getUint16(f,i),n.setUint16(f,1,i);break}}}catch(p){e=1}return e}function he(t){var e=0,n=1,i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:i}}var ce={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,n=this.container,i=this.cropper,r=Number(e.minContainerWidth),a=Number(e.minContainerHeight);Ot(i,I),kt(t,I);var o={width:Math.max(n.offsetWidth,r>=0?r:lt),height:Math.max(n.offsetHeight,a>=0?a:ft)};this.containerData=o,Ft(i,{width:o.width,height:o.height}),Ot(t,I),kt(i,I)},initCanvas:function(){var t=this.containerData,e=this.imageData,n=this.options.viewMode,i=Math.abs(e.rotate)%180===90,r=i?e.naturalHeight:e.naturalWidth,a=i?e.naturalWidth:e.naturalHeight,o=r/a,s=t.width,h=t.height;t.height*o>t.width?3===n?s=t.height*o:h=t.width/o:3===n?h=t.width/o:s=t.height*o;var c={aspectRatio:o,naturalWidth:r,naturalHeight:a,width:s,height:h};this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(t.width-c.width)/2,c.top=(t.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=Ct({},c)},limitCanvas:function(t,e){var n=this.options,i=this.containerData,r=this.canvasData,a=this.cropBoxData,o=n.viewMode,s=r.aspectRatio,h=this.cropped&&a;if(t){var c=Number(n.minCanvasWidth)||0,l=Number(n.minCanvasHeight)||0;o>1?(c=Math.max(c,i.width),l=Math.max(l,i.height),3===o&&(l*s>c?c=l*s:l=c/s)):o>0&&(c?c=Math.max(c,h?a.width:0):l?l=Math.max(l,h?a.height:0):h&&(c=a.width,(l=a.height)*s>c?c=l*s:l=c/s));var f=Jt({aspectRatio:s,width:c,height:l});c=f.width,l=f.height,r.minWidth=c,r.minHeight=l,r.maxWidth=1/0,r.maxHeight=1/0}if(e)if(o>(h?0:1)){var d=i.width-r.width,u=i.height-r.height;r.minLeft=Math.min(0,d),r.minTop=Math.min(0,u),r.maxLeft=Math.max(0,d),r.maxTop=Math.max(0,u),h&&this.limited&&(r.minLeft=Math.min(a.left,a.left+(a.width-r.width)),r.minTop=Math.min(a.top,a.top+(a.height-r.height)),r.maxLeft=a.left,r.maxTop=a.top,2===o&&(r.width>=i.width&&(r.minLeft=Math.min(0,d),r.maxLeft=Math.max(0,d)),r.height>=i.height&&(r.minTop=Math.min(0,u),r.maxTop=Math.max(0,u))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height},renderCanvas:function(t,e){var n=this.canvasData,i=this.imageData;if(e){var r=te({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),a=r.width,o=r.height,s=n.width*(a/n.naturalWidth),h=n.height*(o/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(h-n.height)/2,n.width=s,n.height=h,n.aspectRatio=a/o,n.naturalWidth=a,n.naturalHeight=o,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,Ft(this.canvas,Ct({width:n.width,height:n.height},Zt({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,n=this.imageData,i=n.naturalWidth*(e.width/e.naturalWidth),r=n.naturalHeight*(e.height/e.naturalHeight);Ct(n,{width:i,height:r,left:(e.width-i)/2,top:(e.height-r)/2}),Ft(this.image,Ct({width:n.width,height:n.height},Zt(Ct({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};n&&(e.height*n>e.width?r.height=r.width/n:r.width=r.height*n),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=Ct({},r)},limitCropBox:function(t,e){var n=this.options,i=this.containerData,r=this.canvasData,a=this.cropBoxData,o=this.limited,s=n.aspectRatio;if(t){var h=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,l=o?Math.min(i.width,r.width,r.width+r.left,i.width-r.left):i.width,f=o?Math.min(i.height,r.height,r.height+r.top,i.height-r.top):i.height;h=Math.min(h,i.width),c=Math.min(c,i.height),s&&(h&&c?c*s>h?c=h/s:h=c*s:h?c=h/s:c&&(h=c*s),f*s>l?f=l/s:l=f*s),a.minWidth=Math.min(h,l),a.minHeight=Math.min(c,f),a.maxWidth=l,a.maxHeight=f}e&&(o?(a.minLeft=Math.max(0,r.left),a.minTop=Math.max(0,r.top),a.maxLeft=Math.min(i.width,r.left+r.width)-a.width,a.maxTop=Math.min(i.height,r.top+r.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=i.width-a.width,a.maxTop=i.height-a.height))},renderCropBox:function(){var t=this.options,e=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&Ht(this.face,L,n.width>=e.width&&n.height>=e.height?x:A),Ft(this.cropBox,Ct({width:n.width,height:n.height},Zt({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Pt(this.element,j,this.getData())}},le={initPreview:function(){var t=this.element,e=this.crossOrigin,n=this.options.preview,i=e?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",a=document.createElement("img");if(e&&(a.crossOrigin=e),a.src=i,a.alt=r,this.viewBox.appendChild(a),this.viewBoxImage=a,n){var o=n;"string"===typeof n?o=t.ownerDocument.querySelectorAll(n):n.querySelector&&(o=[n]),this.previews=o,Mt(o,(function(t){var n=document.createElement("img");Ht(t,z,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(n.crossOrigin=e),n.src=i,n.alt=r,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(n)}))}},resetPreview:function(){Mt(this.previews,(function(t){var e=Qt(t,z);Ft(t,{width:e.width,height:e.height}),t.innerHTML=e.html,_t(t,z)}))},preview:function(){var t=this.imageData,e=this.canvasData,n=this.cropBoxData,i=n.width,r=n.height,a=t.width,o=t.height,s=n.left-e.left-t.left,h=n.top-e.top-t.top;this.cropped&&!this.disabled&&(Ft(this.viewBoxImage,Ct({width:a,height:o},Zt(Ct({translateX:-s,translateY:-h},t)))),Mt(this.previews,(function(e){var n=Qt(e,z),c=n.width,l=n.height,f=c,d=l,u=1;i&&(d=r*(u=c/i)),r&&d>l&&(f=i*(u=l/r),d=l),Ft(e,{width:f,height:d}),Ft(e.getElementsByTagName("img")[0],Ct({width:a*u,height:o*u},Zt(Ct({translateX:-s*u,translateY:-h*u},t))))})))}},fe={bind:function(){var t=this.element,e=this.options,n=this.cropper;yt(e.cropstart)&&Wt(t,q,e.cropstart),yt(e.cropmove)&&Wt(t,Y,e.cropmove),yt(e.cropend)&&Wt(t,X,e.cropend),yt(e.crop)&&Wt(t,j,e.crop),yt(e.zoom)&&Wt(t,rt,e.zoom),Wt(n,V,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&Wt(n,it,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&Wt(n,K,this.onDblclick=this.dblclick.bind(this)),Wt(t.ownerDocument,J,this.onCropMove=this.cropMove.bind(this)),Wt(t.ownerDocument,tt,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&Wt(window,nt,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,n=this.cropper;yt(e.cropstart)&&Nt(t,q,e.cropstart),yt(e.cropmove)&&Nt(t,Y,e.cropmove),yt(e.cropend)&&Nt(t,X,e.cropend),yt(e.crop)&&Nt(t,j,e.crop),yt(e.zoom)&&Nt(t,rt,e.zoom),Nt(n,V,this.onCropStart),e.zoomable&&e.zoomOnWheel&&Nt(n,it,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&Nt(n,K,this.onDblclick),Nt(t.ownerDocument,J,this.onCropMove),Nt(t.ownerDocument,tt,this.onCropEnd),e.responsive&&Nt(window,nt,this.onResize)}},de={resize:function(){if(!this.disabled){var t,e,n=this.options,i=this.container,r=this.containerData,a=i.offsetWidth/r.width,o=i.offsetHeight/r.height,s=Math.abs(a-1)>Math.abs(o-1)?a:o;1!==s&&(n.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(Mt(t,(function(e,n){t[n]=e*s}))),this.setCropBoxData(Mt(e,(function(t,n){e[n]=t*s})))))}},dblclick:function(){this.disabled||this.options.dragMode===P||this.setDragMode(Tt(this.dragBox,k)?W:N)},wheel:function(t){var e=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*n,t)))},cropStart:function(t){var e=t.buttons,n=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(gt(e)&&1!==e||gt(n)&&0!==n||t.ctrlKey))){var i,r=this.options,a=this.pointers;t.changedTouches?Mt(t.changedTouches,(function(t){a[t.identifier]=$t(t)})):a[t.pointerId||0]=$t(t),i=Object.keys(a).length>1&&r.zoomable&&r.zoomOnTouch?E:Qt(t.target,L),ot.test(i)&&!1!==Pt(this.element,q,{originalEvent:t,action:i})&&(t.preventDefault(),this.action=i,this.cropping=!1,i===y&&(this.cropping=!0,Ot(this.dragBox,H)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var n=this.pointers;t.preventDefault(),!1!==Pt(this.element,Y,{originalEvent:t,action:e})&&(t.changedTouches?Mt(t.changedTouches,(function(t){Ct(n[t.identifier]||{},$t(t,!0))})):Ct(n[t.pointerId||0]||{},$t(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,n=this.pointers;t.changedTouches?Mt(t.changedTouches,(function(t){delete n[t.identifier]})):delete n[t.pointerId||0],e&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Rt(this.dragBox,H,this.cropped&&this.options.modal)),Pt(this.element,X,{originalEvent:t,action:e}))}}},ue={change:function(t){var e,n=this.options,i=this.canvasData,r=this.containerData,a=this.cropBoxData,o=this.pointers,s=this.action,h=n.aspectRatio,c=a.left,l=a.top,f=a.width,d=a.height,u=c+f,p=l+d,g=0,m=0,v=r.width,w=r.height,b=!0;!h&&t.shiftKey&&(h=f&&d?f/d:1),this.limited&&(g=a.minLeft,m=a.minTop,v=g+Math.min(r.width,i.width,i.left+i.width),w=m+Math.min(r.height,i.height,i.top+i.height));var k=o[Object.keys(o)[0]],R={x:k.endX-k.startX,y:k.endY-k.startY},S=function(t){switch(t){case M:u+R.x>v&&(R.x=v-u);break;case C:c+R.x<g&&(R.x=g-c);break;case U:l+R.y<m&&(R.y=m-l);break;case B:p+R.y>w&&(R.y=w-p)}};switch(s){case A:c+=R.x,l+=R.y;break;case M:if(R.x>=0&&(u>=v||h&&(l<=m||p>=w))){b=!1;break}S(M),(f+=R.x)<0&&(s=C,c-=f=-f),h&&(d=f/h,l+=(a.height-d)/2);break;case U:if(R.y<=0&&(l<=m||h&&(c<=g||u>=v))){b=!1;break}S(U),d-=R.y,l+=R.y,d<0&&(s=B,l-=d=-d),h&&(f=d*h,c+=(a.width-f)/2);break;case C:if(R.x<=0&&(c<=g||h&&(l<=m||p>=w))){b=!1;break}S(C),f-=R.x,c+=R.x,f<0&&(s=M,c-=f=-f),h&&(d=f/h,l+=(a.height-d)/2);break;case B:if(R.y>=0&&(p>=w||h&&(c<=g||u>=v))){b=!1;break}S(B),(d+=R.y)<0&&(s=U,l-=d=-d),h&&(f=d*h,c+=(a.width-f)/2);break;case D:if(h){if(R.y<=0&&(l<=m||u>=v)){b=!1;break}S(U),d-=R.y,l+=R.y,f=d*h}else S(U),S(M),R.x>=0?u<v?f+=R.x:R.y<=0&&l<=m&&(b=!1):f+=R.x,R.y<=0?l>m&&(d-=R.y,l+=R.y):(d-=R.y,l+=R.y);f<0&&d<0?(s=O,l-=d=-d,c-=f=-f):f<0?(s=F,c-=f=-f):d<0&&(s=T,l-=d=-d);break;case F:if(h){if(R.y<=0&&(l<=m||c<=g)){b=!1;break}S(U),d-=R.y,l+=R.y,f=d*h,c+=a.width-f}else S(U),S(C),R.x<=0?c>g?(f-=R.x,c+=R.x):R.y<=0&&l<=m&&(b=!1):(f-=R.x,c+=R.x),R.y<=0?l>m&&(d-=R.y,l+=R.y):(d-=R.y,l+=R.y);f<0&&d<0?(s=T,l-=d=-d,c-=f=-f):f<0?(s=D,c-=f=-f):d<0&&(s=O,l-=d=-d);break;case O:if(h){if(R.x<=0&&(c<=g||p>=w)){b=!1;break}S(C),f-=R.x,c+=R.x,d=f/h}else S(B),S(C),R.x<=0?c>g?(f-=R.x,c+=R.x):R.y>=0&&p>=w&&(b=!1):(f-=R.x,c+=R.x),R.y>=0?p<w&&(d+=R.y):d+=R.y;f<0&&d<0?(s=D,l-=d=-d,c-=f=-f):f<0?(s=T,c-=f=-f):d<0&&(s=F,l-=d=-d);break;case T:if(h){if(R.x>=0&&(u>=v||p>=w)){b=!1;break}S(M),d=(f+=R.x)/h}else S(B),S(M),R.x>=0?u<v?f+=R.x:R.y>=0&&p>=w&&(b=!1):f+=R.x,R.y>=0?p<w&&(d+=R.y):d+=R.y;f<0&&d<0?(s=F,l-=d=-d,c-=f=-f):f<0?(s=O,c-=f=-f):d<0&&(s=D,l-=d=-d);break;case x:this.move(R.x,R.y),b=!1;break;case E:this.zoom(Gt(o),t),b=!1;break;case y:if(!R.x||!R.y){b=!1;break}e=jt(this.cropper),c=k.startX-e.left,l=k.startY-e.top,f=a.minWidth,d=a.minHeight,R.x>0?s=R.y>0?T:D:R.x<0&&(c-=f,s=R.y>0?O:F),R.y<0&&(l-=d),this.cropped||(kt(this.cropBox,I),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}b&&(a.width=f,a.height=d,a.left=c,a.top=l,this.action=s,this.renderCropBox()),Mt(o,(function(t){t.startX=t.endX,t.startY=t.endY}))}},pe={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Ot(this.dragBox,H),kt(this.cropBox,I),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ct({},this.initialImageData),this.canvasData=Ct({},this.initialCanvasData),this.cropBoxData=Ct({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ct(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),kt(this.dragBox,H),Ot(this.cropBox,I)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,Mt(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,kt(this.cropper,R)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Ot(this.cropper,R)),this},destroy:function(){var t=this.element;return t[b]?(t[b]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,i=n.left,r=n.top;return this.moveTo(vt(t)?t:i+Number(t),vt(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,i=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(gt(t)&&(n.left=t,i=!0),gt(e)&&(n.top=e,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(t,e){var n=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,null,e)},zoomTo:function(t,e,n){var i=this.options,r=this.canvasData,a=r.width,o=r.height,s=r.naturalWidth,h=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&i.zoomable){var c=s*t,l=h*t;if(!1===Pt(this.element,rt,{ratio:t,oldRatio:a/s,originalEvent:n}))return this;if(n){var f=this.pointers,d=jt(this.cropper),u=f&&Object.keys(f).length?Vt(f):{pageX:n.pageX,pageY:n.pageY};r.left-=(c-a)*((u.pageX-d.left-r.left)/a),r.top-=(l-o)*((u.pageY-d.top-r.top)/o)}else At(e)&&gt(e.x)&&gt(e.y)?(r.left-=(c-a)*((e.x-r.left)/a),r.top-=(l-o)*((e.y-r.top)/o)):(r.left-=(c-a)/2,r.top-=(l-o)/2);r.width=c,r.height=l,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return gt(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,gt(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(gt(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.imageData,i=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(gt(t)&&(n.scaleX=t,i=!0),gt(e)&&(n.scaleY=e,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.imageData,r=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){t={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height};var o=i.width/i.naturalWidth;if(Mt(t,(function(e,n){t[n]=e/o})),e){var s=Math.round(t.y+t.height),h=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=h-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return n.rotatable&&(t.rotate=i.rotate||0),n.scalable&&(t.scaleX=i.scaleX||1,t.scaleY=i.scaleY||1),t},setData:function(t){var e=this.options,n=this.imageData,i=this.canvasData,r={};if(this.ready&&!this.disabled&&At(t)){var a=!1;e.rotatable&&gt(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,a=!0),e.scalable&&(gt(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,a=!0),gt(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=n.width/n.naturalWidth;gt(t.x)&&(r.left=t.x*o+i.left),gt(t.y)&&(r.top=t.y*o+i.top),gt(t.width)&&(r.width=t.width*o),gt(t.height)&&(r.height=t.height*o),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?Ct({},this.containerData):{}},getImageData:function(){return this.sized?Ct({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&Mt(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){e[n]=t[n]})),e},setCanvasData:function(t){var e=this.canvasData,n=e.aspectRatio;return this.ready&&!this.disabled&&At(t)&&(gt(t.left)&&(e.left=t.left),gt(t.top)&&(e.top=t.top),gt(t.width)?(e.width=t.width,e.height=t.width/n):gt(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,n,i=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&At(t)&&(gt(t.left)&&(i.left=t.left),gt(t.top)&&(i.top=t.top),gt(t.width)&&t.width!==i.width&&(e=!0,i.width=t.width),gt(t.height)&&t.height!==i.height&&(n=!0,i.height=t.height),r&&(e?i.height=i.width/r:n&&(i.width=i.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,n=ee(this.image,this.imageData,e,t);if(!this.cropped)return n;var i=this.getData(t.rounded),r=i.x,a=i.y,o=i.width,h=i.height,c=n.width/Math.floor(e.naturalWidth);1!==c&&(r*=c,a*=c,o*=c,h*=c);var l=o/h,f=Jt({aspectRatio:l,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),d=Jt({aspectRatio:l,width:t.minWidth||0,height:t.minHeight||0},"cover"),u=Jt({aspectRatio:l,width:t.width||(1!==c?n.width:o),height:t.height||(1!==c?n.height:h)}),p=u.width,g=u.height;p=Math.min(f.width,Math.max(d.width,p)),g=Math.min(f.height,Math.max(d.height,g));var m=document.createElement("canvas"),v=m.getContext("2d");m.width=Ut(p),m.height=Ut(g),v.fillStyle=t.fillColor||"transparent",v.fillRect(0,0,p,g);var w=t.imageSmoothingEnabled,b=void 0===w||w,A=t.imageSmoothingQuality;v.imageSmoothingEnabled=b,A&&(v.imageSmoothingQuality=A);var y,x,E,M,C,B,U=n.width,D=n.height,F=r,T=a;F<=-o||F>U?(F=0,y=0,E=0,C=0):F<=0?(E=-F,F=0,C=y=Math.min(U,o+F)):F<=U&&(E=0,C=y=Math.min(o,U-F)),y<=0||T<=-h||T>D?(T=0,x=0,M=0,B=0):T<=0?(M=-T,T=0,B=x=Math.min(D,h+T)):T<=D&&(M=0,B=x=Math.min(h,D-T));var O=[F,T,y,x];if(C>0&&B>0){var k=p/o;O.push(E*k,M*k,C*k,B*k)}return v.drawImage.apply(v,[n].concat(s(O.map((function(t){return Math.floor(Ut(t))}))))),m},setAspectRatio:function(t){var e=this.options;return this.disabled||vt(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var r=t===N,a=e.movable&&t===W;t=r||a?t:P,e.dragMode=t,Ht(n,L,t),Rt(n,k,r),Rt(n,_,a),e.cropBoxMovable||(Ht(i,L,t),Rt(i,k,r),Rt(i,_,a))}return this}},ge=m.Cropper,me=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),!e||!ct.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Ct({},dt,At(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return a(t,[{key:"init",value:function(){var t,e=this.element,n=e.tagName.toLowerCase();if(!e[b]){if(e[b]=this,"img"===n){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===n&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var n=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(st.test(t))ht.test(t)?this.read(ae(t)):this.clone();else{var r=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=a,r.onerror=a,r.ontimeout=a,r.onprogress=function(){r.getResponseHeader("content-type")!==at&&r.abort()},r.onload=function(){e.read(r.response)},r.onloadend=function(){e.reloading=!1,e.xhr=null},i.checkCrossOrigin&&qt(t)&&n.crossOrigin&&(t=Kt(t)),r.open("GET",t,!0),r.responseType="arraybuffer",r.withCredentials="use-credentials"===n.crossOrigin,r.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,n=this.imageData,i=se(t),r=0,a=1,o=1;if(i>1){this.url=oe(t,at);var s=he(i);r=s.rotate,a=s.scaleX,o=s.scaleY}e.rotatable&&(n.rotate=r),e.scalable&&(n.scaleX=a,n.scaleY=o),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,n=t.crossOrigin,i=e;this.options.checkCrossOrigin&&qt(e)&&(n||(n="anonymous"),i=Kt(e)),this.crossOrigin=n,this.crossOriginUrl=i;var r=document.createElement("img");n&&(r.crossOrigin=n),r.src=i||e,r.alt=t.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),Ot(r,S),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var n=m.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(m.navigator.userAgent),i=function(e,n){Ct(t.imageData,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),t.initialImageData=Ct({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||n){var r=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){i(r.width,r.height),n||a.removeChild(r)},r.src=e.src,n||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(r))}else i(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,n=this.image,i=t.parentNode,r=document.createElement("div");r.innerHTML=ut;var a=r.querySelector(".".concat(b,"-container")),o=a.querySelector(".".concat(b,"-canvas")),s=a.querySelector(".".concat(b,"-drag-box")),h=a.querySelector(".".concat(b,"-crop-box")),c=h.querySelector(".".concat(b,"-face"));this.container=i,this.cropper=a,this.canvas=o,this.dragBox=s,this.cropBox=h,this.viewBox=a.querySelector(".".concat(b,"-view-box")),this.face=c,o.appendChild(n),Ot(t,I),i.insertBefore(a,t.nextSibling),kt(n,S),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,Ot(h,I),e.guides||Ot(h.getElementsByClassName("".concat(b,"-dashed")),I),e.center||Ot(h.getElementsByClassName("".concat(b,"-center")),I),e.background&&Ot(a,"".concat(b,"-bg")),e.highlight||Ot(c,Q),e.cropBoxMovable&&(Ot(c,_),Ht(c,L,A)),e.cropBoxResizable||(Ot(h.getElementsByClassName("".concat(b,"-line")),I),Ot(h.getElementsByClassName("".concat(b,"-point")),I)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),yt(e.ready)&&Wt(t,et,e.ready,{once:!0}),Pt(t,et)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),kt(this.element,I)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ge,t}},{key:"setDefaults",value:function(t){Ct(dt,At(t)&&t)}}]),t}();return Ct(me.prototype,ce,le,fe,de,ue,pe),me}()},2485:(t,e,n)=>{"use strict";n.d(e,{I:()=>l});var i=n(5043),r=n(5406),a=n.n(r),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}var h=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],c={opacity:0,maxWidth:"100%"},l=i.forwardRef((function(t,e){var n=s(t,[]),r=n.dragMode,l=void 0===r?"crop":r,f=n.src,d=n.style,u=n.className,p=n.crossOrigin,g=n.scaleX,m=n.scaleY,v=n.enable,w=n.zoomTo,b=n.rotateTo,A=n.alt,y=void 0===A?"picture":A,x=n.ready,E=n.onInitialized,M=s(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),C={scaleY:m,scaleX:g,enable:v,zoomTo:w,rotateTo:b},B=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,i.useRef)(null);return i.useEffect((function(){t.forEach((function(t){t&&("function"==typeof t?t(n.current):t.current=n.current)}))}),[t]),n}(e,(0,i.useRef)(null));(0,i.useEffect)((function(){var t;(null===(t=B.current)||void 0===t?void 0:t.cropper)&&"number"==typeof w&&B.current.cropper.zoomTo(w)}),[n.zoomTo]),(0,i.useEffect)((function(){var t;(null===(t=B.current)||void 0===t?void 0:t.cropper)&&void 0!==f&&B.current.cropper.reset().clear().replace(f)}),[f]),(0,i.useEffect)((function(){if(null!==B.current){var t=new(a())(B.current,o(o({dragMode:l},M),{ready:function(t){null!==t.currentTarget&&function(t,e){void 0===e&&(e={});var n=e.enable,i=void 0===n||n,r=e.scaleX,a=void 0===r?1:r,o=e.scaleY,s=void 0===o?1:o,h=e.zoomTo,c=void 0===h?0:h,l=e.rotateTo;i?t.enable():t.disable(),t.scaleX(a),t.scaleY(s),void 0!==l&&t.rotateTo(l),c>0&&t.zoomTo(c)}(t.currentTarget.cropper,C),x&&x(t)}}));E&&E(t)}return function(){var t,e;null===(e=null===(t=B.current)||void 0===t?void 0:t.cropper)||void 0===e||e.destroy()}}),[B]);var U,D=(U=o(o({},M),{crossOrigin:p,src:f,alt:y}),h.reduce((function(t,e){var n=t,i=e;return n[i],s(n,["symbol"==typeof i?i:i+""])}),U));return i.createElement("div",{style:d,className:u},i.createElement("img",o({},D,{style:c,ref:B})))}))},8222:t=>{t.exports=function(){const t=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"];let e=[];for(let n=0;n<36;n++)e[n]=8===n||13===n||18===n||23===n?"-":t[Math.ceil(Math.random()*t.length-1)];return e.join("")}},9686:()=>{},1641:(t,e,n)=>{"use strict";function i(t,e){return new Promise((function(n,i){let a;return r(t).then((function(t){try{return a=t,n(new Blob([e.slice(0,2),a,e.slice(2)],{type:"image/jpeg"}))}catch(t){return i(t)}}),i)}))}n.d(e,{A:()=>Q});const r=t=>new Promise(((e,n)=>{const i=new FileReader;i.addEventListener("load",(t=>{let{target:{result:i}}=t;const r=new DataView(i);let a=0;if(65496!==r.getUint16(a))return n("not a valid JPEG");for(a+=2;;){const t=r.getUint16(a);if(65498===t)break;const o=r.getUint16(a+2);if(65505===t&&1165519206===r.getUint32(a+4)){const t=a+10;let s;switch(r.getUint16(t)){case 18761:s=!0;break;case 19789:s=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==r.getUint16(t+2,s))return n("TIFF header contains invalid version");const h=r.getUint32(t+4,s),c=t+h+2+12*r.getUint16(t+h,s);for(let e=t+h+2;e<c;e+=12)if(274==r.getUint16(e,s)){if(3!==r.getUint16(e+2,s))return n("Orientation data type is invalid");if(1!==r.getUint32(e+4,s))return n("Orientation data count is invalid");r.setUint16(e+8,1,s);break}return e(i.slice(a,a+2+o))}a+=2+o}return e(new Blob)})),i.readAsArrayBuffer(t)}));var a={},o={get exports(){return a},set exports(t){a=t}};!function(t){var e,n,i={};o.exports=i,i.parse=function(t,e){for(var n=i.bin.readUshort,r=i.bin.readUint,a=0,o={},s=new Uint8Array(t),h=s.length-4;101010256!=r(s,h);)h--;a=h,a+=4;var c=n(s,a+=4);n(s,a+=2);var l=r(s,a+=2),f=r(s,a+=4);a+=4,a=f;for(var d=0;d<c;d++){r(s,a),a+=4,a+=4,a+=4,r(s,a+=4),l=r(s,a+=4);var u=r(s,a+=4),p=n(s,a+=4),g=n(s,a+2),m=n(s,a+4);a+=6;var v=r(s,a+=8);a+=4,a+=p+g+m,i._readLocal(s,v,o,l,u,e)}return o},i._readLocal=function(t,e,n,r,a,o){var s=i.bin.readUshort,h=i.bin.readUint;h(t,e),s(t,e+=4),s(t,e+=2);var c=s(t,e+=2);h(t,e+=2),h(t,e+=4),e+=4;var l=s(t,e+=8),f=s(t,e+=2);e+=2;var d=i.bin.readUTF8(t,e,l);if(e+=l,e+=f,o)n[d]={size:a,csize:r};else{var u=new Uint8Array(t.buffer,e);if(0==c)n[d]=new Uint8Array(u.buffer.slice(e,e+r));else{if(8!=c)throw"unknown compression method: "+c;var p=new Uint8Array(a);i.inflateRaw(u,p),n[d]=p}}},i.inflateRaw=function(t,e){return i.F.inflate(t,e)},i.inflate=function(t,e){return t[0],t[1],i.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-6),e)},i.deflate=function(t,e){null==e&&(e={level:6});var n=0,r=new Uint8Array(50+Math.floor(1.1*t.length));r[n]=120,r[n+1]=156,n+=2,n=i.F.deflateRaw(t,r,n,e.level);var a=i.adler(t,0,t.length);return r[n+0]=a>>>24&255,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=a>>>0&255,new Uint8Array(r.buffer,0,n+4)},i.deflateRaw=function(t,e){null==e&&(e={level:6});var n=new Uint8Array(50+Math.floor(1.1*t.length)),r=i.F.deflateRaw(t,n,r,e.level);return new Uint8Array(n.buffer,0,r)},i.encode=function(t,e){null==e&&(e=!1);var n=0,r=i.bin.writeUint,a=i.bin.writeUshort,o={};for(var s in t){var h=!i._noNeed(s)&&!e,c=t[s],l=i.crc.crc(c,0,c.length);o[s]={cpr:h,usize:c.length,crc:l,file:h?i.deflateRaw(c):c}}for(var s in o)n+=o[s].file.length+30+46+2*i.bin.sizeUTF8(s);n+=22;var f=new Uint8Array(n),d=0,u=[];for(var s in o){var p=o[s];u.push(d),d=i._writeHeader(f,d,s,p,0)}var g=0,m=d;for(var s in o)p=o[s],u.push(d),d=i._writeHeader(f,d,s,p,1,u[g++]);var v=d-m;return r(f,d,101010256),d+=4,a(f,d+=4,g),a(f,d+=2,g),r(f,d+=2,v),r(f,d+=4,m),d+=4,d+=2,f.buffer},i._noNeed=function(t){var e=t.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(e)},i._writeHeader=function(t,e,n,r,a,o){var s=i.bin.writeUint,h=i.bin.writeUshort,c=r.file;return s(t,e,0==a?67324752:33639248),e+=4,1==a&&(e+=2),h(t,e,20),h(t,e+=2,0),h(t,e+=2,r.cpr?8:0),s(t,e+=2,0),s(t,e+=4,r.crc),s(t,e+=4,c.length),s(t,e+=4,r.usize),h(t,e+=4,i.bin.sizeUTF8(n)),h(t,e+=2,0),e+=2,1==a&&(e+=2,e+=2,s(t,e+=6,o),e+=4),e+=i.bin.writeUTF8(t,e,n),0==a&&(t.set(c,e),e+=c.length),e},i.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var n=e,i=0;i<8;i++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}(),update:function(t,e,n,r){for(var a=0;a<r;a++)t=i.crc.table[255&(t^e[n+a])]^t>>>8;return t},crc:function(t,e,n){return 4294967295^i.crc.update(4294967295,t,e,n)}},i.adler=function(t,e,n){for(var i=1,r=0,a=e,o=e+n;a<o;){for(var s=Math.min(a+5552,o);a<s;)r+=i+=t[a++];i%=65521,r%=65521}return r<<16|i},i.bin={readUshort:function(t,e){return t[e]|t[e+1]<<8},writeUshort:function(t,e,n){t[e]=255&n,t[e+1]=n>>8&255},readUint:function(t,e){return 16777216*t[e+3]+(t[e+2]<<16|t[e+1]<<8|t[e])},writeUint:function(t,e,n){t[e]=255&n,t[e+1]=n>>8&255,t[e+2]=n>>16&255,t[e+3]=n>>24&255},readASCII:function(t,e,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[e+r]);return i},writeASCII:function(t,e,n){for(var i=0;i<n.length;i++)t[e+i]=n.charCodeAt(i)},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,e,n){for(var r,a="",o=0;o<n;o++)a+="%"+i.bin.pad(t[e+o].toString(16));try{r=decodeURIComponent(a)}catch(r){return i.bin.readASCII(t,e,n)}return r},writeUTF8:function(t,e,n){for(var i=n.length,r=0,a=0;a<i;a++){var o=n.charCodeAt(a);if(0==(4294967168&o))t[e+r]=o,r++;else if(0==(4294965248&o))t[e+r]=192|o>>6,t[e+r+1]=128|63&o,r+=2;else if(0==(4294901760&o))t[e+r]=224|o>>12,t[e+r+1]=128|o>>6&63,t[e+r+2]=128|63&o,r+=3;else{if(0!=(4292870144&o))throw"e";t[e+r]=240|o>>18,t[e+r+1]=128|o>>12&63,t[e+r+2]=128|o>>6&63,t[e+r+3]=128|63&o,r+=4}}return r},sizeUTF8:function(t){for(var e=t.length,n=0,i=0;i<e;i++){var r=t.charCodeAt(i);if(0==(4294967168&r))n++;else if(0==(4294965248&r))n+=2;else if(0==(4294901760&r))n+=3;else{if(0!=(4292870144&r))throw"e";n+=4}}return n}},i.F={},i.F.deflateRaw=function(t,e,n,r){var a=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],o=i.F.U,s=i.F._goodIndex;i.F._hash;var h=i.F._putsE,c=0,l=n<<3,f=0,d=t.length;if(0==r){for(;c<d;)h(e,l,c+(M=Math.min(65535,d-c))==d?1:0),l=i.F._copyExact(t,c,M,e,l+8),c+=M;return l>>>3}var u=o.lits,p=o.strt,g=o.prev,m=0,v=0,w=0,b=0,A=0,y=0;for(d>2&&(p[y=i.F._hash(t,0)]=0),c=0;c<d;c++){if(A=y,c+1<d-2){y=i.F._hash(t,c+1);var x=c+1&32767;g[x]=p[y],p[y]=x}if(f<=c){(m>14e3||v>26697)&&d-c>100&&(f<c&&(u[m]=c-f,m+=2,f=c),l=i.F._writeBlock(c==d-1||f==d?1:0,u,m,b,t,w,c-w,e,l),m=v=b=0,w=c);var E=0;c<d-2&&(E=i.F._bestMatch(t,c,g,A,Math.min(a[2],d-c),a[3]));var M=E>>>16,C=65535&E;if(0!=E){C=65535&E;var B=s(M=E>>>16,o.of0);o.lhst[257+B]++;var U=s(C,o.df0);o.dhst[U]++,b+=o.exb[B]+o.dxb[U],u[m]=M<<23|c-f,u[m+1]=C<<16|B<<8|U,m+=2,f=c+M}else o.lhst[t[c]]++;v++}}for(w==c&&0!=t.length||(f<c&&(u[m]=c-f,m+=2,f=c),l=i.F._writeBlock(1,u,m,b,t,w,c-w,e,l),m=0,v=0,m=v=b=0,w=c);0!=(7&l);)l++;return l>>>3},i.F._bestMatch=function(t,e,n,r,a,o){var s=32767&e,h=n[s],c=s-h+32768&32767;if(h==s||r!=i.F._hash(t,e-c))return 0;for(var l=0,f=0,d=Math.min(32767,e);c<=d&&0!=--o&&h!=s;){if(0==l||t[e+l]==t[e+l-c]){var u=i.F._howLong(t,e,c);if(u>l){if(f=c,(l=u)>=a)break;c+2<u&&(u=c+2);for(var p=0,g=0;g<u-2;g++){var m=e-c+g+32768&32767,v=m-n[m]+32768&32767;v>p&&(p=v,h=m)}}}c+=(s=h)-(h=n[s])+32768&32767}return l<<16|f},i.F._howLong=function(t,e,n){if(t[e]!=t[e-n]||t[e+1]!=t[e+1-n]||t[e+2]!=t[e+2-n])return 0;var i=e,r=Math.min(t.length,e+258);for(e+=3;e<r&&t[e]==t[e-n];)e++;return e-i},i.F._hash=function(t,e){return(t[e]<<8|t[e+1])+(t[e+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(t,e,n,r,a,o,s,h,c){var l,f,d,u,p,g,m,v,w,b=i.F.U,A=i.F._putsF,y=i.F._putsE;b.lhst[256]++,f=(l=i.F.getTrees())[0],d=l[1],u=l[2],p=l[3],g=l[4],m=l[5],v=l[6],w=l[7];var x=32+(0==(c+3&7)?0:8-(c+3&7))+(s<<3),E=r+i.F.contSize(b.fltree,b.lhst)+i.F.contSize(b.fdtree,b.dhst),M=r+i.F.contSize(b.ltree,b.lhst)+i.F.contSize(b.dtree,b.dhst);M+=14+3*m+i.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var C=0;C<286;C++)b.lhst[C]=0;for(C=0;C<30;C++)b.dhst[C]=0;for(C=0;C<19;C++)b.ihst[C]=0;var B=x<E&&x<M?0:E<M?1:2;if(A(h,c,t),A(h,c+1,B),c+=3,0==B){for(;0!=(7&c);)c++;c=i.F._copyExact(a,o,s,h,c)}else{var U,D;if(1==B&&(U=b.fltree,D=b.fdtree),2==B){i.F.makeCodes(b.ltree,f),i.F.revCodes(b.ltree,f),i.F.makeCodes(b.dtree,d),i.F.revCodes(b.dtree,d),i.F.makeCodes(b.itree,u),i.F.revCodes(b.itree,u),U=b.ltree,D=b.dtree,y(h,c,p-257),y(h,c+=5,g-1),y(h,c+=5,m-4),c+=4;for(var F=0;F<m;F++)y(h,c+3*F,b.itree[1+(b.ordr[F]<<1)]);c+=3*m,c=i.F._codeTiny(v,b.itree,h,c),c=i.F._codeTiny(w,b.itree,h,c)}for(var T=o,O=0;O<n;O+=2){for(var k=e[O],R=k>>>23,I=T+(8388607&k);T<I;)c=i.F._writeLit(a[T++],U,h,c);if(0!=R){var S=e[O+1],Q=S>>16,H=S>>8&255,_=255&S;y(h,c=i.F._writeLit(257+H,U,h,c),R-b.of0[H]),c+=b.exb[H],A(h,c=i.F._writeLit(_,D,h,c),Q-b.df0[_]),c+=b.dxb[_],T+=R}}c=i.F._writeLit(256,U,h,c)}return c},i.F._copyExact=function(t,e,n,i,r){var a=r>>>3;return i[a]=n,i[a+1]=n>>>8,i[a+2]=255-i[a],i[a+3]=255-i[a+1],a+=4,i.set(new Uint8Array(t.buffer,e,n),a),r+(n+4<<3)},i.F.getTrees=function(){for(var t=i.F.U,e=i.F._hufTree(t.lhst,t.ltree,15),n=i.F._hufTree(t.dhst,t.dtree,15),r=[],a=i.F._lenCodes(t.ltree,r),o=[],s=i.F._lenCodes(t.dtree,o),h=0;h<r.length;h+=2)t.ihst[r[h]]++;for(h=0;h<o.length;h+=2)t.ihst[o[h]]++;for(var c=i.F._hufTree(t.ihst,t.itree,7),l=19;l>4&&0==t.itree[1+(t.ordr[l-1]<<1)];)l--;return[e,n,c,a,s,l,r,o]},i.F.getSecond=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(t[n+1]);return e},i.F.nonZero=function(t){for(var e="",n=0;n<t.length;n+=2)0!=t[n+1]&&(e+=(n>>1)+",");return e},i.F.contSize=function(t,e){for(var n=0,i=0;i<e.length;i++)n+=e[i]*t[1+(i<<1)];return n},i.F._codeTiny=function(t,e,n,r){for(var a=0;a<t.length;a+=2){var o=t[a],s=t[a+1];r=i.F._writeLit(o,e,n,r);var h=16==o?2:17==o?3:7;o>15&&(i.F._putsE(n,r,s,h),r+=h)}return r},i.F._lenCodes=function(t,e){for(var n=t.length;2!=n&&0==t[n-1];)n-=2;for(var i=0;i<n;i+=2){var r=t[i+1],a=i+3<n?t[i+3]:-1,o=i+5<n?t[i+5]:-1,s=0==i?-1:t[i-1];if(0==r&&a==r&&o==r){for(var h=i+5;h+2<n&&t[h+2]==r;)h+=2;(c=Math.min(h+1-i>>>1,138))<11?e.push(17,c-3):e.push(18,c-11),i+=2*c-2}else if(r==s&&a==r&&o==r){for(h=i+5;h+2<n&&t[h+2]==r;)h+=2;var c=Math.min(h+1-i>>>1,6);e.push(16,c-3),i+=2*c-2}else e.push(r,0)}return n>>>1},i.F._hufTree=function(t,e,n){var r=[],a=t.length,o=e.length,s=0;for(s=0;s<o;s+=2)e[s]=0,e[s+1]=0;for(s=0;s<a;s++)0!=t[s]&&r.push({lit:s,f:t[s]});var h=r.length,c=r.slice(0);if(0==h)return 0;if(1==h){var l=r[0].lit;return c=0==l?1:0,e[1+(l<<1)]=1,e[1+(c<<1)]=1,1}r.sort((function(t,e){return t.f-e.f}));var f=r[0],d=r[1],u=0,p=1,g=2;for(r[0]={lit:-1,f:f.f+d.f,l:f,r:d,d:0};p!=h-1;)f=u!=p&&(g==h||r[u].f<r[g].f)?r[u++]:r[g++],d=u!=p&&(g==h||r[u].f<r[g].f)?r[u++]:r[g++],r[p++]={lit:-1,f:f.f+d.f,l:f,r:d};var m=i.F.setDepth(r[p-1],0);for(m>n&&(i.F.restrictDepth(c,n,m),m=n),s=0;s<h;s++)e[1+(c[s].lit<<1)]=c[s].d;return m},i.F.setDepth=function(t,e){return-1!=t.lit?(t.d=e,e):Math.max(i.F.setDepth(t.l,e+1),i.F.setDepth(t.r,e+1))},i.F.restrictDepth=function(t,e,n){var i=0,r=1<<n-e,a=0;for(t.sort((function(t,e){return e.d==t.d?t.f-e.f:e.d-t.d})),i=0;i<t.length&&t[i].d>e;i++){var o=t[i].d;t[i].d=e,a+=r-(1<<n-o)}for(a>>>=n-e;a>0;)(o=t[i].d)<e?(t[i].d++,a-=1<<e-o-1):i++;for(;i>=0;i--)t[i].d==e&&a<0&&(t[i].d--,a++);0!=a&&console.log("debt left")},i.F._goodIndex=function(t,e){var n=0;return e[16|n]<=t&&(n|=16),e[8|n]<=t&&(n|=8),e[4|n]<=t&&(n|=4),e[2|n]<=t&&(n|=2),e[1|n]<=t&&(n|=1),n},i.F._writeLit=function(t,e,n,r){return i.F._putsF(n,r,e[t<<1]),r+e[1+(t<<1)]},i.F.inflate=function(t,e){var n=Uint8Array;if(3==t[0]&&0==t[1])return e||new n(0);var r=i.F,a=r._bitsF,o=r._bitsE,s=r._decodeTiny,h=r.makeCodes,c=r.codes2map,l=r._get17,f=r.U,d=null==e;d&&(e=new n(t.length>>>2<<3));for(var u,p,g=0,m=0,v=0,w=0,b=0,A=0,y=0,x=0,E=0;0==g;)if(g=a(t,E,1),m=a(t,E+1,2),E+=3,0!=m){if(d&&(e=i.F._check(e,x+(1<<17))),1==m&&(u=f.flmap,p=f.fdmap,A=511,y=31),2==m){v=o(t,E,5)+257,w=o(t,E+5,5)+1,b=o(t,E+10,4)+4,E+=14;for(var M=0;M<38;M+=2)f.itree[M]=0,f.itree[M+1]=0;var C=1;for(M=0;M<b;M++){var B=o(t,E+3*M,3);f.itree[1+(f.ordr[M]<<1)]=B,B>C&&(C=B)}E+=3*b,h(f.itree,C),c(f.itree,C,f.imap),u=f.lmap,p=f.dmap,E=s(f.imap,(1<<C)-1,v+w,t,E,f.ttree);var U=r._copyOut(f.ttree,0,v,f.ltree);A=(1<<U)-1;var D=r._copyOut(f.ttree,v,w,f.dtree);y=(1<<D)-1,h(f.ltree,U),c(f.ltree,U,u),h(f.dtree,D),c(f.dtree,D,p)}for(;;){var F=u[l(t,E)&A];E+=15&F;var T=F>>>4;if(T>>>8==0)e[x++]=T;else{if(256==T)break;var O=x+T-254;if(T>264){var k=f.ldef[T-257];O=x+(k>>>3)+o(t,E,7&k),E+=7&k}var R=p[l(t,E)&y];E+=15&R;var I=R>>>4,S=f.ddef[I],Q=(S>>>4)+a(t,E,15&S);for(E+=15&S,d&&(e=i.F._check(e,x+(1<<17)));x<O;)e[x]=e[x++-Q],e[x]=e[x++-Q],e[x]=e[x++-Q],e[x]=e[x++-Q];x=O}}}else{0!=(7&E)&&(E+=8-(7&E));var H=4+(E>>>3),_=t[H-4]|t[H-3]<<8;d&&(e=i.F._check(e,x+_)),e.set(new n(t.buffer,t.byteOffset+H,_),x),E=H+_<<3,x+=_}return e.length==x?e:e.slice(0,x)},i.F._check=function(t,e){var n=t.length;if(e<=n)return t;var i=new Uint8Array(Math.max(n<<1,e));return i.set(t,0),i},i.F._decodeTiny=function(t,e,n,r,a,o){for(var s=i.F._bitsE,h=i.F._get17,c=0;c<n;){var l=t[h(r,a)&e];a+=15&l;var f=l>>>4;if(f<=15)o[c]=f,c++;else{var d=0,u=0;16==f?(u=3+s(r,a,2),a+=2,d=o[c-1]):17==f?(u=3+s(r,a,3),a+=3):18==f&&(u=11+s(r,a,7),a+=7);for(var p=c+u;c<p;)o[c]=d,c++}}return a},i.F._copyOut=function(t,e,n,i){for(var r=0,a=0,o=i.length>>>1;a<n;){var s=t[a+e];i[a<<1]=0,i[1+(a<<1)]=s,s>r&&(r=s),a++}for(;a<o;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return r},i.F.makeCodes=function(t,e){for(var n,r,a,o,s=i.F.U,h=t.length,c=s.bl_count,l=0;l<=e;l++)c[l]=0;for(l=1;l<h;l+=2)c[t[l]]++;var f=s.next_code;for(n=0,c[0]=0,r=1;r<=e;r++)n=n+c[r-1]<<1,f[r]=n;for(a=0;a<h;a+=2)0!=(o=t[a+1])&&(t[a]=f[o],f[o]++)},i.F.codes2map=function(t,e,n){for(var r=t.length,a=i.F.U.rev15,o=0;o<r;o+=2)if(0!=t[o+1])for(var s=o>>1,h=t[o+1],c=s<<4|h,l=e-h,f=t[o]<<l,d=f+(1<<l);f!=d;)n[a[f]>>>15-e]=c,f++},i.F.revCodes=function(t,e){for(var n=i.F.U.rev15,r=15-e,a=0;a<t.length;a+=2){var o=t[a]<<e-t[a+1];t[a]=n[o]>>>r}},i.F._putsE=function(t,e,n){n<<=7&e;var i=e>>>3;t[i]|=n,t[i+1]|=n>>>8},i.F._putsF=function(t,e,n){n<<=7&e;var i=e>>>3;t[i]|=n,t[i+1]|=n>>>8,t[i+2]|=n>>>16},i.F._bitsE=function(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<n)-1},i.F._bitsF=function(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<n)-1},i.F._get17=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)},i.F._get25=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16|t[3+(e>>>3)]<<24)>>>(7&e)},i.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var t=i.F.U,e=0;e<32768;e++){var n=e;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,t.rev15[e]=(n>>>16|n<<16)>>>17}function r(t,e,n){for(;0!=e--;)t.push(0,n)}for(e=0;e<32;e++)t.ldef[e]=t.of0[e]<<3|t.exb[e],t.ddef[e]=t.df0[e]<<4|t.dxb[e];r(t.fltree,144,8),r(t.fltree,112,9),r(t.fltree,24,7),r(t.fltree,8,8),i.F.makeCodes(t.fltree,9),i.F.codes2map(t.fltree,9,t.flmap),i.F.revCodes(t.fltree,9),r(t.fdtree,32,5),i.F.makeCodes(t.fdtree,5),i.F.codes2map(t.fdtree,5,t.fdmap),i.F.revCodes(t.fdtree,5),r(t.itree,19,0),r(t.ltree,286,0),r(t.dtree,30,0),r(t.ttree,320,0)}()}();var s=function(t,e){return e.forEach((function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach((function(n){if("default"!==n&&!(n in t)){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}}))})),Object.freeze(t)}({__proto__:null,default:a},[a]);const h=function(){var t={nextZero(t,e){for(;0!=t[e];)e++;return e},readUshort:(t,e)=>t[e]<<8|t[e+1],writeUshort(t,e,n){t[e]=n>>8&255,t[e+1]=255&n},readUint:(t,e)=>16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3]),writeUint(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},readASCII(t,e,n){let i="";for(let r=0;r<n;r++)i+=String.fromCharCode(t[e+r]);return i},writeASCII(t,e,n){for(let i=0;i<n.length;i++)t[e+i]=n.charCodeAt(i)},readBytes(t,e,n){const i=[];for(let r=0;r<n;r++)i.push(t[e+r]);return i},pad:t=>t.length<2?"0".concat(t):t,readUTF8(e,n,i){let r,a="";for(let o=0;o<i;o++)a+="%".concat(t.pad(e[n+o].toString(16)));try{r=decodeURIComponent(a)}catch(r){return t.readASCII(e,n,i)}return r}};function e(e,n,i,r){const o=n*i,s=a(r),h=Math.ceil(n*s/8),c=new Uint8Array(4*o),l=new Uint32Array(c.buffer),{ctype:f}=r,{depth:d}=r,u=t.readUshort;if(6==f){const t=o<<2;if(8==d)for(var p=0;p<t;p+=4)c[p]=e[p],c[p+1]=e[p+1],c[p+2]=e[p+2],c[p+3]=e[p+3];if(16==d)for(p=0;p<t;p++)c[p]=e[p<<1]}else if(2==f){const t=r.tabs.tRNS;if(null==t){if(8==d)for(p=0;p<o;p++){var g=3*p;l[p]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g]}if(16==d)for(p=0;p<o;p++)g=6*p,l[p]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g]}else{var m=t[0];const n=t[1],i=t[2];if(8==d)for(p=0;p<o;p++){var v=p<<2;g=3*p,l[p]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g],e[g]==m&&e[g+1]==n&&e[g+2]==i&&(c[v+3]=0)}if(16==d)for(p=0;p<o;p++)v=p<<2,g=6*p,l[p]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g],u(e,g)==m&&u(e,g+2)==n&&u(e,g+4)==i&&(c[v+3]=0)}}else if(3==f){const t=r.tabs.PLTE,a=r.tabs.tRNS,s=a?a.length:0;if(1==d)for(var w=0;w<i;w++){var b=w*h,A=w*n;for(p=0;p<n;p++){v=A+p<<2;var y=3*(x=e[b+(p>>3)]>>7-(7&p)&1);c[v]=t[y],c[v+1]=t[y+1],c[v+2]=t[y+2],c[v+3]=x<s?a[x]:255}}if(2==d)for(w=0;w<i;w++)for(b=w*h,A=w*n,p=0;p<n;p++)v=A+p<<2,y=3*(x=e[b+(p>>2)]>>6-((3&p)<<1)&3),c[v]=t[y],c[v+1]=t[y+1],c[v+2]=t[y+2],c[v+3]=x<s?a[x]:255;if(4==d)for(w=0;w<i;w++)for(b=w*h,A=w*n,p=0;p<n;p++)v=A+p<<2,y=3*(x=e[b+(p>>1)]>>4-((1&p)<<2)&15),c[v]=t[y],c[v+1]=t[y+1],c[v+2]=t[y+2],c[v+3]=x<s?a[x]:255;if(8==d)for(p=0;p<o;p++){var x;v=p<<2,y=3*(x=e[p]),c[v]=t[y],c[v+1]=t[y+1],c[v+2]=t[y+2],c[v+3]=x<s?a[x]:255}}else if(4==f){if(8==d)for(p=0;p<o;p++){v=p<<2;var E=e[M=p<<1];c[v]=E,c[v+1]=E,c[v+2]=E,c[v+3]=e[M+1]}if(16==d)for(p=0;p<o;p++){var M;v=p<<2,E=e[M=p<<2],c[v]=E,c[v+1]=E,c[v+2]=E,c[v+3]=e[M+2]}}else if(0==f)for(m=r.tabs.tRNS?r.tabs.tRNS:-1,w=0;w<i;w++){const t=w*h,i=w*n;if(1==d)for(var C=0;C<n;C++){var B=(E=255*(e[t+(C>>>3)]>>>7-(7&C)&1))==255*m?0:255;l[i+C]=B<<24|E<<16|E<<8|E}else if(2==d)for(C=0;C<n;C++)B=(E=85*(e[t+(C>>>2)]>>>6-((3&C)<<1)&3))==85*m?0:255,l[i+C]=B<<24|E<<16|E<<8|E;else if(4==d)for(C=0;C<n;C++)B=(E=17*(e[t+(C>>>1)]>>>4-((1&C)<<2)&15))==17*m?0:255,l[i+C]=B<<24|E<<16|E<<8|E;else if(8==d)for(C=0;C<n;C++)B=(E=e[t+C])==m?0:255,l[i+C]=B<<24|E<<16|E<<8|E;else if(16==d)for(C=0;C<n;C++)E=e[t+(C<<1)],B=u(e,t+(C<<1))==m?0:255,l[i+C]=B<<24|E<<16|E<<8|E}return c}function n(t,e,n,s){const h=a(t),c=Math.ceil(n*h/8),l=new Uint8Array((c+1+t.interlace)*s);return e=t.tabs.CgBI?r(e,l):i(e,l),0==t.interlace?e=o(e,t,0,n,s):1==t.interlace&&(e=function(t,e){const n=e.width,i=e.height,r=a(e),s=r>>3,h=Math.ceil(n*r/8),c=new Uint8Array(i*h);let l=0;const f=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],u=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1];let g=0;for(;g<7;){const a=u[g],v=p[g];let w=0,b=0,A=f[g];for(;A<i;)A+=a,b++;let y=d[g];for(;y<n;)y+=v,w++;const x=Math.ceil(w*r/8);o(t,e,l,w,b);let E=0,M=f[g];for(;M<i;){let e=d[g],i=l+E*x<<3;for(;e<n;){var m;if(1==r&&(m=(m=t[i>>3])>>7-(7&i)&1,c[M*h+(e>>3)]|=m<<7-(7&e)),2==r&&(m=(m=t[i>>3])>>6-(7&i)&3,c[M*h+(e>>2)]|=m<<6-((3&e)<<1)),4==r&&(m=(m=t[i>>3])>>4-(7&i)&15,c[M*h+(e>>1)]|=m<<4-((1&e)<<2)),r>=8){const n=M*h+e*s;for(let e=0;e<s;e++)c[n+e]=t[(i>>3)+e]}i+=r,e+=v}E++,M+=a}w*b!=0&&(l+=b*(1+x)),g+=1}return c}(e,t)),e}function i(t,e){return r(new Uint8Array(t.buffer,2,t.length-6),e)}var r=function(){const t={H:{}};return t.H.N=function(e,n){const i=Uint8Array;let r,a,o=0,s=0,h=0,c=0,l=0,f=0,d=0,u=0,p=0;if(3==e[0]&&0==e[1])return n||new i(0);const g=t.H,m=g.b,v=g.e,w=g.R,b=g.n,A=g.A,y=g.Z,x=g.m,E=null==n;for(E&&(n=new i(e.length>>>2<<5));0==o;)if(o=m(e,p,1),s=m(e,p+1,2),p+=3,0!=s){if(E&&(n=t.H.W(n,u+(1<<17))),1==s&&(r=x.J,a=x.h,f=511,d=31),2==s){h=v(e,p,5)+257,c=v(e,p+5,5)+1,l=v(e,p+10,4)+4,p+=14;let t=1;for(var M=0;M<38;M+=2)x.Q[M]=0,x.Q[M+1]=0;for(M=0;M<l;M++){const n=v(e,p+3*M,3);x.Q[1+(x.X[M]<<1)]=n,n>t&&(t=n)}p+=3*l,b(x.Q,t),A(x.Q,t,x.u),r=x.w,a=x.d,p=w(x.u,(1<<t)-1,h+c,e,p,x.v);const n=g.V(x.v,0,h,x.C);f=(1<<n)-1;const i=g.V(x.v,h,c,x.D);d=(1<<i)-1,b(x.C,n),A(x.C,n,r),b(x.D,i),A(x.D,i,a)}for(;;){const t=r[y(e,p)&f];p+=15&t;const i=t>>>4;if(i>>>8==0)n[u++]=i;else{if(256==i)break;{let t=u+i-254;if(i>264){const n=x.q[i-257];t=u+(n>>>3)+v(e,p,7&n),p+=7&n}const r=a[y(e,p)&d];p+=15&r;const o=r>>>4,s=x.c[o],h=(s>>>4)+m(e,p,15&s);for(p+=15&s;u<t;)n[u]=n[u++-h],n[u]=n[u++-h],n[u]=n[u++-h],n[u]=n[u++-h];u=t}}}}else{0!=(7&p)&&(p+=8-(7&p));const r=4+(p>>>3),a=e[r-4]|e[r-3]<<8;E&&(n=t.H.W(n,u+a)),n.set(new i(e.buffer,e.byteOffset+r,a),u),p=r+a<<3,u+=a}return n.length==u?n:n.slice(0,u)},t.H.W=function(t,e){const n=t.length;if(e<=n)return t;const i=new Uint8Array(n<<1);return i.set(t,0),i},t.H.R=function(e,n,i,r,a,o){const s=t.H.e,h=t.H.Z;let c=0;for(;c<i;){const t=e[h(r,a)&n];a+=15&t;const i=t>>>4;if(i<=15)o[c]=i,c++;else{let t=0,e=0;16==i?(e=3+s(r,a,2),a+=2,t=o[c-1]):17==i?(e=3+s(r,a,3),a+=3):18==i&&(e=11+s(r,a,7),a+=7);const n=c+e;for(;c<n;)o[c]=t,c++}}return a},t.H.V=function(t,e,n,i){let r=0,a=0;const o=i.length>>>1;for(;a<n;){const n=t[a+e];i[a<<1]=0,i[1+(a<<1)]=n,n>r&&(r=n),a++}for(;a<o;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return r},t.H.n=function(e,n){const i=t.H.m,r=e.length;let a,o,s,h;const c=i.j;for(var l=0;l<=n;l++)c[l]=0;for(l=1;l<r;l+=2)c[e[l]]++;const f=i.K;for(a=0,c[0]=0,o=1;o<=n;o++)a=a+c[o-1]<<1,f[o]=a;for(s=0;s<r;s+=2)h=e[s+1],0!=h&&(e[s]=f[h],f[h]++)},t.H.A=function(e,n,i){const r=e.length,a=t.H.m.r;for(let t=0;t<r;t+=2)if(0!=e[t+1]){const r=t>>1,o=e[t+1],s=r<<4|o,h=n-o;let c=e[t]<<h;const l=c+(1<<h);for(;c!=l;)i[a[c]>>>15-n]=s,c++}},t.H.l=function(e,n){const i=t.H.m.r,r=15-n;for(let t=0;t<e.length;t+=2){const a=e[t]<<n-e[t+1];e[t]=i[a]>>>r}},t.H.M=function(t,e,n){n<<=7&e;const i=e>>>3;t[i]|=n,t[i+1]|=n>>>8},t.H.I=function(t,e,n){n<<=7&e;const i=e>>>3;t[i]|=n,t[i+1]|=n>>>8,t[i+2]|=n>>>16},t.H.e=function(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<n)-1},t.H.b=function(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<n)-1},t.H.Z=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)},t.H.i=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16|t[3+(e>>>3)]<<24)>>>(7&e)},t.H.m=function(){const t=Uint16Array,e=Uint32Array;return{K:new t(16),j:new t(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new t(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new e(32),J:new t(512),_:[],h:new t(32),$:[],w:new t(32768),C:[],v:[],d:new t(32768),D:[],u:new t(512),Q:[],r:new t(32768),s:new e(286),Y:new e(30),a:new e(19),t:new e(15e3),k:new t(65536),g:new t(32768)}}(),function(){const e=t.H.m;for(var n=0;n<32768;n++){let t=n;t=(2863311530&t)>>>1|(1431655765&t)<<1,t=(3435973836&t)>>>2|(858993459&t)<<2,t=(4042322160&t)>>>4|(252645135&t)<<4,t=(4278255360&t)>>>8|(16711935&t)<<8,e.r[n]=(t>>>16|t<<16)>>>17}function i(t,e,n){for(;0!=e--;)t.push(0,n)}for(n=0;n<32;n++)e.q[n]=e.S[n]<<3|e.T[n],e.c[n]=e.p[n]<<4|e.z[n];i(e._,144,8),i(e._,112,9),i(e._,24,7),i(e._,8,8),t.H.n(e._,9),t.H.A(e._,9,e.J),t.H.l(e._,9),i(e.$,32,5),t.H.n(e.$,5),t.H.A(e.$,5,e.h),t.H.l(e.$,5),i(e.Q,19,0),i(e.C,286,0),i(e.D,30,0),i(e.v,320,0)}(),t.H.N}();function a(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth}function o(t,e,n,i,r){let o=a(e);const h=Math.ceil(i*o/8);let c,l;o=Math.ceil(o/8);let f=t[n],d=0;if(f>1&&(t[n]=[0,0,1][f-2]),3==f)for(d=o;d<h;d++)t[d+1]=t[d+1]+(t[d+1-o]>>>1)&255;for(let a=0;a<r;a++)if(c=n+a*h,l=c+a+1,f=t[l-1],d=0,0==f)for(;d<h;d++)t[c+d]=t[l+d];else if(1==f){for(;d<o;d++)t[c+d]=t[l+d];for(;d<h;d++)t[c+d]=t[l+d]+t[c+d-o]}else if(2==f)for(;d<h;d++)t[c+d]=t[l+d]+t[c+d-h];else if(3==f){for(;d<o;d++)t[c+d]=t[l+d]+(t[c+d-h]>>>1);for(;d<h;d++)t[c+d]=t[l+d]+(t[c+d-h]+t[c+d-o]>>>1)}else{for(;d<o;d++)t[c+d]=t[l+d]+s(0,t[c+d-h],0);for(;d<h;d++)t[c+d]=t[l+d]+s(t[c+d-o],t[c+d-h],t[c+d-o-h])}return t}function s(t,e,n){const i=t+e-n,r=i-t,a=i-e,o=i-n;return r*r<=a*a&&r*r<=o*o?t:a*a<=o*o?e:n}function h(e,n,i){i.width=t.readUint(e,n),n+=4,i.height=t.readUint(e,n),n+=4,i.depth=e[n],n++,i.ctype=e[n],n++,i.compress=e[n],n++,i.filter=e[n],n++,i.interlace=e[n],n++}function c(t,e,n,i,r,a,o,s,h){const c=Math.min(e,r),l=Math.min(n,a);let f=0,d=0;for(let y=0;y<l;y++)for(let n=0;n<c;n++)if(o>=0&&s>=0?(f=y*e+n<<2,d=(s+y)*r+o+n<<2):(f=(-s+y)*e-o+n<<2,d=y*r+n<<2),0==h)i[d]=t[f],i[d+1]=t[f+1],i[d+2]=t[f+2],i[d+3]=t[f+3];else if(1==h){var u=t[f+3]*(1/255),p=t[f]*u,g=t[f+1]*u,m=t[f+2]*u,v=i[d+3]*(1/255),w=i[d]*v,b=i[d+1]*v,A=i[d+2]*v;const e=1-u,n=u+v*e,r=0==n?0:1/n;i[d+3]=255*n,i[d+0]=(p+w*e)*r,i[d+1]=(g+b*e)*r,i[d+2]=(m+A*e)*r}else if(2==h)u=t[f+3],p=t[f],g=t[f+1],m=t[f+2],v=i[d+3],w=i[d],b=i[d+1],A=i[d+2],u==v&&p==w&&g==b&&m==A?(i[d]=0,i[d+1]=0,i[d+2]=0,i[d+3]=0):(i[d]=p,i[d+1]=g,i[d+2]=m,i[d+3]=u);else if(3==h){if(u=t[f+3],p=t[f],g=t[f+1],m=t[f+2],v=i[d+3],w=i[d],b=i[d+1],A=i[d+2],u==v&&p==w&&g==b&&m==A)continue;if(u<220&&v>20)return!1}return!0}return{decode:function(e){const a=new Uint8Array(e);let o=8;const s=t,c=s.readUshort,l=s.readUint,f={tabs:{},frames:[]},d=new Uint8Array(a.length);let u,p=0,g=0;const m=[137,80,78,71,13,10,26,10];for(var v=0;v<8;v++)if(a[v]!=m[v])throw"The input is not a PNG file!";for(;o<a.length;){const e=s.readUint(a,o);o+=4;const m=s.readASCII(a,o,4);if(o+=4,"IHDR"==m)h(a,o,f);else if("iCCP"==m){for(var w=o;0!=a[w];)w++;s.readASCII(a,o,w-o),a[w+1];const n=a.slice(w+2,o+e);let h=null;try{h=i(n)}catch(t){h=r(n)}f.tabs[m]=h}else if("CgBI"==m)f.tabs[m]=a.slice(o,o+4);else if("IDAT"==m){for(v=0;v<e;v++)d[p+v]=a[o+v];p+=e}else if("acTL"==m)f.tabs[m]={num_frames:l(a,o),num_plays:l(a,o+4)},u=new Uint8Array(a.length);else if("fcTL"==m){0!=g&&((M=f.frames[f.frames.length-1]).data=n(f,u.slice(0,g),M.rect.width,M.rect.height),g=0);const t={x:l(a,o+12),y:l(a,o+16),width:l(a,o+4),height:l(a,o+8)};let e=c(a,o+22);e=c(a,o+20)/(0==e?100:e);const i={rect:t,delay:Math.round(1e3*e),dispose:a[o+24],blend:a[o+25]};f.frames.push(i)}else if("fdAT"==m){for(v=0;v<e-4;v++)u[g+v]=a[o+v+4];g+=e-4}else if("pHYs"==m)f.tabs[m]=[s.readUint(a,o),s.readUint(a,o+4),a[o+8]];else if("cHRM"==m)for(f.tabs[m]=[],v=0;v<8;v++)f.tabs[m].push(s.readUint(a,o+4*v));else if("tEXt"==m||"zTXt"==m){null==f.tabs[m]&&(f.tabs[m]={});var b=s.nextZero(a,o),A=s.readASCII(a,o,b-o),y=o+e-b-1;if("tEXt"==m)E=s.readASCII(a,b+1,y);else{var x=i(a.slice(b+2,b+2+y));E=s.readUTF8(x,0,x.length)}f.tabs[m][A]=E}else if("iTXt"==m){null==f.tabs[m]&&(f.tabs[m]={}),b=0,w=o,b=s.nextZero(a,w),A=s.readASCII(a,w,b-w);const t=a[w=b+1];var E;a[w+1],w+=2,b=s.nextZero(a,w),s.readASCII(a,w,b-w),w=b+1,b=s.nextZero(a,w),s.readUTF8(a,w,b-w),y=e-((w=b+1)-o),0==t?E=s.readUTF8(a,w,y):(x=i(a.slice(w,w+y)),E=s.readUTF8(x,0,x.length)),f.tabs[m][A]=E}else if("PLTE"==m)f.tabs[m]=s.readBytes(a,o,e);else if("hIST"==m){const t=f.tabs.PLTE.length/3;for(f.tabs[m]=[],v=0;v<t;v++)f.tabs[m].push(c(a,o+2*v))}else if("tRNS"==m)3==f.ctype?f.tabs[m]=s.readBytes(a,o,e):0==f.ctype?f.tabs[m]=c(a,o):2==f.ctype&&(f.tabs[m]=[c(a,o),c(a,o+2),c(a,o+4)]);else if("gAMA"==m)f.tabs[m]=s.readUint(a,o)/1e5;else if("sRGB"==m)f.tabs[m]=a[o];else if("bKGD"==m)0==f.ctype||4==f.ctype?f.tabs[m]=[c(a,o)]:2==f.ctype||6==f.ctype?f.tabs[m]=[c(a,o),c(a,o+2),c(a,o+4)]:3==f.ctype&&(f.tabs[m]=a[o]);else if("IEND"==m)break;o+=e,s.readUint(a,o),o+=4}var M;return 0!=g&&((M=f.frames[f.frames.length-1]).data=n(f,u.slice(0,g),M.rect.width,M.rect.height)),f.data=n(f,d,f.width,f.height),delete f.compress,delete f.interlace,delete f.filter,f},toRGBA8:function(t){const n=t.width,i=t.height;if(null==t.tabs.acTL)return[e(t.data,n,i,t).buffer];const r=[];null==t.frames[0].data&&(t.frames[0].data=t.data);const a=n*i*4,o=new Uint8Array(a),s=new Uint8Array(a),h=new Uint8Array(a);for(let f=0;f<t.frames.length;f++){const d=t.frames[f],u=d.rect.x,p=d.rect.y,g=d.rect.width,m=d.rect.height,v=e(d.data,g,m,t);if(0!=f)for(var l=0;l<a;l++)h[l]=o[l];if(0==d.blend?c(v,g,m,o,n,i,u,p,0):1==d.blend&&c(v,g,m,o,n,i,u,p,1),r.push(o.buffer.slice(0)),0==d.dispose);else if(1==d.dispose)c(s,g,m,o,n,i,u,p,0);else if(2==d.dispose)for(l=0;l<a;l++)o[l]=h[l]}return r},_paeth:s,_copyTile:c,_bin:t}}();!function(){const{_copyTile:t}=h,{_bin:e}=h,n=h._paeth;var i={table:function(){const t=new Uint32Array(256);for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}(),update(t,e,n,r){for(let a=0;a<r;a++)t=i.table[255&(t^e[n+a])]^t>>>8;return t},crc:(t,e,n)=>4294967295^i.update(4294967295,t,e,n)};function r(t,e,n,i){e[n]+=t[0]*i>>4,e[n+1]+=t[1]*i>>4,e[n+2]+=t[2]*i>>4,e[n+3]+=t[3]*i>>4}function a(t){return Math.max(0,Math.min(255,t))}function o(t,e){const n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],a=t[3]-e[3];return n*n+i*i+r*r+a*a}function c(t,e,n,i,s,h,c){null==c&&(c=1);const l=i.length,f=[];for(var d=0;d<l;d++){const t=i[d];f.push([t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255])}for(d=0;d<l;d++){let t=4294967295;for(var u=0,p=0;p<l;p++){var g=o(f[d],f[p]);p!=d&&g<t&&(t=g,u=p)}}const m=new Uint32Array(s.buffer),v=new Int16Array(e*n*4),w=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(d=0;d<w.length;d++)w[d]=255*((w[d]+.5)/16-.5);for(let A=0;A<n;A++)for(let s=0;s<e;s++){var b;d=4*(A*e+s),2!=c?b=[a(t[d]+v[d]),a(t[d+1]+v[d+1]),a(t[d+2]+v[d+2]),a(t[d+3]+v[d+3])]:(g=w[4*(3&A)+(3&s)],b=[a(t[d]+g),a(t[d+1]+g),a(t[d+2]+g),a(t[d+3]+g)]),u=0;let y=16777215;for(p=0;p<l;p++){const t=o(b,f[p]);t<y&&(y=t,u=p)}const x=f[u],E=[b[0]-x[0],b[1]-x[1],b[2]-x[2],b[3]-x[3]];1==c&&(s!=e-1&&r(E,v,d+4,7),A!=n-1&&(0!=s&&r(E,v,d+4*e-4,3),r(E,v,d+4*e,5),s!=e-1&&r(E,v,d+4*e+4,1))),h[d>>2]=u,m[d>>2]=i[u]}}function l(t,n,r,a,o){null==o&&(o={});const{crc:s}=i,h=e.writeUint,c=e.writeUshort,l=e.writeASCII;let f=8;const d=t.frames.length>1;let u,p=!1,g=33+(d?20:0);if(null!=o.sRGB&&(g+=13),null!=o.pHYs&&(g+=21),null!=o.iCCP&&(u=pako.deflate(o.iCCP),g+=21+u.length+4),3==t.ctype){for(var m=t.plte.length,v=0;v<m;v++)t.plte[v]>>>24!=255&&(p=!0);g+=8+3*m+4+(p?8+1*m+4:0)}for(var w=0;w<t.frames.length;w++)d&&(g+=38),g+=(x=t.frames[w]).cimg.length+12,0!=w&&(g+=4);g+=12;const b=new Uint8Array(g),A=[137,80,78,71,13,10,26,10];for(v=0;v<8;v++)b[v]=A[v];if(h(b,f,13),f+=4,l(b,f,"IHDR"),f+=4,h(b,f,n),f+=4,h(b,f,r),f+=4,b[f]=t.depth,f++,b[f]=t.ctype,f++,b[f]=0,f++,b[f]=0,f++,b[f]=0,f++,h(b,f,s(b,f-17,17)),f+=4,null!=o.sRGB&&(h(b,f,1),f+=4,l(b,f,"sRGB"),f+=4,b[f]=o.sRGB,f++,h(b,f,s(b,f-5,5)),f+=4),null!=o.iCCP){const t=13+u.length;h(b,f,t),f+=4,l(b,f,"iCCP"),f+=4,l(b,f,"ICC profile"),f+=11,f+=2,b.set(u,f),f+=u.length,h(b,f,s(b,f-(t+4),t+4)),f+=4}if(null!=o.pHYs&&(h(b,f,9),f+=4,l(b,f,"pHYs"),f+=4,h(b,f,o.pHYs[0]),f+=4,h(b,f,o.pHYs[1]),f+=4,b[f]=o.pHYs[2],f++,h(b,f,s(b,f-13,13)),f+=4),d&&(h(b,f,8),f+=4,l(b,f,"acTL"),f+=4,h(b,f,t.frames.length),f+=4,h(b,f,null!=o.loop?o.loop:0),f+=4,h(b,f,s(b,f-12,12)),f+=4),3==t.ctype){for(h(b,f,3*(m=t.plte.length)),f+=4,l(b,f,"PLTE"),f+=4,v=0;v<m;v++){const e=3*v,n=t.plte[v],i=255&n,r=n>>>8&255,a=n>>>16&255;b[f+e+0]=i,b[f+e+1]=r,b[f+e+2]=a}if(f+=3*m,h(b,f,s(b,f-3*m-4,3*m+4)),f+=4,p){for(h(b,f,m),f+=4,l(b,f,"tRNS"),f+=4,v=0;v<m;v++)b[f+v]=t.plte[v]>>>24&255;f+=m,h(b,f,s(b,f-m-4,m+4)),f+=4}}let y=0;for(w=0;w<t.frames.length;w++){var x=t.frames[w];d&&(h(b,f,26),f+=4,l(b,f,"fcTL"),f+=4,h(b,f,y++),f+=4,h(b,f,x.rect.width),f+=4,h(b,f,x.rect.height),f+=4,h(b,f,x.rect.x),f+=4,h(b,f,x.rect.y),f+=4,c(b,f,a[w]),f+=2,c(b,f,1e3),f+=2,b[f]=x.dispose,f++,b[f]=x.blend,f++,h(b,f,s(b,f-30,30)),f+=4);const e=x.cimg;h(b,f,(m=e.length)+(0==w?0:4)),f+=4;const n=f;l(b,f,0==w?"IDAT":"fdAT"),f+=4,0!=w&&(h(b,f,y++),f+=4),b.set(e,f),f+=m,h(b,f,s(b,n,f-n)),f+=4}return h(b,f,0),f+=4,l(b,f,"IEND"),f+=4,h(b,f,s(b,f-4,4)),f+=4,b.buffer}function f(t,e,n){for(let i=0;i<t.frames.length;i++){const r=t.frames[i];r.rect.width;const a=r.rect.height,o=new Uint8Array(a*r.bpl+a);r.cimg=g(r.img,a,r.bpp,r.bpl,o,e,n)}}function d(e,n,i,r,a){const o=a[0],s=a[1],h=a[2],l=a[3],f=a[4],d=a[5];let g=6,m=8,w=255;for(var b=0;b<e.length;b++){const t=new Uint8Array(e[b]);for(var A=t.length,y=0;y<A;y+=4)w&=t[y+3]}const x=255!=w,E=function(e,n,i,r,a,o){const s=[];for(var h=0;h<e.length;h++){const f=new Uint8Array(e[h]),u=new Uint32Array(f.buffer);var c;let g=0,m=0,v=n,w=i,b=r?1:0;if(0!=h){const A=o||r||1==h||0!=s[h-2].dispose?1:2;let y=0,x=1e9;for(let t=0;t<A;t++){var l=new Uint8Array(e[h-1-t]);const r=new Uint32Array(e[h-1-t]);let o=n,s=i,c=-1,f=-1;for(let t=0;t<i;t++)for(let e=0;e<n;e++)u[d=t*n+e]!=r[d]&&(e<o&&(o=e),e>c&&(c=e),t<s&&(s=t),t>f&&(f=t));-1==c&&(o=s=c=f=0),a&&(1==(1&o)&&o--,1==(1&s)&&s--);const p=(c-o+1)*(f-s+1);p<x&&(x=p,y=t,g=o,m=s,v=c-o+1,w=f-s+1)}l=new Uint8Array(e[h-1-y]),1==y&&(s[h-1].dispose=2),c=new Uint8Array(v*w*4),t(l,n,i,c,v,w,-g,-m,0),b=t(f,n,i,c,v,w,-g,-m,3)?1:0,1==b?p(f,n,i,c,{x:g,y:m,width:v,height:w}):t(f,n,i,c,v,w,-g,-m,0)}else c=f.slice(0);s.push({rect:{x:g,y:m,width:v,height:w},img:c,blend:b,dispose:0})}if(r)for(h=0;h<s.length;h++){if(1==(g=s[h]).blend)continue;const t=g.rect,r=s[h-1].rect,o=Math.min(t.x,r.x),c=Math.min(t.y,r.y),l={x:o,y:c,width:Math.max(t.x+t.width,r.x+r.width)-o,height:Math.max(t.y+t.height,r.y+r.height)-c};s[h-1].dispose=1,h-1!=0&&u(e,n,i,s,h-1,l,a),u(e,n,i,s,h,l,a)}let f=0;if(1!=e.length)for(var d=0;d<s.length;d++){var g;f+=(g=s[d]).rect.width*g.rect.height}return s}(e,n,i,o,s,h),M={},C=[],B=[];if(0!=r){const t=[];for(y=0;y<E.length;y++)t.push(E[y].img.buffer);const e=function(t){let e=0;for(var n=0;n<t.length;n++)e+=t[n].byteLength;const i=new Uint8Array(e);let r=0;for(n=0;n<t.length;n++){const e=new Uint8Array(t[n]),a=e.length;for(let t=0;t<a;t+=4){let n=e[t],a=e[t+1],o=e[t+2];const s=e[t+3];0==s&&(n=a=o=0),i[r+t]=n,i[r+t+1]=a,i[r+t+2]=o,i[r+t+3]=s}r+=a}return i.buffer}(t),n=v(e,r);for(y=0;y<n.plte.length;y++)C.push(n.plte[y].est.rgba);let i=0;for(y=0;y<E.length;y++){const t=(D=E[y]).img.length;var U=new Uint8Array(n.inds.buffer,i>>2,t>>2);B.push(U);const e=new Uint8Array(n.abuf,i,t);d&&c(D.img,D.rect.width,D.rect.height,C,e,U),D.img.set(e),i+=t}}else for(b=0;b<E.length;b++){var D=E[b];const t=new Uint32Array(D.img.buffer);var F=D.rect.width;for(A=t.length,U=new Uint8Array(A),B.push(U),y=0;y<A;y++){const e=t[y];if(0!=y&&e==t[y-1])U[y]=U[y-1];else if(y>F&&e==t[y-F])U[y]=U[y-F];else{let t=M[e];if(null==t&&(M[e]=t=C.length,C.push(e),C.length>=300))break;U[y]=t}}}const T=C.length;for(T<=256&&0==f&&(m=T<=2?1:T<=4?2:T<=16?4:8,m=Math.max(m,l)),b=0;b<E.length;b++){(D=E[b]).rect.x,D.rect.y,F=D.rect.width;const t=D.rect.height;let e=D.img;new Uint32Array(e.buffer);let n=4*F,i=4;if(T<=256&&0==f){n=Math.ceil(m*F/8);var O=new Uint8Array(n*t);const r=B[b];for(let e=0;e<t;e++){y=e*n;const t=e*F;if(8==m)for(var k=0;k<F;k++)O[y+k]=r[t+k];else if(4==m)for(k=0;k<F;k++)O[y+(k>>1)]|=r[t+k]<<4-4*(1&k);else if(2==m)for(k=0;k<F;k++)O[y+(k>>2)]|=r[t+k]<<6-2*(3&k);else if(1==m)for(k=0;k<F;k++)O[y+(k>>3)]|=r[t+k]<<7-1*(7&k)}e=O,g=3,i=1}else if(0==x&&1==E.length){O=new Uint8Array(F*t*3);const r=F*t;for(y=0;y<r;y++){const t=3*y,n=4*y;O[t]=e[n],O[t+1]=e[n+1],O[t+2]=e[n+2]}e=O,g=2,i=3,n=3*F}D.img=e,D.bpl=n,D.bpp=i}return{ctype:g,depth:m,plte:C,frames:E}}function u(e,n,i,r,a,o,s){const h=Uint8Array,c=Uint32Array,l=new h(e[a-1]),f=new c(e[a-1]),d=a+1<e.length?new h(e[a+1]):null,u=new h(e[a]),g=new c(u.buffer);let m=n,v=i,w=-1,b=-1;for(let t=0;t<o.height;t++)for(let e=0;e<o.width;e++){const i=o.x+e,s=o.y+t,h=s*n+i,c=g[h];0==c||0==r[a-1].dispose&&f[h]==c&&(null==d||0!=d[4*h+3])||(i<m&&(m=i),i>w&&(w=i),s<v&&(v=s),s>b&&(b=s))}-1==w&&(m=v=w=b=0),s&&(1==(1&m)&&m--,1==(1&v)&&v--),o={x:m,y:v,width:w-m+1,height:b-v+1};const A=r[a];A.rect=o,A.blend=1,A.img=new Uint8Array(o.width*o.height*4),0==r[a-1].dispose?(t(l,n,i,A.img,o.width,o.height,-o.x,-o.y,0),p(u,n,i,A.img,o)):t(u,n,i,A.img,o.width,o.height,-o.x,-o.y,0)}function p(e,n,i,r,a){t(e,n,i,r,a.width,a.height,-a.x,-a.y,2)}function g(t,e,n,i,r,a,o){const h=[];let c,l=[0,1,2,3,4];-1!=a?l=[a]:(e*i>5e5||1==n)&&(l=[0]),o&&(c={level:0});const f=s;for(var d=0;d<l.length;d++){for(let a=0;a<e;a++)m(r,t,a,i,n,l[d]);h.push(f.deflate(r,c))}let u,p=1e9;for(d=0;d<h.length;d++)h[d].length<p&&(u=d,p=h[d].length);return h[u]}function m(t,e,i,r,a,o){const s=i*r;let h=s+i;if(t[h]=o,h++,0==o)if(r<500)for(var c=0;c<r;c++)t[h+c]=e[s+c];else t.set(new Uint8Array(e.buffer,s,r),h);else if(1==o){for(c=0;c<a;c++)t[h+c]=e[s+c];for(c=a;c<r;c++)t[h+c]=e[s+c]-e[s+c-a]+256&255}else if(0==i){for(c=0;c<a;c++)t[h+c]=e[s+c];if(2==o)for(c=a;c<r;c++)t[h+c]=e[s+c];if(3==o)for(c=a;c<r;c++)t[h+c]=e[s+c]-(e[s+c-a]>>1)+256&255;if(4==o)for(c=a;c<r;c++)t[h+c]=e[s+c]-n(e[s+c-a],0,0)+256&255}else{if(2==o)for(c=0;c<r;c++)t[h+c]=e[s+c]+256-e[s+c-r]&255;if(3==o){for(c=0;c<a;c++)t[h+c]=e[s+c]+256-(e[s+c-r]>>1)&255;for(c=a;c<r;c++)t[h+c]=e[s+c]+256-(e[s+c-r]+e[s+c-a]>>1)&255}if(4==o){for(c=0;c<a;c++)t[h+c]=e[s+c]+256-n(0,e[s+c-r],0)&255;for(c=a;c<r;c++)t[h+c]=e[s+c]+256-n(e[s+c-a],e[s+c-r],e[s+c-a-r])&255}}}function v(t,e){const n=new Uint8Array(t),i=n.slice(0),r=new Uint32Array(i.buffer),a=w(i,e),o=a[0],s=a[1],h=n.length,c=new Uint8Array(h>>2);let l;if(n.length<2e7)for(var f=0;f<h;f+=4)l=b(o,d=n[f]*(1/255),u=n[f+1]*(1/255),p=n[f+2]*(1/255),g=n[f+3]*(1/255)),c[f>>2]=l.ind,r[f>>2]=l.est.rgba;else for(f=0;f<h;f+=4){var d=n[f]*(1/255),u=n[f+1]*(1/255),p=n[f+2]*(1/255),g=n[f+3]*(1/255);for(l=o;l.left;)l=A(l.est,d,u,p,g)<=0?l.left:l.right;c[f>>2]=l.ind,r[f>>2]=l.est.rgba}return{abuf:i.buffer,inds:c,plte:s}}function w(t,e,n){null==n&&(n=1e-4);const i=new Uint32Array(t.buffer),r={i0:0,i1:t.length,bst:null,est:null,tdst:0,left:null,right:null};r.bst=E(t,r.i0,r.i1),r.est=M(r.bst);const a=[r];for(;a.length<e;){let e=0,r=0;for(var o=0;o<a.length;o++)a[o].est.L>e&&(e=a[o].est.L,r=o);if(e<n)break;const s=a[r],h=y(t,i,s.i0,s.i1,s.est.e,s.est.eMq255);if(s.i0>=h||s.i1<=h){s.est.L=0;continue}const c={i0:s.i0,i1:h,bst:null,est:null,tdst:0,left:null,right:null};c.bst=E(t,c.i0,c.i1),c.est=M(c.bst);const l={i0:h,i1:s.i1,bst:null,est:null,tdst:0,left:null,right:null};for(l.bst={R:[],m:[],N:s.bst.N-c.bst.N},o=0;o<16;o++)l.bst.R[o]=s.bst.R[o]-c.bst.R[o];for(o=0;o<4;o++)l.bst.m[o]=s.bst.m[o]-c.bst.m[o];l.est=M(l.bst),s.left=c,s.right=l,a[r]=c,a.push(l)}for(a.sort(((t,e)=>e.bst.N-t.bst.N)),o=0;o<a.length;o++)a[o].ind=o;return[r,a]}function b(t,e,n,i,r){if(null==t.left)return t.tdst=function(t,e,n,i,r){const a=e-t[0],o=n-t[1],s=i-t[2],h=r-t[3];return a*a+o*o+s*s+h*h}(t.est.q,e,n,i,r),t;const a=A(t.est,e,n,i,r);let o=t.left,s=t.right;a>0&&(o=t.right,s=t.left);const h=b(o,e,n,i,r);if(h.tdst<=a*a)return h;const c=b(s,e,n,i,r);return c.tdst<h.tdst?c:h}function A(t,e,n,i,r){const{e:a}=t;return a[0]*e+a[1]*n+a[2]*i+a[3]*r-t.eMq}function y(t,e,n,i,r,a){for(i-=4;n<i;){for(;x(t,n,r)<=a;)n+=4;for(;x(t,i,r)>a;)i-=4;if(n>=i)break;const o=e[n>>2];e[n>>2]=e[i>>2],e[i>>2]=o,n+=4,i-=4}for(;x(t,n,r)>a;)n-=4;return n+4}function x(t,e,n){return t[e]*n[0]+t[e+1]*n[1]+t[e+2]*n[2]+t[e+3]*n[3]}function E(t,e,n){const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0],a=n-e>>2;for(let o=e;o<n;o+=4){const e=t[o]*(1/255),n=t[o+1]*(1/255),a=t[o+2]*(1/255),s=t[o+3]*(1/255);r[0]+=e,r[1]+=n,r[2]+=a,r[3]+=s,i[0]+=e*e,i[1]+=e*n,i[2]+=e*a,i[3]+=e*s,i[5]+=n*n,i[6]+=n*a,i[7]+=n*s,i[10]+=a*a,i[11]+=a*s,i[15]+=s*s}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:r,N:a}}function M(t){const{R:e}=t,{m:n}=t,{N:i}=t,r=n[0],a=n[1],o=n[2],s=n[3],h=0==i?0:1/i,c=[e[0]-r*r*h,e[1]-r*a*h,e[2]-r*o*h,e[3]-r*s*h,e[4]-a*r*h,e[5]-a*a*h,e[6]-a*o*h,e[7]-a*s*h,e[8]-o*r*h,e[9]-o*a*h,e[10]-o*o*h,e[11]-o*s*h,e[12]-s*r*h,e[13]-s*a*h,e[14]-s*o*h,e[15]-s*s*h],l=c,f=C;let d=[Math.random(),Math.random(),Math.random(),Math.random()],u=0,p=0;if(0!=i)for(let m=0;m<16&&(d=f.multVec(l,d),p=Math.sqrt(f.dot(d,d)),d=f.sml(1/p,d),!(0!=m&&Math.abs(p-u)<1e-9));m++)u=p;const g=[r*h,a*h,o*h,s*h];return{Cov:c,q:g,e:d,L:u,eMq255:f.dot(f.sml(255,g),d),eMq:f.dot(d,g),rgba:(Math.round(255*g[3])<<24|Math.round(255*g[2])<<16|Math.round(255*g[1])<<8|Math.round(255*g[0]))>>>0}}var C={multVec:(t,e)=>[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]],dot:(t,e)=>t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],sml:(t,e)=>[t*e[0],t*e[1],t*e[2],t*e[3]]};h.encode=function(t,e,n,i,r,a,o){null==i&&(i=0),null==o&&(o=!1);const s=d(t,e,n,i,[!1,!1,!1,0,o,!1]);return f(s,-1),l(s,e,n,r,a)},h.encodeLL=function(t,e,n,i,r,a,o,s){const h={ctype:0+(1==i?0:2)+(0==r?0:4),depth:a,frames:[]},c=(i+r)*a,d=c*e;for(let l=0;l<t.length;l++)h.frames.push({rect:{x:0,y:0,width:e,height:n},img:new Uint8Array(t[l]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(d/8)});return f(h,0,!0),l(h,e,n,o,s)},h.encode.compress=d,h.encode.dither=c,h.quantize=v,h.quantize.getKDtree=w,h.quantize.getNearest=b}();const c={toArrayBuffer(t,e){const n=t.width,i=t.height,r=n<<2,a=t.getContext("2d").getImageData(0,0,n,i),o=new Uint32Array(a.data.buffer),s=(32*n+31)/32<<2,h=s*i,l=122+h,f=new ArrayBuffer(l),d=new DataView(f),u=1<<20;let p,g,m,v,w=u,b=0,A=0,y=0;function x(t){d.setUint16(A,t,!0),A+=2}function E(t){d.setUint32(A,t,!0),A+=4}function M(t){A+=t}x(19778),E(l),M(4),E(122),E(108),E(n),E(-i>>>0),x(1),x(32),E(3),E(h),E(2835),E(2835),M(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function t(){for(;b<i&&w>0;){for(v=122+b*s,p=0;p<r;)w--,g=o[y++],m=g>>>24,d.setUint32(v+p,g<<8|m),p+=4;b++}y<o.length?(w=u,setTimeout(t,c._dly)):e(f)}()},toBlob(t,e){this.toArrayBuffer(t,(t=>{e(new Blob([t],{type:"image/bmp"}))}))},_dly:9};var l={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},f={[l.CHROME]:16384,[l.FIREFOX]:11180,[l.DESKTOP_SAFARI]:16384,[l.IE]:8192,[l.IOS]:4096,[l.ETC]:8192};const d="undefined"!=typeof window,u="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,p=d&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),g=(d||u)&&(p&&p.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),m=(d||u)&&(p&&p.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function v(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise((i=>{const r=t.split(","),a=r[0].match(/:(.*?);/)[1],o=globalThis.atob(r[1]);let s=o.length;const h=new Uint8Array(s);for(;s--;)h[s]=o.charCodeAt(s);const c=new Blob([h],{type:a});c.name=e,c.lastModified=n,i(c)}))}function w(t){return new Promise(((e,n)=>{const i=new m;i.onload=()=>e(i.result),i.onerror=t=>n(t),i.readAsDataURL(t)}))}function b(t){return new Promise(((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=t=>n(t),i.src=t}))}function A(){if(void 0!==A.cachedResult)return A.cachedResult;let t=l.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=l.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=l.IOS:/Safari/i.test(e)?t=l.DESKTOP_SAFARI:/Firefox/i.test(e)?t=l.FIREFOX:(/MSIE/i.test(e)||1==!!document.documentMode)&&(t=l.IE),A.cachedResult=t,A.cachedResult}function y(t,e){const n=A(),i=f[n];let r=t,a=e,o=r*a;const s=r>a?a/r:r/a;for(;o>i*i;){const t=(i+r)/2,e=(i+a)/2;t<e?(a=e,r=e*s):(a=t*s,r=t),o=r*a}return{width:r,height:a}}function x(t,e){let n,i;try{if(n=new OffscreenCanvas(t,e),i=n.getContext("2d"),null===i)throw new Error("getContext of OffscreenCanvas returns null")}catch(t){n=document.createElement("canvas"),i=n.getContext("2d")}return n.width=t,n.height=e,[n,i]}function E(t,e){const{width:n,height:i}=y(t.width,t.height),[r,a]=x(n,i);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,r.width,r.height)),a.drawImage(t,0,0,r.width,r.height),r}function M(){return void 0!==M.cachedResult||(M.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),M.cachedResult}function C(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){let r,a;var o=function(){try{return a=E(r,e.fileType||t.type),n([r,a])}catch(t){return i(t)}},s=function(e){try{var n=function(t){try{throw t}catch(t){return i(t)}};try{let e;return w(t).then((function(t){try{return e=t,b(e).then((function(t){try{return r=t,function(){try{return o()}catch(t){return i(t)}}()}catch(t){return n(t)}}),n)}catch(t){return n(t)}}),n)}catch(t){n(t)}}catch(t){return i(t)}};try{if(M()||[l.DESKTOP_SAFARI,l.MOBILE_SAFARI].includes(A()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then((function(t){try{return r=t,o()}catch(t){return s()}}),s)}catch(t){s()}}))}function B(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise((function(a,o){let s;if("image/png"===e){let f,d,u;return f=t.getContext("2d"),({data:d}=f.getImageData(0,0,t.width,t.height)),u=h.encode([d.buffer],t.width,t.height,4096*r),s=new Blob([u],{type:e}),s.name=n,s.lastModified=i,l.call(this)}{if("image/bmp"===e)return new Promise((e=>c.toBlob(t,e))).then(function(t){try{return s=t,s.name=n,s.lastModified=i,p.call(this)}catch(t){return o(t)}}.bind(this),o);{if("function"==typeof OffscreenCanvas&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:r}).then(function(t){try{return s=t,s.name=n,s.lastModified=i,g.call(this)}catch(t){return o(t)}}.bind(this),o);{let m;return m=t.toDataURL(e,r),v(m,n,i).then(function(t){try{return s=t,g.call(this)}catch(t){return o(t)}}.bind(this),o)}function g(){return p.call(this)}}function p(){return l.call(this)}}function l(){return a(s)}}))}function U(t){t.width=0,t.height=0}function D(){return new Promise((function(t,e){let n,i,r,a,o;return void 0!==D.cachedResult?t(D.cachedResult):(n="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",v("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(n){try{return i=n,C(i).then((function(n){try{return r=n[1],B(r,i.type,i.name,i.lastModified).then((function(n){try{return a=n,U(r),C(a).then((function(n){try{return o=n[0],D.cachedResult=1===o.width&&2===o.height,t(D.cachedResult)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e))}))}function F(t){return new Promise(((e,n)=>{const i=new m;i.onload=t=>{const n=new DataView(t.target.result);if(65496!=n.getUint16(0,!1))return e(-2);const i=n.byteLength;let r=2;for(;r<i;){if(n.getUint16(r+2,!1)<=8)return e(-1);const t=n.getUint16(r,!1);if(r+=2,65505==t){if(1165519206!=n.getUint32(r+=2,!1))return e(-1);const t=18761==n.getUint16(r+=6,!1);r+=n.getUint32(r+4,t);const i=n.getUint16(r,t);r+=2;for(let a=0;a<i;a++)if(274==n.getUint16(r+12*a,t))return e(n.getUint16(r+12*a+8,t))}else{if(65280!=(65280&t))break;r+=n.getUint16(r,!1)}}return e(-1)},i.onerror=t=>n(t),i.readAsArrayBuffer(t)}))}function T(t,e){const{width:n}=t,{height:i}=t,{maxWidthOrHeight:r}=e;let a,o=t;return isFinite(r)&&(n>r||i>r)&&([o,a]=x(n,i),n>i?(o.width=r,o.height=i/n*r):(o.width=n/i*r,o.height=r),a.drawImage(t,0,0,o.width,o.height),U(t)),o}function O(t,e){const{width:n}=t,{height:i}=t,[r,a]=x(n,i);switch(e>4&&e<9?(r.width=i,r.height=n):(r.width=n,r.height=i),e){case 2:a.transform(-1,0,0,1,n,0);break;case 3:a.transform(-1,0,0,-1,n,i);break;case 4:a.transform(1,0,0,-1,0,i);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,i,0);break;case 7:a.transform(0,-1,-1,0,i,n);break;case 8:a.transform(0,-1,1,0,0,n)}return a.drawImage(t,0,0,n,i),U(t),r}function k(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(i,r){let a,o,s,h,c,l,f,d,u,p,g,m,v,w,b,A,y,E,M,k;function R(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=t,e.onProgress(Math.min(a,100))}function I(t){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(t,a),100),e.onProgress(a)}return a=n,o=e.maxIteration||10,s=1024*e.maxSizeMB*1024,R(),C(t,e).then(function(n){try{return[,h]=n,R(),c=T(h,e),R(),new Promise((function(n,i){var r;if(!(r=e.exifOrientation))return F(t).then(function(t){try{return r=t,a.call(this)}catch(t){return i(t)}}.bind(this),i);function a(){return n(r)}return a.call(this)})).then(function(n){try{return l=n,R(),D().then(function(n){try{return f=n?c:O(c,l),R(),d=e.initialQuality||1,u=e.fileType||t.type,B(f,u,t.name,t.lastModified,d).then(function(n){try{{if(p=n,R(),g=p.size>s,m=p.size>t.size,!g&&!m)return I(100),i(p);var a;function C(){if(o--&&(b>s||b>v)){let e,n;return e=k?.95*M.width:M.width,n=k?.95*M.height:M.height,[y,E]=x(e,n),E.drawImage(M,0,0,e,n),d*="image/png"===u?.85:.95,B(y,u,t.name,t.lastModified,d).then((function(t){try{return A=t,U(M),M=y,b=A.size,I(Math.min(99,Math.floor((w-b)/(w-s)*100))),C}catch(t){return r(t)}}),r)}return[1]}return v=t.size,w=p.size,b=w,M=f,k=!e.alwaysKeepResolution&&g,(a=function(t){for(;t;){if(t.then)return void t.then(a,r);try{if(t.pop){if(t.length)return t.pop()?D.call(this):t;t=C}else t=t.call(this)}catch(t){return r(t)}}}.bind(this))(C);function D(){return U(M),U(y),U(c),U(f),U(h),I(100),i(A)}}}catch(l){return r(l)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}))}const R="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n";let I;function S(t,e){return new Promise(((n,i)=>{I||(I=function(t){const e=[];return"function"==typeof t?e.push("(".concat(t,")()")):e.push(t),URL.createObjectURL(new Blob(e))}(R));const r=new Worker(I);r.addEventListener("message",(function(t){if(e.signal&&e.signal.aborted)r.terminate();else if(void 0===t.data.progress){if(t.data.error)return i(new Error(t.data.error)),void r.terminate();n(t.data.file),r.terminate()}else e.onProgress(t.data.progress)})),r.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",(()=>{i(e.signal.reason),r.terminate()})),r.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function Q(t,e){return new Promise((function(n,r){let a,o,s,h,c,l;if(a={...e},s=0,({onProgress:h}=a),a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,c="boolean"!=typeof a.useWebWorker||a.useWebWorker,delete a.useWebWorker,a.onProgress=t=>{s=t,"function"==typeof h&&h(s)},!(t instanceof Blob||t instanceof g))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(l="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!c||"function"!=typeof Worker||l)return k(t,a).then(function(t){try{return o=t,u.call(this)}catch(t){return r(t)}}.bind(this),r);var f=function(){try{return u.call(this)}catch(t){return r(t)}}.bind(this),d=function(e){try{return k(t,a).then((function(t){try{return o=t,f()}catch(t){return r(t)}}),r)}catch(t){return r(t)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",S(t,a).then((function(t){try{return o=t,f()}catch(t){return d()}}),d)}catch(t){d()}function u(){try{o.name=t.name,o.lastModified=t.lastModified}catch(t){}try{a.preserveExif&&"image/jpeg"===t.type&&(!a.fileType||a.fileType&&a.fileType===t.type)&&(o=i(t,o))}catch(t){}return n(o)}}))}Q.getDataUrlFromFile=w,Q.getFilefromDataUrl=v,Q.loadImage=b,Q.drawImageInCanvas=E,Q.drawFileInCanvas=C,Q.canvasToFile=B,Q.getExifOrientation=F,Q.handleMaxWidthOrHeight=T,Q.followExifOrientation=O,Q.cleanupCanvasMemory=U,Q.isAutoOrientationInBrowser=D,Q.approximateBelowMaximumCanvasSizeOfBrowser=y,Q.copyExifWithoutOrientation=i,Q.getBrowserName=A,Q.version="2.0.2"}}]);
//# sourceMappingURL=317.7c21dc07.chunk.js.map
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[734,777],{777:(n,e,o)=>{o.r(e),o.d(e,{default:()=>u});var i,t,s,r=o(7528),a=o(3216),l=o(197),d=o(579);const c=l.Ay.div(i||(i=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  flex-direction: column;\n  background-color: black;\n  color: rgb(245, 245, 245);\n  white-space: pre-line;\n"]))),x=l.Ay.div(t||(t=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .longshadow {\n    font-size: 12rem;\n    color: #131313;\n    color: gray;\n    text-shadow: 4px 4px 0px #131313, 8px 8px 0px #131313, 12px 12px 0px #131313;\n    text-shadow: 4px 4px 0px gray, 8px 8px 0px gray, 12px 12px 0px gray;\n  }\n\n  .o {\n    color: tomato;\n    text-shadow: 4px 4px 0px tomato, 8px 8px 0px tomato, 12px 12px 0px tomato;\n    text-shadow: 4px 4px 0px tomato, 8px 8px 0px tomato, 12px 12px 0px gray;\n  }\n"]))),p=l.Ay.div(s||(s=(0,r.A)(["\n  color: rgb(224, 241, 255);\n  transition: all 0.3s ease;\n  margin-top: 10rem;\n  cursor: pointer;\n  &:hover {\n    color: rgb(179, 219, 255);\n  }\n"]))),u=n=>{let{text:e}=n;const o=(0,a.Zp)();return(0,d.jsx)(c,{children:e?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(x,{children:e})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(x,{children:[(0,d.jsxs)("span",{className:"longshadow",children:["4",(0,d.jsx)("span",{className:"o",children:"0"}),"4"]}),(0,d.jsx)("span",{children:"\ud398\uc774\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.."})]}),(0,d.jsx)(p,{onClick:()=>{o(-1)},children:"Go back"})]})})}},1760:(n,e,o)=>{o.r(e),o.d(e,{default:()=>Ce});var i=o(7528),t=o(5043),s=o(423),r=o(3216),a=o(197),l=o(5518),d=o(8261),c=o(5818),x=o(8245);const p=n=>{const{data:e,isLoading:o,error:i}=(0,d.I)({queryKey:[x.l.postBookmark,n],queryFn:()=>(async n=>(await c.A.get("/api/posts/bookmark/".concat(n))).data)(n),refetchOnWindowFocus:!1,staleTime:15e3});return{data:e,isLoading:o,error:i}};var u=o(1529),h=o(3401);const m=n=>{const{data:e,isLoading:o,error:i}=(0,d.I)({queryKey:[x.l.postLike,n],queryFn:()=>(async n=>(await c.A.get("/api/posts/like/".concat(n))).data)(n),refetchOnWindowFocus:!1,staleTime:15e3});return(0,t.useEffect)((()=>{i&&h.oR.error("\uac8c\uc2dc\uae00\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}),[i]),{data:e,isLoading:o,error:i}};var g=o(3874),v=o(3026),j=o(777),y=o(7606),k=o(2721),b=o(5051),f=o(3156),w=o(5394),A=o(5475),L=o(831),C=o(5132),N=o(3248),_=o(7097),z=o(780);const I=async n=>{let{postId:e}=n;const o=await c.A.put("/api/posts/bookmark/".concat(e));return"\ub9ac\ud504\ub808\uc2dc \ud1a0\ud070 \ub9cc\ub8cc\ub428"===o.msg&&(h.oR.error("\ub85c\uadf8\uc778 \uae30\ud55c\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694!"),setTimeout((()=>{window.location.reload()}),1200)),o.data},P=(n,e)=>{const o=(0,N.jE)();return(0,_.n)({mutationFn:I,mutationKey:["post-bookmark"],onSuccess:e=>{o.invalidateQueries({queryKey:[x.l.post,n],refetchType:"all"}),o.invalidateQueries({queryKey:[x.l.postBookmark],refetchType:"all"}),o.invalidateQueries({queryKey:[z.h.myBookmark],refetchType:"all"})},onError:n=>{var e;console.log("error:",n),h.oR.error("\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694"),401===(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.status)&&setTimeout((()=>{window.location.reload()}),1200)}})};var F=o(9264),R=o(1207);const T=async n=>{let{postId:e}=n;const o=await c.A.put("/api/posts/like/".concat(e));return"\ub9ac\ud504\ub808\uc2dc \ud1a0\ud070 \ub9cc\ub8cc\ub428"===o.msg&&(h.oR.error("\ub85c\uadf8\uc778 \uae30\ud55c\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694!"),setTimeout((()=>{window.location.reload()}),1200)),o.data},K=(n,e)=>{const o=(0,N.jE)();return(0,_.n)({mutationFn:T,mutationKey:["post-like"],onSuccess:e=>{o.invalidateQueries({queryKey:[x.l.post,n],refetchType:"all"}),o.invalidateQueries({queryKey:[x.l.postLike],refetchType:"all"})},onError:n=>{var e;console.log("error:",n),h.oR.error("\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694"),401===(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.status)&&setTimeout((()=>{window.location.reload()}),1200)}})};var E,$,S,q,B=o(2620),W=o(50),Z=o(4975),Q=(o(4014),o(1493),o(5084),o(9604),o(579));const D=a.Ay.div(E||(E=(0,i.A)(["\n  position: relative;\n"]))),U=a.Ay.div($||($=(0,i.A)(["\n  aspect-ratio: auto 3/4;\n  background-color: black;\n"]))),H=a.Ay.img(S||(S=(0,i.A)(["\n  width: 100%;\n  height: 100%;\n"]))),J=a.Ay.div(q||(q=(0,i.A)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 12px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 20;\n\n  button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 16px 8px;\n    width: 30px;\n    height: 30px;\n    background-color: #beb3b3;\n    background-color: rgb(245, 245, 245);\n    border-radius: 50%;\n  }\n\n  @media (max-width: 375px) {\n    display: none;\n  }\n"]))),M=n=>{let{images:e}=n;const[o,i]=(0,t.useState)();return(0,Q.jsxs)(D,{children:[(0,Q.jsxs)(J,{children:[(0,Q.jsx)("button",{onClick:()=>{o&&o.slidePrev()},className:"prev-btn",children:(0,Q.jsx)(B.xrT,{})}),(0,Q.jsx)("button",{onClick:()=>{o&&o.slideNext()},className:"next-btn",children:(0,Q.jsx)(B.Xor,{})})]}),(0,Q.jsx)(Z.RC,{spaceBetween:0,slidesPerView:1,modules:[W.Vx,W.dK,W.Ze,W.Jq],pagination:{clickable:!0},onSwiper:n=>i(n),children:null===e||void 0===e?void 0:e.map(((n,e)=>(0,Q.jsx)(Z.qr,{children:(0,Q.jsx)(U,{children:(0,Q.jsx)(H,{src:n,alt:"img"})})},e)))})]})};var G,O;const V=a.Ay.div(G||(G=(0,i.A)(["\n  aspect-ratio: auto 3/4;\n  background-color: black;\n  /* height: 100%; */\n"]))),X=a.Ay.img(O||(O=(0,i.A)(["\n  width: 100%;\n  height: 100%;\n"]))),Y=n=>{let{url:e,postLoading:o}=n;return(0,Q.jsx)(V,{children:o?"":1===(null===e||void 0===e?void 0:e.length)?(0,Q.jsx)(X,{src:e[0],alt:"post-img"}):(0,Q.jsx)(M,{images:e})})};var nn,en=o(446),on=o(6058),tn=o(686);const sn=(0,a.Ay)(en.P.div)(nn||(nn=(0,i.A)(["\n  cursor: pointer;\n"]))),rn=n=>{let{handlePostLike:e,isPostLike:o}=n;return(0,Q.jsx)(sn,{onClick:e,whileTap:{scale:.9},transition:{duration:.2},children:o?(0,Q.jsx)(on.DR4,{style:{fontSize:24}}):(0,Q.jsx)(tn.MUx,{style:{fontSize:24}})})};var an,ln=o(8371);const dn=(0,a.Ay)(ln.A)(an||(an=(0,i.A)(["\n  font-weight: 700;\n  background-color: rgb(38, 38, 38);\n  width: 250px;\n  min-height: 48px;\n  padding: 4px 8px;\n  border-bottom: 1px solid rgb(54, 54, 54);\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: rgb(29, 29, 29);\n  }\n"]))),{Kakao:cn}=window,xn=n=>{let{post:e}=n;return(0,t.useEffect)((()=>{window.Kakao&&(window.Kakao.cleanup(),window.Kakao.init("34f0b2dd3ad0dec989eefe63a1463149"))}),[]),(0,Q.jsx)(dn,{type:"button",onClick:()=>{(()=>{var n,o;e&&cn.Share.sendCustom({templateId:107624,templateArgs:{post_id:"post/".concat(null===e||void 0===e?void 0:e._id),avatar:"".concat(null===e||void 0===e||null===(n=e.author)||void 0===n?void 0:n.avatar),nickname:"".concat(null===e||void 0===e||null===(o=e.author)||void 0===o?void 0:o.nickname),postImg:"".concat(null===e||void 0===e?void 0:e.images[0]),contents:"".concat(null!==e&&void 0!==e&&e.contents?null===e||void 0===e?void 0:e.contents.replace(/<[^>]*>?/gm,""):"#\uacf5\ucc28 #\ud558\uc774!"),like:"".concat(null===e||void 0===e?void 0:e.postLikeCount),commentCount:"".concat(null===e||void 0===e?void 0:e.postCommentCount)}})})()},children:"\uacf5\uc720\ud558\uae30"})};var pn,un,hn,mn,gn,vn,jn;const yn=a.Ay.div(pn||(pn=(0,i.A)(["\n  min-width: 335px;\n  width: 100%;\n  background-color: black;\n"]))),kn=a.Ay.div(un||(un=(0,i.A)(["\n  display: flex;\n  align-items: center;\n  padding: 0.5rem 1rem;\n  padding-top: 3.5rem;\n\n  .user-nickname {\n    font-size: 14px;\n    line-height: 18px;\n    font-weight: 600;\n  }\n\n  .user-image {\n    width: 32px;\n    height: 32px;\n    border-radius: 50%;\n    object-fit: cover;\n    flex-shrink: 0;\n    margin-right: 10px;\n  }\n"]))),bn=a.Ay.ul(hn||(hn=(0,i.A)(["\n  height: calc(100% - 200px);\n  margin: 0;\n  overflow-y: scroll;\n  padding: 16px;\n  scrollbar-width: none;\n  background-color: black;\n\n  @media (max-width: 768px) {\n    height: 150px;\n    padding-top: 0;\n    overflow-y: initial;\n  }\n"]))),fn=a.Ay.li(mn||(mn=(0,i.A)(["\n  display: flex;\n  align-items: start;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]))),wn=a.Ay.div(gn||(gn=(0,i.A)(["\n  width: 100%;\n  max-width: 335px;\n  font-size: 14px;\n  line-height: 18px;\n  gap: 5px;\n\n  @media (max-width: 768px) {\n    max-width: 100%;\n    font-size: 12px;\n  }\n"]))),An=a.Ay.section(vn||(vn=(0,i.A)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 23px;\n  color: rgb(245, 245, 245);\n  width: 100%;\n  padding: 0.2rem 0;\n  .bookmark {\n    margin-left: auto;\n  }\n\n  .section-icons {\n    cursor: pointer;\n  }\n"]))),Ln=a.Ay.div(jn||(jn=(0,i.A)(["\n  color: rgb(168, 168, 168);\n  font-size: 12px;\n"]))),Cn=n=>{var e,o,i;let{user:t,post:s,commentListResponse:r,commentListLoading:a,postLoading:l,isPostLike:d,isBookmark:c}=n;const x=(0,L.lZ)(C.iz),{mutate:p}=K(null===s||void 0===s?void 0:s._id,t),{mutate:u}=P(null===s||void 0===s?void 0:s._id,t);return(0,Q.jsxs)(yn,{children:[(0,Q.jsx)(R.A,{text:"\uac8c\uc2dc\ubb3c"}),(0,Q.jsx)(kn,{children:l?(0,Q.jsx)(F.A,{}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("img",{className:"user-image",src:null===s||void 0===s||null===(e=s.author)||void 0===e?void 0:e.avatar,alt:"userImage"}),(0,Q.jsx)("div",{className:"user-nickname",children:null===s||void 0===s||null===(o=s.author)||void 0===o?void 0:o.nickname}),(0,Q.jsx)(xn,{post:s})]})}),(0,Q.jsx)(Y,{url:null===s||void 0===s?void 0:s.images,postLoading:l}),(0,Q.jsxs)(bn,{children:[(0,Q.jsxs)(fn,{children:[(0,Q.jsxs)(An,{children:[(0,Q.jsx)(rn,{handlePostLike:()=>{t?p({postId:null===s||void 0===s?void 0:s._id}):h.oR.warning("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.")},isPostLike:d}),(0,Q.jsx)(A.N_,{to:"/".concat(null===s||void 0===s?void 0:s._id,"/commentList"),onClick:()=>x(!0),children:(0,Q.jsx)("div",{className:"section-icons",children:(0,Q.jsx)(w.NWn,{})})}),(0,Q.jsx)("div",{className:"bookmark section-icons",onClick:()=>{t?u({postId:null===s||void 0===s?void 0:s._id}):h.oR.warning("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.")},children:c?(0,Q.jsx)(f.U$b,{}):(0,Q.jsx)(b.NaU,{})})]}),(0,Q.jsxs)(wn,{children:[(0,Q.jsxs)("b",{children:["\uc88b\uc544\uc694"," ",new Intl.NumberFormat("ko-KR").format((null===s||void 0===s?void 0:s.postLikeCount)||0),"\uac1c"]}),(0,Q.jsx)("br",{}),(0,Q.jsx)(v.A,{children:(0,Q.jsxs)("span",{children:[(0,Q.jsxs)("b",{children:[null===s||void 0===s||null===(i=s.author)||void 0===i?void 0:i.nickname," "]}),(0,Q.jsx)("span",{dangerouslySetInnerHTML:{__html:(null===s||void 0===s?void 0:s.contents)||""}})]})})]})]}),(0,Q.jsx)(A.N_,{to:"/".concat(null===s||void 0===s?void 0:s._id,"/commentList"),children:(0,Q.jsxs)(Ln,{children:["\ub313\uae00 ",null===r||void 0===r?void 0:r.pages[0].totalCount,"\uac1c \ubaa8\ub450 \ubcf4\uae30"]})}),(0,Q.jsxs)(Ln,{children:[s&&(0,y.B)(new Date,new Date(s.date),{locale:k.ko}),"\uc804"]})]})]})};var Nn=o(1462),_n=o(9698),zn=o(2668),In=o(4707);const Pn=async n=>{let{postId:e}=n;const o=await c.A.delete("/api/posts/".concat(e));return"\ub9ac\ud504\ub808\uc2dc \ud1a0\ud070 \ub9cc\ub8cc\ub428"===o.msg&&(h.oR.error("\ub85c\uadf8\uc778 \uae30\ud55c\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694!"),setTimeout((()=>{window.location.reload()}),1200)),o.data},Fn=()=>{const n=(0,r.Zp)(),e=(0,N.jE)();return(0,_.n)({mutationFn:Pn,mutationKey:["post-delete"],onSuccess:o=>{e.invalidateQueries({queryKey:[x.Z.posts],refetchType:"all"}),n(-1)},onError:n=>{var e;console.log("error:",n),h.oR.error("\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694"),401===(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.status)&&setTimeout((()=>{window.location.reload()}),1200)}})};var Rn,Tn,Kn,En,$n,Sn=o(9945);const qn=(0,a.i7)(Rn||(Rn=(0,i.A)(["\n  0% {\n    opacity: 0;\n    scale: 0;\n  }\n  50% {\n    opacity: 1;\n    scale: 1.1;\n  }\n  100%{\n    scale: 1;\n  }\n"]))),Bn=a.Ay.div(Tn||(Tn=(0,i.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 100vh;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 30;\n  overflow: hidden;\n"]))),Wn=a.Ay.div(Kn||(Kn=(0,i.A)(["\n  display: flex;\n  flex-direction: column;\n  animation: "," 0.3s ease-in-out;\n"])),qn),Zn=(0,a.Ay)(ln.A)(En||(En=(0,i.A)(["\n  font-weight: 700;\n  background-color: rgb(38, 38, 38);\n  width: 250px;\n  min-height: 48px;\n  padding: 4px 8px;\n  border-bottom: 1px solid rgb(54, 54, 54);\n  transition: all 0.3s ease;\n  border-bottom-left-radius: ",";\n  border-bottom-right-radius: ",";\n  color: ",";\n\n  &:first-child {\n    border-top-left-radius: 12px;\n    border-top-right-radius: 12px;\n  }\n\n  &:hover {\n    background-color: rgb(29, 29, 29);\n  }\n"])),(n=>{let{$last:e}=n;return e?"12px":"0px"}),(n=>{let{$last:e}=n;return e?"12px":"0px"}),(n=>{let{$danger:e}=n;return e?"rgb(237, 73, 86)":"#fff"})),Qn=(0,a.Ay)(A.N_)($n||($n=(0,i.A)(["\n  background-color: rgb(38, 38, 38);\n  border-bottom-left-radius: 0px;\n  border-bottom-right-radius: 0px;\n"]))),Dn=n=>{var e;let{text:o,text2:i,post:s,handleConfirm:r,handleCancel:a}=n;const[d,c]=(0,t.useState)(!1),{user:x}=(0,l.J)(),{mutate:p}=Fn(),u=(0,t.useCallback)((()=>{s&&(p({postId:s._id}),c(!1),a())}),[s]);return(0,Q.jsxs)(Q.Fragment,{children:[d&&(0,Q.jsx)(Sn.A,{text:"\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? (\uc608)",handleConfirm:()=>{u()},handleCancel:()=>c(!1)}),(0,Q.jsx)(Bn,{children:(0,Q.jsxs)(Wn,{children:[(null===x||void 0===x?void 0:x._id)===(null===s||void 0===s||null===(e=s.author)||void 0===e?void 0:e._id)&&x&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(Zn,{type:"button",onClick:()=>c(!0),$danger:"true",children:o}),(0,Q.jsx)(Qn,{to:"/post/edit/".concat(null===s||void 0===s?void 0:s._id),children:(0,Q.jsx)(Zn,{type:"button",children:i})})]}),(0,Q.jsx)(xn,{post:s}),(0,Q.jsx)(Zn,{type:"button",onClick:a,$last:"true",children:"\ucde8\uc18c"})]})})]})};var Un,Hn,Jn,Mn,Gn,On,Vn,Xn,Yn,ne,ee,oe=o(3704);const ie=a.Ay.div(Un||(Un=(0,i.A)(["\n  min-width: 335px;\n  background-color: black;\n"]))),te=a.Ay.div(Hn||(Hn=(0,i.A)(["\n  display: flex;\n  align-items: center;\n  padding: 0.5rem 1rem;\n  border-bottom: 1px solid rgb(38, 38, 38);\n\n  .user-nickname {\n    font-size: 14px;\n    line-height: 18px;\n    font-weight: 600;\n  }\n\n  .user-image {\n    width: 35px;\n    height: 35px;\n    border-radius: 50%;\n    object-fit: cover;\n    flex-shrink: 0;\n    margin-right: 10px;\n  }\n"]))),se=a.Ay.ul(Jn||(Jn=(0,i.A)(["\n  height: calc(100% - 200px);\n  margin: 0;\n  overflow-y: scroll;\n  padding: 16px;\n  scrollbar-width: none;\n"]))),re=a.Ay.li(Mn||(Mn=(0,i.A)(["\n  display: flex;\n  align-items: start;\n"]))),ae=a.Ay.img(Gn||(Gn=(0,i.A)(["\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  object-fit: cover;\n  flex-shrink: 0;\n  margin-right: 10px;\n"]))),le=a.Ay.div(On||(On=(0,i.A)(["\n  display: flex;\n  width: 100%;\n  max-width: 335px;\n  font-size: 14px;\n  line-height: 18px;\n  gap: 5px;\n"]))),de=a.Ay.div(Vn||(Vn=(0,i.A)(["\n  width: 100%;\n  border-top: 1px solid rgb(38, 38, 38);\n  padding-top: 6px;\n  span {\n    cursor: pointer;\n    padding-top: 6px;\n    font-size: 14px;\n    color: rgb(245, 245, 245);\n    line-height: 18px;\n    font-weight: 600;\n  }\n"]))),ce=a.Ay.section(Xn||(Xn=(0,i.A)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 23px;\n  color: rgb(245, 245, 245);\n\n  .bookmark {\n    margin-left: auto;\n  }\n\n  .section-icons {\n    cursor: pointer;\n  }\n"]))),xe=a.Ay.div(Yn||(Yn=(0,i.A)(["\n  padding: 0 16px;\n"]))),pe=a.Ay.div(ne||(ne=(0,i.A)(["\n  cursor: pointer;\n  margin-left: auto;\n"]))),ue=a.Ay.div(ee||(ee=(0,i.A)(["\n  color: rgb(168, 168, 168);\n  font-size: 12px;\n"]))),he=Array(12).fill(0),me=n=>{var e,o,i,s,r;let{user:a,post:l,commentListResponse:d,commentListLoading:c,postLoading:x,fetchNext:p,hasNextPage:u,isFetchingNextPage:m,isPostLike:g,isBookmark:j}=n;const[A,N]=(0,t.useState)(!1),_=(0,L.lZ)(C.iz),{mutate:z}=K(null===l||void 0===l?void 0:l._id,a),{mutate:I}=P(null===l||void 0===l?void 0:l._id,a);return(0,Q.jsxs)(Q.Fragment,{children:[A&&(0,Q.jsx)(Dn,{text:"\uc0ad\uc81c\ud558\uae30",text2:"\uc218\uc815\ud558\uae30",post:l,handleCancel:()=>N(!1)}),(0,Q.jsx)(Y,{postLoading:x,url:null===l||void 0===l?void 0:l.images}),(0,Q.jsxs)(ie,{children:[x?(0,Q.jsx)(F.A,{}):(0,Q.jsxs)(te,{children:[(0,Q.jsx)(ae,{src:null===l||void 0===l||null===(e=l.author)||void 0===e?void 0:e.avatar,alt:"userImage"}),(0,Q.jsx)("div",{className:"user-nickname",children:null===l||void 0===l||null===(o=l.author)||void 0===o?void 0:o.nickname}),(0,Q.jsx)(pe,{onClick:()=>N(!0),children:(0,Q.jsx)(Nn.Ym0,{})})]}),(0,Q.jsxs)(se,{children:[x?(0,Q.jsx)(F.A,{}):(0,Q.jsxs)(re,{children:[(0,Q.jsx)(ae,{src:null===l||void 0===l||null===(i=l.author)||void 0===i?void 0:i.avatar,alt:"userImage"}),(0,Q.jsx)(le,{children:(0,Q.jsxs)("span",{children:[(0,Q.jsxs)("b",{children:[null===l||void 0===l||null===(s=l.author)||void 0===s?void 0:s.nickname," "]}),(0,Q.jsx)("span",{dangerouslySetInnerHTML:{__html:(null===l||void 0===l?void 0:l.contents)||""}})]})})]}),(0,Q.jsx)(v.A,{$direction:"column",style:{height:"100%"},children:c?(0,Q.jsx)(Q.Fragment,{children:he.map(((n,e)=>(0,Q.jsx)("div",{children:(0,Q.jsx)(F.A,{})},e)))}):(0,Q.jsxs)(Q.Fragment,{children:[null===d||void 0===d||null===(r=d.pages)||void 0===r?void 0:r.map(((n,e)=>{var o;return 0!==(null===n||void 0===n||null===(o=n.commentList)||void 0===o?void 0:o.length)?n.commentList.map((n=>(0,Q.jsx)(In.A,{postId:null===l||void 0===l?void 0:l._id,comment:n},n._id))):(0,Q.jsxs)(v.A,{style:{height:"100%"},$justifyContent:"center",$alignItems:"center",$direction:"column",children:[(0,Q.jsx)(oe.A,{tag:"h3",children:"\uc544\uc9c1 \ub313\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,Q.jsx)(oe.A,{tag:"h5",children:"\ub313\uae00\uc744 \ub0a8\uaca8\ubcf4\uc138\uc694."})]},e)})),m?(0,Q.jsx)("img",{src:"/spinner.svg",alt:"loading",className:"spinner"}):(0,Q.jsx)(Q.Fragment,{children:u&&(0,Q.jsx)("div",{onClick:()=>p(),children:(0,Q.jsx)(v.A,{$justifyContent:"center",$alignItems:"center",style:{minHeight:"40px",fontSize:"20px",marginTop:"10px",cursor:"pointer"},children:(0,Q.jsx)(_n.GZN,{})})})})]})})]}),(0,Q.jsxs)(de,{children:[(0,Q.jsxs)(xe,{children:[(0,Q.jsxs)(ce,{children:[(0,Q.jsx)(rn,{handlePostLike:()=>{a?z({postId:null===l||void 0===l?void 0:l._id}):h.oR.warning("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.")},isPostLike:g}),(0,Q.jsx)("div",{className:"section-icons",onClick:()=>_(!0),children:(0,Q.jsx)(w.NWn,{})}),(0,Q.jsx)("div",{className:"bookmark section-icons",onClick:()=>{a?I({postId:null===l||void 0===l?void 0:l._id}):h.oR.warning("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.")},children:j?(0,Q.jsx)(f.U$b,{}):(0,Q.jsx)(b.NaU,{})})]}),(0,Q.jsxs)("span",{children:["\uc88b\uc544\uc694"," ",new Intl.NumberFormat("ko-KR").format((null===l||void 0===l?void 0:l.postLikeCount)||0),"\uac1c"]})," ",(0,Q.jsx)("br",{}),(0,Q.jsxs)(ue,{children:[l&&(0,y.B)(new Date,new Date(l.date),{locale:k.A}),"\uc804"]})]}),(0,Q.jsx)(zn.A,{post:l})]})]})]})};var ge,ve,je,ye,ke;const be=(0,a.i7)(ge||(ge=(0,i.A)(["\n  0% {\n    opacity: 0;\n    scale: 0;\n  }\n  50% {\n    opacity: 1;\n    scale: 1.1;\n  }\n  100%{\n    scale: 1;\n  }\n  "]))),fe=a.Ay.div(ve||(ve=(0,i.A)(["\n  width: 100%;\n  height: 100vh;\n  background-color: black;\n"]))),we=a.Ay.div(je||(je=(0,i.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 100vh;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 20;\n  overflow: hidden;\n  animation: "," 0.3s ease-in-out;\n\n  @media (max-width: 768px) {\n    align-items: start;\n    overflow-y: scroll;\n  }\n"])),be),Ae=a.Ay.div(ye||(ye=(0,i.A)(["\n  max-width: calc(100% - 64px - 64px);\n  max-height: calc(100vh - 150px);\n  height: ",";\n  transition: all 0.3s ease;\n  border: 1px solid rgb(38, 38, 38);\n\n  @media (max-width: 768px) {\n    max-width: initial;\n    max-height: initial;\n  }\n"])),(n=>{let{$boxheight:e}=n;return"".concat(e,"px")})),Le=a.Ay.div(ke||(ke=(0,i.A)(["\n  position: absolute;\n  right: 30px;\n  font-size: 2rem;\n  color: #fff;\n  cursor: pointer;\n  @media (max-width: 768px) {\n    display: none;\n  }\n"]))),Ce=()=>{const n=(0,r.g)(),e=(0,r.Zp)(),[o,i]=(0,t.useState)(window.innerWidth<=768),[a,d]=(0,t.useState)(window.innerWidth/1.5),{user:c}=(0,l.J)(),{data:x,isLoading:h,error:y}=(0,u.A)(n.id),{data:k}=m(n.id),{data:b}=p(n.id),{data:f,isLoading:w,fetchNextPage:A,hasNextPage:L,isFetchingNextPage:C}=(0,g.A)(n.id),N=(0,t.useRef)(null),_=(0,t.useCallback)((async()=>{const n=await A();n.isError&&console.log(n.error)}),[A]);return(0,t.useEffect)((()=>{document.body.style.overflow="hidden";const n=n=>{27===n.keyCode&&e(-1)},o=n=>{N.current&&!N.current.contains(n.target)&&e(-1)},t=()=>{window.innerWidth<=768?i(!0):(d(window.innerWidth/1.875),i(!1))};return window.addEventListener("resize",t),document.addEventListener("mousedown",o),document.addEventListener("keydown",n),()=>{document.body.style.overflow="",document.removeEventListener("mousedown",o),document.removeEventListener("keydown",n),window.removeEventListener("resize",t)}}),[]),y?(0,Q.jsx)(j.default,{}):(0,Q.jsx)(fe,{children:(0,Q.jsx)(we,{children:(0,Q.jsx)(Ae,{$boxheight:a,ref:N,children:(0,Q.jsxs)(v.A,{$justifyContent:"center",style:{height:"100%"},children:[(0,Q.jsx)(Le,{onClick:()=>{e(-1)},children:(0,Q.jsx)(s.WQq,{})}),o?(0,Q.jsx)(Cn,{post:x,commentListResponse:f,commentListLoading:w,postLoading:h,user:c,isPostLike:k,isBookmark:b}):(0,Q.jsx)(me,{post:x,user:c,commentListResponse:f,commentListLoading:w,postLoading:h,fetchNext:_,hasNextPage:L,isFetchingNextPage:C,isPostLike:k,isBookmark:b})]})})})})}},780:(n,e,o)=>{o.d(e,{h:()=>i});const i={myPosts:"myPosts",myBookmark:"myBookmark"}}}]);
//# sourceMappingURL=734.b7be7442.chunk.js.map